<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SDä½¿ç”¨å’ŒLoraæ¨¡å‹è®­ç»ƒ</title>
      <link href="/posts/ba51ac6f.html"/>
      <url>/posts/ba51ac6f.html</url>
      
        <content type="html"><![CDATA[<h2 id="SDä½¿ç”¨å’ŒLoraæ¨¡å‹è®­ç»ƒ"><a href="#SDä½¿ç”¨å’ŒLoraæ¨¡å‹è®­ç»ƒ" class="headerlink" title="SDä½¿ç”¨å’ŒLoraæ¨¡å‹è®­ç»ƒ"></a>SDä½¿ç”¨å’ŒLoraæ¨¡å‹è®­ç»ƒ</h2><p>  æœ€è¿‘ä¸€ç›´æ²¡æœ‰æ›´æ–°åšå®¢ï¼Œä¸€æ–¹é¢å› ä¸ºè‡ªå·±åœ¨å‡†å¤‡å®ä¹ éœ€è¦çš„ä¸œè¥¿æ—¶é—´å¾ˆèµ¶ï¼Œå¦ä¸€æ–¹é¢å°±æ˜¯å› ä¸ºAIç»˜ç”»ç©å…·å•¦ã€‚</p><p>  æˆ‘ä¸€ç›´éƒ½è®¤ä¸ºäººçš„æ—¶é—´æ˜¯æœ‰é™ä¸”çŸ­æš‚çš„ï¼Œåº”è¯¥åœ¨åº”è¯¥çš„å¹´é¾„åšåº”è¯¥åšçš„æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œä½†æ˜¯è®¤è¯†æˆ‘çš„äººåº”è¯¥éƒ½çŸ¥é“æˆ‘æ˜¯ä¸ªè€é­”æ€”äºŒæ¬¡å…ƒäº†ğŸ¤£ğŸ¤£ï¼Œå¯¹äºå¯ä»¥ç”»å‡ºæˆ‘ç†æƒ³ä¸­çš„äººç‰©å›¾ç‰‡ï¼Œæˆ‘æ˜¯æ— æ³•å¿ä½ä¸å»äº†è§£çš„ã€‚<br>  (é¢˜å¤–è¯ï¼Œå¦‚æœæ²¡æœ‰æ¥è§¦äºŒæ¬¡å…ƒçš„è¯ä¾¿ä¸ä¼šæœ‰ç°åœ¨ä¸€ç›´åŠªåŠ›å­¦ä¹ çš„è‡ªå·±ï¼Œå†ä¹Ÿä¸æƒ³å›åˆ°ä»€ä¹ˆéƒ½åšä¸åˆ°çš„è‡ªå·±äº†ã€‚ä¸ºæ­¤æˆ‘ä¼šä¸€ç›´åŠªåŠ›ä¸‹å»ï¼Œæ¯å¤©å……æ»¡åŠ¨åŠ›ï¼Œæ²¿é€”æ˜¥æš–èŠ±å¼€ã€‚)</p><h3 id="Stable-Diffusion"><a href="#Stable-Diffusion" class="headerlink" title="Stable Diffusion"></a>Stable Diffusion</h3><ul><li><p>éœ€è¦æ˜¾å¡æ˜¯Nå¡ä¸”å®‰è£…å¥½<a href="https://www.nvidia.cn/geforce/drivers/">Nå¡GPUé©±åŠ¨</a></p></li><li><p>è¿™é‡Œæˆ‘æ˜¯ä½¿ç”¨çš„æ¥è‡ª<a href="https://space.bilibili.com/12566101">Bç«™é˜¿å©†ä¸»ç§‹è‘‰</a>æ‰€å‘å¸ƒçš„<a href="https://pan.baidu.com/s/1tmYETTYuWYcCTsJUk2zF0A?pwd=6drn">Stable Diffusion V4æ•´åˆåŒ…</a> éƒ¨ç½²åœ¨æœ¬åœ°ç”µè„‘çš„AIç»˜ç”»çš„</p></li><li><p>æ•´åˆåŒ…ä¸‹è½½ååŒ…æ‹¬ä¸¤ä¸ªæ–‡ä»¶</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/DQAX0_I2%5D~%5DX%7BEVR%5BLSK9LL.png" alt=""></p></li></ul><ol><li><p>é¦–å…ˆè¿è¡Œå¯åŠ¨å™¨ä¾èµ–</p></li><li><p>è§£å‹sd-webui-aki-v4.zip</p></li><li><p>è¿›å…¥sd-webui-aki-v4æ–‡ä»¶å¤¹æ‰“å¼€å¯åŠ¨å™¨åä¸€é”®å¯åŠ¨ç­‰å¾…æ§åˆ¶å°è¾“å‡ºå®Œæ¯•å¼¹å‡ºWeb Uiç•Œé¢å°±å¯ä»¥å¼€å§‹ç»˜å›¾å•¦</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683086006853.jpg" alt=""></p></li><li><p>æ•´åˆåŒ…å·²ç»å®‰è£…å¥½æ±‰åŒ–ï¼Œè¿™é‡Œçš„æ­£å‘æç¤ºè¯å°±æ˜¯è¾“å…¥ä½ æƒ³è¦è®©AIç”»å‡ºäººç‰©çš„æè¿°å•¦ï¼Œä¾‹å¦‚masterpiece,1 girl, very detailed CG, beautiful eyes, very detailed, Blackboard painting, complex details_ 1.2, 8k wallpaper, jkç­‰ç­‰ï¼Œé»˜è®¤ä½¿ç”¨è‹±æ–‡ï¼Œç”¨é€—å·åˆ†å‰²è¯è¯­ï¼Œè€Œè´Ÿé¢æç¤ºè¯åˆ™æ˜¯åç€æ¥äº†ï¼Œä¾‹å¦‚å†™å…¥worst quality,bad hands,malformed hands,worst quality,low quality,((((ugly)))),(((duplicate))),(((trans))),((trannsexual)),(out of frame),extra fingers,mutated hands,out of frame,extra limbs,(bad anatomy),grossproportions,(malformed limbs),((missing arms)),((missinglegs)),(((extra arms))),(((extra legs))) </p></li><li><p>ç­‰ç­‰</p><ul><li>è¿™é‡Œæ¨èä½¿ç”¨æˆ‘çš„TAGç”Ÿæˆå™¨</li></ul><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1682909507747.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Tianlin_Tag</div>  <p>è‡ªç”¨TAGç”Ÿæˆå·¥å…·</p>  <a href='https://tag.linjiangyu.com/'></a>  </figcaption>  </figure>  </div></li><li><p>å®é™…ç”Ÿæˆä¸€å¼ å§ï¼Œå› ä¸ºæˆ‘çš„ç ´çƒ‚ç”µè„‘æ˜¾å¡ä¸è¡Œï¼Œæ˜¾å­˜ä¸å¤Ÿæ‰€ä»¥è¿™é‡Œç­‰ä¸Šä¸ªæŠŠåˆ†é’Ÿéƒ½æ˜¯ä¸å¥‡æ€ªçš„ï¼Œå…·ä½“è¿˜æ˜¯çœ‹ä½ ä¸æ˜¾å¡ä¹‹é—´çš„ç¾ç»Šå§ğŸ¤£</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683087991679.jpg" alt=""></p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/00010-235500343-masterpiece,1%20girl,%20very%20detailed%20CG,%20beautiful%20eyes,%20very%20detailed,%20Blackboard%20painting,%20complex%20details_%201.2,%208k%20wallpaper,%20jk.png" alt=""></p><p>â€‹    è¿™é‡Œçœ‹å¯èƒ½ä¼šæœ‰ç‚¹æ¨¡ç³Šï¼Ÿæˆ‘è¿˜ç»è¿‡äº†å‹ç¼©æ‰ä¸Šä¼ æ˜¾ç¤ºåœ¨æ­¤ç½‘é¡µä¸­çš„åŸå› å§ï¼Œå¯ä»¥çœ‹åˆ°AIå¯ä»¥å¾ˆå¥½çš„ç»˜ç”»å‡ºæˆ‘ä»¬æ»¡æ„çš„å›¾ç‰‡</p><ul><li>è€Œä¸”åœ¨Stable Diffusionä¸­ä¹Ÿæœ‰å›¾ç‰‡æ”¾å¤§çš„è¿è¡Œï¼Œå›¾ç‰‡æ”¾å¤§å…¶å®æ˜¯åœ¨å·²çŸ¥åƒç´ ç‚¹çš„ä½ç½®ä¸Šä¼°ç®—æ–°çš„åƒç´ ç‚¹çš„å€¼ã€‚è¿™å¯ä»¥é€šè¿‡è®¡ç®—åŸå›¾åƒä¸­çš„ç›¸é‚»åƒç´ ç‚¹çš„å¹³å‡å€¼æˆ–åŠ æƒå¹³å‡å€¼æ¥å®ç°ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åŸå›¾åƒä¸­çš„æ¯ä¸ªåƒç´ ç‚¹ä¹‹é—´ä¼°ç®—å‡ºæ–°çš„åƒç´ ç‚¹çš„å€¼ï¼Œä»è€Œæ¥å¢åŠ å›¾åƒçš„åˆ†è¾¨ç‡å’Œæ¸…æ™°åº¦</li><li>Stable Diffusionéå¸¸å¼ºå¤§ï¼Œç”šè‡³è¿˜æ”¯æŒæ–‡ä»¶å¤¹ä¸­å›¾ç‰‡æ‰¹é‡å¤„ç†è¾“å‡º</li></ul><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683088698837.png" alt=""></p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683089264426.jpg" alt=""></p><p>åœ¨è¿™é‡Œä¸Šä¼ ä½ éœ€è¦æ”¾å¤§å¤„ç†çš„å›¾ç‰‡ï¼Œæˆ‘ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨BSRGANç®—æ³•æ¥æ”¾å¤§å¤„ç†çš„ï¼Œç¼©æ”¾æ¯”ä¾‹ä¹Ÿæ˜¯å¸¸ç”¨çš„3ï¼Œæœ€é«˜å¯ä»¥åˆ°8ï¼Œåˆ†è¾¨ç‡è°ƒåˆ°å¤ªé«˜çš„æ—¶å€™å›¾ç‰‡çš„çº¿æ¡ä¼šè¿‡åˆ†æ˜æ˜¾æˆ‘å¹¶ä¸å–œæ¬¢ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨3å€çš„ç¼©æ”¾æ¯”ä¾‹å’ŒBSRGANç®—æ³•å¤„ç†åçš„å›¾ç‰‡</p><div class="hide-block"><button type="button" class="hide-button" style="background-color: orange;">ç‚¹å‡»æŸ¥çœ‹     </button><div class="hide-content"><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1279261927392739.png" alt=""></p></div></div><p>å¯ä»¥çœ‹å‡º3å€çš„ç¼©æ”¾æ¯”ä¾‹ä¾¿å·²ç»å¯ä»¥è¾¾åˆ°éå¸¸å¥½çš„æ•ˆæœäº†ï¼Œæˆ‘çš„å»ºè®®æ˜¯ä½¿ç”¨3-4ä¹‹é—´</p></li></ol><h3 id="Loraçš„è®­ç»ƒ"><a href="#Loraçš„è®­ç»ƒ" class="headerlink" title="Loraçš„è®­ç»ƒ"></a>Loraçš„è®­ç»ƒ</h3><h4 id="å‡†å¤‡æ¡ä»¶å’Œç´ æ"><a href="#å‡†å¤‡æ¡ä»¶å’Œç´ æ" class="headerlink" title="å‡†å¤‡æ¡ä»¶å’Œç´ æ"></a>å‡†å¤‡æ¡ä»¶å’Œç´ æ</h4><p>â€‹    å¯¹äºä¸€ä¸ªå–œæ¬¢çœ‹è½»å°è¯´çš„æ­»äºŒæ¬¡å…ƒæ¥è¯´ï¼Œè½»å°è¯´ä¸­çš„æ’å›¾æ€»æ˜¯è§‰å¾—æ€ä¹ˆçœ‹                    éƒ½çœ‹ä¸å¤Ÿï¼Œè€Œä¸”æœ‰äº›ç”»è´¨ä¹Ÿæ˜¯ç»è¿‡ä¸€ä¼ å†ä¼ è¢«å„ç§ç¤¾äº¤è½¯ä»¶ä¸€å†å‹ç¼©ï¼Œåˆ°æ‰‹çš„å›¾ç‰‡ä¹Ÿæ€»æ˜¯æ„Ÿè§‰æ¸…æ™°åº¦ä¸é«˜ï¼Œè€Œå°±ç®—ä½ æŠŠæ‰€æœ‰å…³äºä½ æƒ³è¦ç”Ÿæˆçš„äººç‰©çš„å„ç§ç»†èŠ‚éƒ½æè¿°å‡ºæ¥ï¼ŒAIç»˜å›¾ä¹Ÿæ— æ³•å°†äººç‰©çš„æ ·å¼å®Œæ•´çš„å¤ç°å‡ºæ¥ï¼Œä¸€èˆ¬å¯¹äºä¸“è¦äº§å‡ºå›¾ç‰‡çš„è§’è‰²å°±è¦ç”¨åˆ°Loraæˆ–è€…embeddingäº†ï¼Œè¿™é‡Œä¸»è¦è®²çš„æ˜¯å¦‚ä½•è®­ç»ƒä¸€ä¸ªä¸“æœ‰äººç‰©çš„Loraæ¨¡å‹ã€‚</p><ul><li>ä¸€èˆ¬çš„Loraæ¨¡å‹æ–‡ä»¶æ˜¯ä»¥safetensorsä¸ºåç¼€çš„è®­ç»ƒæ¨¡å‹æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨SD_ROOT/models/Loraä¸­ã€‚</li><li><p>è®­ç»ƒçš„è¦æ±‚</p><ol><li><p>æ˜¾å­˜ï¼Œéœ€è¦æœ€å°‘ä¸º8Gçš„ç”µè„‘æ˜¾å­˜æ‰èƒ½è¿›è¡Œæœ€ä½çš„æœ¬åœ°è¿è¡Œè®­ç»ƒ(æˆ‘çš„ç ´çƒ‚ç”µè„‘å“ªé‡Œä¼šæœ‰8Gæ˜¾å­˜,æ‰€ä»¥è¿™é‡Œå†™çš„ä¾¿æ˜¯ç™½å«–äº‘ç«¯è¿è¡Œè®­ç»ƒLoraæ¨¡å‹)</p></li><li><p>å›¾ç‰‡ï¼Œéœ€è¦è‡³å°‘10å¼ ä»¥ä¸Šçš„è¾ƒé«˜æ¸…æ™°åº¦ï¼Œè¾ƒæ— æ‚ç‰©çš„äººç‰©å›¾ç‰‡(ä¹Ÿå°±æ˜¯æœ€å¥½å°‘ç‚¹èƒŒæ™¯ç‰©å“ä»€ä¹ˆçš„ï¼Œå¤šä¸ºäººç‰©çš„å•ç‹¬å±•ç¤ºå›¾æœ€å¥½)ï¼Œè€Œä¸”éœ€è¦ç»è¿‡å¤„ç†æŠŠæ‰€æœ‰çš„å›¾ç‰‡çš„åˆ†è¾¨ç‡éƒ½è°ƒä¸ºä¸€è‡´(åˆ†è¾¨ç‡è¦æ˜¯64çš„å€æ•°ä¸”éƒ½ä¸èƒ½è¶…è¿‡1920),è¿™é‡Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨SDä¸­çš„åæœŸå¤„ç†è¿›è¡Œå›¾ç‰‡çš„åˆ†è¾¨ç‡æ”¾å¤§ï¼Œç„¶åä½¿ç”¨SDè®­ç»ƒä¸­çš„å›¾ç‰‡é¢„å¤„ç†è¿›è¡Œå¯¹å›¾ç‰‡è‡ªåŠ¨é¢éƒ¨ç„¦ç‚¹å‰ªè£çš„åˆ†è¾¨ç‡è£å‰ª(æˆ‘çš„æ¨èæ˜¯ä¸è¦è¶…è¿‡1280,1280çš„(è¿™é‡Œæˆ‘ä½¿ç”¨çš„å·®ä¸å¤š30å·¦å³å¼ çš„1280,1280çš„å›¾ç‰‡è®­ç»ƒçš„epochesæ•°ä¸º20çš„æ—¶å€™éƒ½è¦è®­ç»ƒåˆ°å·®ä¸å¤š4ä¸ªå°æ—¶å¤š)ï¼Œé™¤éå®¶é‡Œæœ‰æ¡ä»¶æ˜¯ç”¨çš„è‡ªå·±ç”µè„‘è®­ç»ƒçš„å¯ä»¥æŠŠåˆ†è¾¨ç‡æé«˜ï¼Œè®©è®­ç»ƒè¾¾åˆ°æœ€ä½³çš„æ•ˆæœ(è¿™é‡Œæˆ‘æ„Ÿè§‰ä¸æ˜¯epochesè®­ç»ƒæ•°è¶Šå¤šè¶Šå¥½ï¼Œè€Œä¸”æ”¯æŒå åŠ è®­ç»ƒçš„æ–¹å¼è®­ç»ƒæˆ‘åœ¨ä¸Šæ¬¡å åŠ è®­ç»ƒäº†8ä¸ªå°æ—¶å…¨éƒ¨ç™½æ­äº†ï¼Œå›¾ç‰‡çš„ç”Ÿæˆç›´æ¥æ•´ä¸ªå´©åï¼Œæ¨èå°±æ˜¯ä¸€æ¬¡æ€§ç»ƒå®Œ)</p></li><li><p>googleè´¦å·,è¿™é‡Œæ˜¯ä½¿ç”¨è°·æ­Œçš„Colabæ¥è¿›è¡Œäº‘ç«¯è®­ç»ƒ,googleæ¯å‘¨ä¼šåˆ·æ–°ä¸€æ¬¡è´¦å·çš„è¯•ç”¨Jupyter Notebookç¬”è®°æœ¬çš„æ—¶é•¿ï¼Œå®˜ç½‘è¯´æ˜¯ä¸€å‘¨æœ‰12å°æ—¶çš„æ—¶é—´ï¼Œä½†æ˜¯å®é™…ä¸Šä¸ºä½¿ç”¨çš„ä¼¤å®³ä¸€ä¸ªè´¦å·æœ€å¤šå°±6ä¸ªå°æ—¶å·¦å³çš„æ—¶é—´(ä¹‹å‰è®­ç»ƒåˆ°6ä¸ªå¤šå°æ—¶çš„æ¨¡å‹è¢«ä¸­æ–­äº†) (è¿™é‡Œä¼šç”¨æŒ‚è½½æŠŠè°·æ­Œç¡¬ç›˜æŒ‚è½½åˆ°Jupyter Notebookç¬”è®°æœ¬ä¸Šè€Œä¸”è®¾ç½®æ¨¡å‹çš„è¾“å‡ºç›®å½•ä¸ºæŒ‚è½½çš„è·¯å¾„ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…æ‰“æ°´æ¼‚ï¼Œå› ä¸ºæˆ‘éƒ½æ˜¯ä¸¤ä¸ªstepså°±ä¿å­˜ä¸€æ¬¡æ¨¡å‹,é‚£ä¹ˆå°±ç®—è®­ç»ƒè¢«ä¸­æ–­äº†ä¹Ÿå¯ä»¥åœ¨è°·æ­Œç¡¬ç›˜ä¸­ä¸‹è½½æœ€æ–°çš„ä¸­æ–­æ¨¡å‹ï¼Œä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„)</p></li><li><p>ç»™ä½ çš„å›¾ç‰‡æ‰“æ ‡ç­¾ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨SDä¸­çš„Taggeræ’ä»¶ï¼Œå¦‚æœæ˜¯ä½¿ç”¨ä¸Šé¢çš„æ•´åˆåŒ…çš„è¯æ˜¯æœ‰åŒ…å«åœ¨å†…çš„ï¼Œæƒ³è¦ä½¿ç”¨è¿™ä¸ªæ’ä»¶å¯¹å›¾ç‰‡è¿›è¡Œæ‰¹å¤„ç†éƒ½æ‰“ä¸Šæ ‡ç­¾ä¿å­˜åœ¨ç›¸åŒè·¯å¾„ä¸‹ç›¸åŒåå­—çš„txtæ–‡ä»¶ä¸­ç„¶ååé¢è¦ä¸Šä¼ åˆ°Jupyter Notebookç¬”è®°æœ¬ä¸­<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683166925138.png" alt=""></p><p>è¿™é‡Œçš„é˜€å€¼æ˜¯å®šä¹‰AIçš„æ ‡ç­¾è¯è¯­å¼ºåº¦èŒƒå›´ï¼Œæˆ‘è‡ªå·±ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨5.5</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683166978197.jpg" alt=""></p><p>é™„åŠ æç¤ºè¯åˆ™å¯ä»¥ç†è§£ä¸ºç»™æ¯ä¸ªå›¾ç‰‡éƒ½åŠ ä¸Šä¸€ä¸ªå±äºè‡ªå·±çš„æ ‡è®°å§ï¼Œä¸æ‡‚çš„è¯å¿½ç•¥å³å¯ï¼Œç„¶åç‚¹å‡»åæ¨æç¤ºè¯ä¾¿å¯ä»¥äº†ï¼Œé»˜è®¤çš„è¾“å‡ºä¹Ÿæ˜¯ä»¥å›¾ç‰‡æ–‡ä»¶åå­—ä¸ºå‰ç¼€ä»¥txtä¸ºåç¼€ï¼Œæ²¡æœ‰æŒ‡å®šç›®å½•ä¹Ÿæ˜¯é»˜è®¤çš„å›¾ç‰‡è·¯å¾„ä¸‹è¾“å‡ºçš„</p></li><li><p>å…·æœ‰ç§‘å­¦ä¸Šç½‘çš„èƒ½åŠ›(å› ä¸ºè®¿é—®Colabéœ€è¦)</p></li></ol></li></ul><h4 id="å¼€å§‹è®­ç»ƒ"><a href="#å¼€å§‹è®­ç»ƒ" class="headerlink" title="å¼€å§‹è®­ç»ƒ"></a>å¼€å§‹è®­ç»ƒ</h4><p>è¯´æ˜:è¿™é‡Œçš„æ¯ä¸€å°æ­¥éª¤éƒ½è¦æ–°æ·»åŠ ä¸€ä¸ªä»£ç å•å…ƒæ ¼</p><ol><li><p>é¦–å…ˆè¿›å…¥åˆ°<a href="https://colab.research.google.com/">Colab</a> åˆ›å»ºæ–°çš„ç¬”è®°æœ¬</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683167364878.jpg" alt=""></p></li><li><p>æ›´æ”¹è¿è¡Œç±»å‹ä¸ºGPUå¹¶ä¿å­˜</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683167480635.jpg" alt=""></p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683167536583.jpg" alt=""> æŸ¥çœ‹GPUå’ŒæŒ‚è½½ç£ç›˜</p><p>åœ¨ä»£ç æ¡†è¾“å…¥ç„¶åç‚¹å‡»å·¦ä¸Šè§’å¯åŠ¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">!nvidia-smi</span><br><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive</span><br><span class="line">drive.mount(<span class="string">&#x27;/content/drive/&#x27;</span>)</span><br><span class="line">!echo <span class="string">&quot;ç¡¬ç›˜æŒ‚è½½å®Œæˆ.&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¼šå¼¹å‡ºè®©ä½ å…è®¸ç¬”è®°æœ¬è®¿é—®å¹¶æˆæƒåˆ°è°·æ­Œç£ç›˜ï¼Œç›´æ¥å…è®¸ç„¶åçœ‹åˆ°è¾“å‡ºç¡¬ç›˜æŒ‚è½½å®Œæˆå°±å¯ä»¥äº†</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683167836877.jpg" alt=""></p></li><li><p>è¿è¡Œä¸€ç³»åˆ—é…ç½®</p><ul><li>ç‚¹å‡»æ·»åŠ ä»£ç æ¡†ç„¶åè¾“å…¥åæ‰§è¡Œ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">%cd /content/</span><br><span class="line">git_https = <span class="string">&quot;https://github.com/Akegarasu/lora-scripts&quot;</span></span><br><span class="line">!git clone --recurse-submodules &#123;git_https&#125;  /content/lora-scripts/</span><br><span class="line">!cd lora-scripts &amp;&amp; git pull &amp;&amp; git submodule update --init --recursive</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å…‹éš†å®Œæˆ ä½ å¯ä»¥åœ¨å®‰è£…ä¾èµ–æ—¶å»é…ç½®train.shæ–‡ä»¶&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#########</span></span><br><span class="line"><span class="comment">#è®¾ç½®train.shæ–‡ä»¶è·¯å¾„ï¼Œè¿™ä¸ªåœ¨å‡½æ•°ä¸­ä¼šè¢«ä½¿ç”¨</span></span><br><span class="line">train_sh_path = <span class="string">r&#x27;/content/lora-scripts/train.sh&#x27;</span></span><br><span class="line"><span class="comment">#########</span></span><br><span class="line"><span class="comment">#å®šä¹‰å‡½æ•°ï¼Œç¼–è¾‘train_sh_pathè·¯å¾„çš„æ–‡ä»¶ï¼Œä¸ºsearchçš„å‚æ•°èµ‹äºˆå€¼input</span></span><br><span class="line"><span class="comment">#searchä¸ºå­—ç¬¦ä¸²ï¼Œinputå¯ä»¥ä¸ºæ•°å€¼å’Œå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search_input</span>(<span class="params">search, <span class="built_in">input</span></span>):</span><br><span class="line">  <span class="comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">  <span class="comment">#åŒ¹é…æ ‡å¿—: 1åŒ¹é…search=&quot;&quot; ï¼Œ 2åŒ¹é…search=5 ï¼Œ 3ä¸“é—¨ä¸“é—¨åŒ¹é…extArgs=()</span></span><br><span class="line">  search_type_flag = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#searchä¸æ˜¯å­—ç¬¦ä¸²å°±æŠ¥é”™</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span>( <span class="built_in">isinstance</span>(search, <span class="built_in">str</span>) ):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;éå­—ç¬¦ä¸²çš„&#x27;search&#x27;å‚æ•°&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#å¦‚æœsearchè¾“å…¥çš„æ˜¯&quot;&quot;ï¼Œåˆ™ä¸“é—¨åŒ¹é…extArgs=()</span></span><br><span class="line">  <span class="keyword">if</span> search == <span class="string">&quot;&quot;</span>:</span><br><span class="line">    search = <span class="string">&quot;extArgs&quot;</span></span><br><span class="line">    pattern = <span class="string">rf&#x27;^<span class="subst">&#123;search&#125;</span>=(\(.*?\))&#x27;</span></span><br><span class="line">    replace = <span class="string">rf&#x27;<span class="subst">&#123;search&#125;</span>=(<span class="subst">&#123;<span class="built_in">input</span>&#125;</span>)&#x27;</span></span><br><span class="line">    search_type_flag = <span class="number">3</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># å¦‚æœinputæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼ŒåŒ¹é…search=&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(<span class="built_in">input</span>, <span class="built_in">str</span>):</span><br><span class="line">      <span class="comment">#pattern = rf&#x27;&#123;search&#125;=(&quot;.*?&quot;)&#x27;</span></span><br><span class="line">      <span class="comment">#replace = f&quot;&#123;search&#125;=\&quot;&#123;input&#125;\&quot;&quot;</span></span><br><span class="line">      pattern = <span class="string">rf&#x27;^<span class="subst">&#123;search&#125;</span>=(&quot;.*?&quot;)&#x27;</span></span><br><span class="line">      replace = <span class="string">rf&#x27;<span class="subst">&#123;search&#125;</span>=&quot;<span class="subst">&#123;<span class="built_in">input</span>&#125;</span>&quot;&#x27;</span></span><br><span class="line">      search_type_flag = <span class="number">1</span></span><br><span class="line">    <span class="comment"># å¦‚æœinputæ˜¯æ•°å€¼ç±»å‹ï¼ŒåŒ¹é…search= ï¼ˆå¯ä»¥åŒ¹é…å°æ•°ã€æ•´æ•°ã€ç§‘å­¦è®¡æ•°ï¼‰</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(<span class="built_in">input</span>, (<span class="built_in">int</span>, <span class="built_in">float</span>)):</span><br><span class="line">      pattern = <span class="string">rf&#x27;^<span class="subst">&#123;search&#125;</span>=([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?)&#x27;</span></span><br><span class="line">      replace = <span class="string">rf&#x27;<span class="subst">&#123;search&#125;</span>=<span class="subst">&#123;<span class="built_in">input</span>&#125;</span>&#x27;</span></span><br><span class="line">      search_type_flag = <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>: <span class="comment"># å…¶ä»–æƒ…å†µï¼Œå°±è¿”å›é”™è¯¯ä¿¡æ¯ </span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;é”™è¯¯çš„åŒ¹é…input&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#ä½¿ç”¨withè¯­å¥æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶è¯»å–å†…å®¹</span></span><br><span class="line">  <span class="keyword">with</span> <span class="built_in">open</span>(train_sh_path, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.read()</span><br><span class="line">    re_get = re.findall(pattern, content, flags=re.MULTILINE|re.DOTALL)</span><br><span class="line">    <span class="comment">#æ£€æŸ¥æ˜¯å¦åŒ¹é…åˆ°ï¼ŒåŒ¹é…ä¸åˆ°åˆ™æŠ¥é”™å¹¶é€€å‡º</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span>(re_get):</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&quot;è­¦å‘Šï¼ï¼ï¼å¯¹äº&#x27;<span class="subst">&#123;search&#125;</span>&#x27;çš„æ­£åˆ™è¡¨è¾¾å¼å¹¶æœªåŒ¹é…ï¼Œè¯·æ‰‹åŠ¨è®¾ç½®è¯¥å‚æ•°ï¼Œå¹¶ç§ä¿¡æˆ‘æ›´æ–°ï¼&quot;</span>)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="comment">#å¦‚æœåŒ¹é…åˆ°äº†æ‰§è¡Œæ¥ä¸‹æ¥æ“ä½œ</span></span><br><span class="line">    <span class="comment">#ä½¿ç”¨re.subå‡½æ•°è¿›è¡Œæ›¿æ¢ï¼Œå¹¶åŠ ä¸Šre.MULTILINEæ ‡å¿—</span></span><br><span class="line">    new_content = re.sub(pattern, replace, content, flags=re.MULTILINE|re.DOTALL, count=<span class="number">1</span>)</span><br><span class="line">    <span class="comment">#å¦‚æœå†…å®¹æœªæ›´æ”¹ï¼Œæç¤ºæœªæ”¹å˜ä»¥åŠå€¼</span></span><br><span class="line">    <span class="keyword">if</span> new_content == content:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;search&#125;</span>=<span class="subst">&#123;re_get[<span class="number">0</span>]&#125;</span>&quot;</span>)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="comment">#å¦‚æœæ”¹å˜åˆ™å†™å…¥ï¼Œè¾“å‡ºæ”¹å˜ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">with</span> <span class="built_in">open</span>(train_sh_path, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(new_content)</span><br><span class="line">      <span class="keyword">if</span> search_type_flag == <span class="number">1</span>: right = left = <span class="string">&quot;\&quot;&quot;</span></span><br><span class="line">      <span class="keyword">elif</span> search_type_flag == <span class="number">2</span>: right = left = <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="keyword">elif</span> search_type_flag == <span class="number">3</span>: right = <span class="string">&quot;)&quot;</span> ; left = <span class="string">&quot;(&quot;</span> </span><br><span class="line">      <span class="keyword">else</span>: <span class="built_in">print</span>(<span class="string">&quot;è¾“å…¥å‚æ•°é”™è¯¯&quot;</span>)</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&quot;å‘ç”Ÿä¿®æ”¹ï¼Œ<span class="subst">&#123;search&#125;</span>=<span class="subst">&#123;re_get[<span class="number">0</span>]&#125;</span>ç°åœ¨ä¸º<span class="subst">&#123;left&#125;</span><span class="subst">&#123;<span class="built_in">input</span>&#125;</span><span class="subst">&#123;right&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¨¡å‹è¾“å‡ºåœ°å€è¢«æ›´æ”¹è‡³&quot;/content/drive/MyDrive/Lora/output/&quot; </span></span><br><span class="line">output_dir = <span class="string">&quot;/content/drive/MyDrive/Lora/output/&quot;</span></span><br><span class="line">search_input(<span class="string">&quot;  --output_dir&quot;</span>, output_dir)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ¨¡å‹è¾“å‡ºåœ°å€é»˜è®¤è¢«æ›´æ”¹è‡³è°·æ­Œç¡¬ç›˜ï¼š<span class="subst">&#123;output_dir&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–logè¾“å‡ºè·¯å¾„</span></span><br><span class="line">logging_dir = output_dir + <span class="string">&quot;/logs&quot;</span></span><br><span class="line">search_input(<span class="string">&quot;  --logging_dir&quot;</span>, logging_dir)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;logæ—¥å¿—é»˜è®¤è¾“å‡ºè‡³è°·æ­Œç¡¬ç›˜ï¼š<span class="subst">&#123;logging_dir&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–sample_prompt.txtè·¯å¾„</span></span><br><span class="line">sample_prompt_txt_path = <span class="string">&quot;/content/lora-scripts/sample_prompt.txt&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;sample_prompt.txté»˜è®¤è·¯å¾„ä¸ºï¼š<span class="subst">&#123;sample_prompt_txt_path&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–è®­ç»ƒé›†è·¯å¾„</span></span><br><span class="line">train_data_dir = <span class="string">&quot;/content/lora-scripts/train/aki/&quot;</span></span><br><span class="line">search_input(<span class="string">&quot;train_data_dir&quot;</span>, train_data_dir)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;è®­ç»ƒé›†å°†æ‹·è´è‡³ï¼š<span class="subst">&#123;train_data_dir&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–æ­£åˆ™åŒ–é›†è·¯å¾„</span></span><br><span class="line">reg_data_dir = <span class="string">&quot;/content/lora-scripts/train/reg/&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ­£åˆ™åŒ–é›†å°†æ‹·è´è‡³ï¼š<span class="subst">&#123;reg_data_dir&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼ƒç”¨ä»£ç </span></span><br><span class="line"><span class="comment">#!sed -i &#x27;s/--output_dir=&quot;.\/output&quot;/--output_dir=&quot;/content/drive/MyDrive/Lora/output/&quot;/&#x27; /content/lora-scripts/train.sh</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################################################</span></span><br><span class="line"><span class="comment">#å£°æ˜extArgs_Contentç±»ï¼Œç”¨äºåœ¨ä¸åŒä»£ç å—ä¸­æ›´æ–°extArgsçš„å†…å®¹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ExtArgsContent</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    self.base_model = <span class="string">&quot;&quot;</span></span><br><span class="line">    self.vae = <span class="string">&quot;&quot;</span></span><br><span class="line">    self.common_parameter = <span class="string">&quot;&quot;</span></span><br><span class="line">    self.sample_parameter = <span class="string">&quot;&quot;</span></span><br><span class="line">    self.plus_parameter = <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="comment">#åˆå¹¶å…¨éƒ¨ç±»å±æ€§å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">all</span>(<span class="params">self</span>):</span><br><span class="line">    result = <span class="string">&quot;&quot;</span></span><br><span class="line">    attributes = self.__dict__.values()</span><br><span class="line">    <span class="keyword">for</span> attribute <span class="keyword">in</span> attributes:</span><br><span class="line">      result += attribute</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"><span class="comment">#å°†åœ¨ï¼ˆå…­ã€ä¸ƒï¼‰ä¸­è¢«ä½¿ç”¨</span></span><br><span class="line">extArgs_content = ExtArgsContent()</span><br><span class="line"></span><br><span class="line"><span class="comment">#################################################################</span></span><br><span class="line"><span class="comment">#ç”¨äºè¯»å–  --output_dir=&quot;&quot;å’Œ  --logging_dir=&quot;&quot;çš„å€¼ï¼Œæ¥ä¿®æ”¹8.2ä¸­ä¿å­˜è·¯å¾„</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search_get</span>(<span class="params">search</span>):</span><br><span class="line">  <span class="comment"># å¦‚æœinputæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼ŒåŒ¹é…search=&quot;&quot;</span></span><br><span class="line">  <span class="comment">#pattern = rf&#x27;&#123;search&#125;=(&quot;.*?&quot;)&#x27;</span></span><br><span class="line">  pattern = <span class="string">rf&#x27;^<span class="subst">&#123;search&#125;</span>=(&quot;.*?&quot;)&#x27;</span></span><br><span class="line">  <span class="comment">#ä½¿ç”¨withè¯­å¥æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶è¯»å–å†…å®¹</span></span><br><span class="line">  <span class="keyword">with</span> <span class="built_in">open</span>(train_sh_path, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    content = f.read()</span><br><span class="line">    re_get = re.findall(pattern, content, flags=re.MULTILINE|re.DOTALL)</span><br><span class="line">    <span class="keyword">return</span> re_get[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#################################################################</span></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–ï¼Œåœ¨ï¼ˆå…«ï¼‰ä¸­æ‰§è¡Œåˆ¤æ–­</span></span><br><span class="line">enable_sample = <span class="literal">False</span></span><br><span class="line">use_train_sh_self = <span class="literal">False</span></span><br><span class="line">use_sample_prompt_txt_self = <span class="literal">False</span></span><br></pre></td></tr></table></figure><ul><li><p>åˆ›å»ºè®­ç»ƒæ—¶çš„æ–‡ä»¶å¤¹</p><p>è¿™é‡Œæˆ‘è¦è¾“å‡ºçš„æ¨¡å‹ä¸ºTLailinï¼Œæ‰€ä»¥å°±ç›´æ¥å†™ä¸Šäº†ï¼Œå¦‚æœä½ è¦æ›´æ”¹çš„è¯ï¼Œåé¢å¯¹åº”çš„TLailinä¹Ÿéƒ½è¦æ›´æ”¹ä¸Šï¼Œè¾“å…¥åå¯åŠ¨è¿è¡Œï¼Œç„¶åå¯ä»¥åœ¨è¿™é‡Œä¸Šä¼ ä¹‹å‰çš„å·²å‡†å¤‡å¥½çš„å›¾ç‰‡å’ŒTaggeræ–‡ä»¶åˆ°è¿™é‡Œ</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!mkdir -pv /content/lora-scripts/train/TLailin/6_TLailin</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683168591611.jpg" alt=""></p><ul><li>å®‰è£…ä¾èµ–ç¯å¢ƒ(è¿™é‡Œç­‰å¾…çš„æ—¶é—´ä¼šæ¯”è¾ƒé•¿)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">!sudo apt-get update -y &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">!sudo apt-get install python3<span class="number">.10</span> &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="comment">#change alternatives é¦–é€‰py3.9</span></span><br><span class="line">!sudo update-alternatives --install /usr/<span class="built_in">bin</span>/python3 python3 /usr/<span class="built_in">bin</span>/python3<span class="number">.9</span> <span class="number">1</span>  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">!sudo update-alternatives --install /usr/<span class="built_in">bin</span>/python3 python3 /usr/<span class="built_in">bin</span>/python3<span class="number">.10</span> <span class="number">2</span>  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="comment">#check python version æŸ¥çœ‹ç‰ˆæœ¬ #3.10</span></span><br><span class="line">!python --version</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pythonå‡çº§ä¸­&quot;</span>)</span><br><span class="line"><span class="comment"># install pip for new python ä¸ºpy3.10å®‰è£…pip</span></span><br><span class="line">!sudo apt-get install python3<span class="number">.10</span>-distutils  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">!wget https://bootstrap.pypa.io/get-pip.py  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">!python get-pip.py  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="comment">#install colab&#x27;s dependencies å®‰è£…colabä¾èµ–</span></span><br><span class="line">!python -m pip install ipython ipython_genutils ipykernel jupyter_console prompt_toolkit httplib2 astor  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="comment"># link to the old google package å°†py3.9çš„è°·æ­Œä¾èµ–è¿æ¥è‡³3.10</span></span><br><span class="line">!ln -s /usr/local/lib/python3<span class="number">.9</span>/dist-packages/google \</span><br><span class="line">/usr/local/lib/python3<span class="number">.10</span>/dist-packages/google  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pythonå‡çº§å®Œæˆ 1/6&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿™æ˜¯ä¸€ä¸ªå¤‡ä»½æ›´æ–°python3.10.6çš„æ–¹å¼</span></span><br><span class="line"><span class="comment">#åˆ‡æ¢åˆ°python3.10</span></span><br><span class="line"><span class="comment">#!wget https://github.com/korakot/kora/releases/download/v0.10/py310.sh</span></span><br><span class="line"><span class="comment">#!bash ./py310.sh -b -f -p /usr/local</span></span><br><span class="line"><span class="comment">#!python -m ipykernel install --name &quot;py310&quot; --user</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###################################################################################</span></span><br><span class="line"><span class="comment">#å®‰è£…ç›¸å…³ç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line">pip_all_number = <span class="number">7</span></span><br><span class="line">pip_count = <span class="number">2</span></span><br><span class="line"><span class="comment">#å®‰è£…aria2</span></span><br><span class="line">!apt -qq install liblz4-tool aria2  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="comment">#å®‰è£…å…¶ä»–ä¾èµ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å…¶ä»–ä¾èµ–å®‰è£…ä¸­ï¼Œæ­¤æ­¥è€—æ—¶è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…&quot;</span>)</span><br><span class="line">%cd /content/lora-scripts/sd-scripts/</span><br><span class="line">!pip -q install --upgrade -r requirements.txt  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å…¶ä»–ä¾èµ–å®‰è£…å®Œæˆ <span class="subst">&#123;pip_count&#125;</span>/<span class="subst">&#123;pip_all_number&#125;</span>&quot;</span>)</span><br><span class="line">pip_count+=<span class="number">1</span></span><br><span class="line"><span class="comment">#å®‰è£…å…¼å®¹torch1.14.1çš„torchvision0.14.1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;torchvisionå®‰è£…ä¸­&quot;</span>)</span><br><span class="line">!pip -q install torchvision==<span class="number">0.14</span><span class="number">.1</span>  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;torchvision-0.14.1å®‰è£…å®Œæˆ <span class="subst">&#123;pip_count&#125;</span>/<span class="subst">&#123;pip_all_number&#125;</span>&quot;</span>)</span><br><span class="line">pip_count+=<span class="number">1</span></span><br><span class="line"><span class="comment">#å®‰è£…xformers 0.0.16ç‰ˆæœ¬</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;xformerså®‰è£…ä¸­&quot;</span>)</span><br><span class="line">!pip -q install xformers==<span class="number">0.0</span><span class="number">.16</span>  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;xformers-0.0.16å®‰è£…å®Œæˆ <span class="subst">&#123;pip_count&#125;</span>/<span class="subst">&#123;pip_all_number&#125;</span>&quot;</span>)</span><br><span class="line">pip_count+=<span class="number">1</span></span><br><span class="line"><span class="comment">#å®‰è£…Triton</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;tritonå®‰è£…ä¸­&quot;</span>)</span><br><span class="line">!pip -q install triton==<span class="number">2.0</span><span class="number">.0</span>.dev20221202  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Tritonå®‰è£…å®Œæˆ <span class="subst">&#123;pip_count&#125;</span>/<span class="subst">&#123;pip_all_number&#125;</span>&quot;</span>)</span><br><span class="line">pip_count+=<span class="number">1</span></span><br><span class="line"><span class="comment">#å®‰è£…lionä¼˜åŒ–å™¨ã€lycoris</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;lionä¼˜åŒ–å™¨ã€lycoriså®‰è£…ä¸­&quot;</span>)</span><br><span class="line">!pip -q install --upgrade lion-pytorch lycoris-lora  &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;lionä¼˜åŒ–å™¨ã€lycoriså®‰è£…å®Œæˆ <span class="subst">&#123;pip_count&#125;</span>/<span class="subst">&#123;pip_all_number&#125;</span>&quot;</span>)</span><br><span class="line">pip_count+=<span class="number">1</span></span><br><span class="line"><span class="comment">#å®‰è£…Dadaptionä¼˜åŒ–å™¨</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Dadaptionä¼˜åŒ–å™¨å®‰è£…ä¸­&quot;</span>)</span><br><span class="line">!pip -q install dadaptation   &gt; /dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Dadaptionä¼˜åŒ–å™¨å®‰è£…å®Œæˆ <span class="subst">&#123;pip_count&#125;</span>/<span class="subst">&#123;pip_all_number&#125;</span>&quot;</span>)</span><br><span class="line">pip_count+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#############################</span></span><br><span class="line"><span class="comment">#å¼€å¯tensorboard</span></span><br><span class="line">%load_ext tensorboard</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½è®­ç»ƒåº•æ¨¡ï¼Œç‚¹å‡»é€‰æ‹©å°±å¯ä»¥äº†ï¼Œä¸æ˜¯å¾ˆäº†è§£çš„è¯ç›´æ¥è¿è¡Œå°±å¯ä»¥</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#@title ### 6.1 ä¸‹è½½æ¨¡å‹</span></span><br><span class="line">installModels = []</span><br><span class="line">installv2Models = []</span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown ####**é€‰æ‹©ä¼˜å…ˆçº§ä»ä¸Šåˆ°ä¸‹ï¼Œæ¯”å¦‚è¯´ä½ æƒ³è‡ªå®šä¹‰é“¾æ¥ï¼Œåˆ™éœ€è¦ä¿æŒä¸¤ä¸ªé¢„è®¾æ¨¡å‹ä¸ºç©º**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown **é¢„è®¾å‰ªææ¨¡å‹ï¼ˆ`Animefull-final-pruned`å³NovelAIå®˜æ¨¡ ï¼Œ `Stable-Diffusion-v1-5`å³SD1.5ï¼‰**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown SD1.x model</span></span><br><span class="line">modelName = <span class="string">&quot;Animefull-final-pruned&quot;</span>  <span class="comment"># @param [&quot;&quot;, &quot;Animefull-final-pruned&quot;, &quot;Stable-Diffusion-v1-5&quot;, &quot;Anything-v3-1&quot;, &quot;AnyLoRA&quot;, &quot;AnimePastelDream&quot;, &quot;Chillout-mix&quot;, &quot;OpenJourney-v4&quot;]</span></span><br><span class="line"><span class="comment">#@markdown SD2.x model</span></span><br><span class="line">v2ModelName = <span class="string">&quot;&quot;</span>  <span class="comment"># @param [&quot;&quot;, &quot;stable-diffusion-2-1-base&quot;, &quot;stable-diffusion-2-1-768v&quot;, &quot;plat-diffusion-v1-3-1&quot;, &quot;replicant-v1&quot;, &quot;illuminati-diffusion-v1-0&quot;, &quot;illuminati-diffusion-v1-1&quot;, &quot;waifu-diffusion-1-4-anime-e2&quot;, &quot;waifu-diffusion-1-5-e2&quot;, &quot;waifu-diffusion-1-5-e2-aesthetic&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown **è‡ªå®šä¹‰æ¨¡å‹é“¾æ¥ä¾‹å¦‚`https://huggingface.co/a1079602570/animefull-final-pruned/resolve/main/novelailatest-pruned.ckpt`ï¼‰**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown **æˆ–è€…è‡ªå®šä¹‰æ¨¡å‹è·¯å¾„ä¾‹å¦‚`/content/drive/MyDrive/Lora/model/your_model.ckpt`**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown **å¦‚æœè¿æ¥æˆ–è€…è·¯å¾„ä¸­åŒ…å«æ¨¡å‹çš„æ‰©å±•å(æ¯”å¦‚æˆ‘ç»™å‡ºçš„ä¸¤ä¸ªä¾‹å¦‚çš„æœ«å°¾éƒ½æœ‰æ‰©å±•å)ï¼Œåˆ™ä¼šè‡ªåŠ¨æŒ‡å®šï¼Œå¦åˆ™ä½ éœ€è¦æ‰‹åŠ¨é€‰æ‹©**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown - **æ³¨æ„ï¼ŒColabæ™®é€šç”¨æˆ·ä»…èƒ½é€‰æ‹©5Gä»¥ä¸‹çš„æ¨¡å‹**</span></span><br><span class="line"></span><br><span class="line">base_model_url = <span class="string">&quot;https://civitai.com/api/download/models/37521&quot;</span> <span class="comment">#@param &#123;type:&quot;string&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">base_model_self_dir = <span class="string">&quot;&quot;</span> <span class="comment">#@param &#123;type:&quot;string&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">base_model_extension = <span class="string">&quot;ckpt&quot;</span> <span class="comment">#@param [&quot;ckpt&quot;, &quot;safetensors&quot;, &quot;pt&quot;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">modelUrl = [</span><br><span class="line">    <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/Linaqruf/personal-backup/resolve/main/models/animefull-final-pruned.ckpt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/cag/anything-v3-1/resolve/main/anything-v3-1.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/Lykon/AnyLoRA/resolve/main/AnyLoRA_noVae_fp16.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/Lykon/AnimePastelDream/resolve/main/AnimePastelDream_Soft_noVae_fp16.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/Linaqruf/stolen/resolve/main/pruned-models/chillout_mix-pruned.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/prompthero/openjourney-v4/resolve/main/openjourney-v4.ckpt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/Linaqruf/stolen/resolve/main/pruned-models/stable_diffusion_1_5-pruned.safetensors&quot;</span>,</span><br><span class="line">]</span><br><span class="line">modelList = [</span><br><span class="line">    <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Animefull-final-pruned&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Anything-v3-1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;AnyLoRA&quot;</span>,</span><br><span class="line">    <span class="string">&quot;AnimePastelDream&quot;</span>,    </span><br><span class="line">    <span class="string">&quot;Chillout-mix&quot;</span>,</span><br><span class="line">    <span class="string">&quot;OpenJourney-v4&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Stable-Diffusion-v1-5&quot;</span>,</span><br><span class="line">]</span><br><span class="line">v2ModelUrl = [</span><br><span class="line">    <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/stabilityai/stable-diffusion-2-1-base/resolve/main/v2-1_512-ema-pruned.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/stabilityai/stable-diffusion-2-1/resolve/main/v2-1_768-ema-pruned.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/p1atdev/pd-archive/resolve/main/plat-v1-3-1.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/gsdf/Replicant-V1.0/resolve/main/Replicant-V1.0.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/IlluminatiAI/Illuminati_Diffusion_v1.0/resolve/main/illuminati_diffusion_v1.0.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/4eJIoBek/Illuminati-Diffusion-v1-1/resolve/main/illuminatiDiffusionV1_v11.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/hakurei/waifu-diffusion-v1-4/resolve/main/wd-1-4-anime_e2.ckpt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/waifu-diffusion/wd-1-5-beta2/resolve/main/checkpoints/wd-1-5-beta2-fp32.safetensors&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/waifu-diffusion/wd-1-5-beta2/resolve/main/checkpoints/wd-1-5-beta2-aesthetic-fp32.safetensors&quot;</span>,</span><br><span class="line">]</span><br><span class="line">v2ModelList = [</span><br><span class="line">    <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;stable-diffusion-2-1-base&quot;</span>,</span><br><span class="line">    <span class="string">&quot;stable-diffusion-2-1-768v&quot;</span>,</span><br><span class="line">    <span class="string">&quot;plat-diffusion-v1-3-1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;replicant-v1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;illuminati-diffusion-v1-0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;illuminati-diffusion-v1-1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;waifu-diffusion-1-4-anime-e2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;waifu-diffusion-1-5-e2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;waifu-diffusion-1-5-e2-aesthetic&quot;</span>,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">if</span> modelName:</span><br><span class="line">    installModels.append((modelName, modelUrl[modelList.index(modelName)]))</span><br><span class="line"><span class="keyword">if</span> v2ModelName:</span><br><span class="line">    installv2Models.append((v2ModelName, v2ModelUrl[v2ModelList.index(v2ModelName)]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸‹è½½è·¯å¾„</span></span><br><span class="line">base_model_dir = <span class="string">&quot;/content/lora-scripts/sd-models/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ£€æŸ¥è¿æ¥æ˜¯å¦å«æœ‰æ‰©å±•åä¿¡æ¯ï¼Œä¸å«æœ‰åˆ™ç”±ç”¨æˆ·æŒ‡å®š</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_ext</span>(<span class="params">url</span>):</span><br><span class="line">  <span class="keyword">if</span> url.endswith(<span class="string">&quot;.ckpt&quot;</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ckpt&quot;</span></span><br><span class="line">  <span class="keyword">elif</span> url.endswith(<span class="string">&quot;.safetensors&quot;</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;safetensors&quot;</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> base_model_extension</span><br><span class="line"><span class="comment">#ä¸‹è½½æ¨¡å‹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">install</span>(<span class="params">checkpoint_name, url</span>):</span><br><span class="line">    ext = check_ext(url)</span><br><span class="line">    hf_token = <span class="string">&quot;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&quot;</span></span><br><span class="line">    user_header = <span class="string">f&#x27;&quot;Authorization: Bearer <span class="subst">&#123;hf_token&#125;</span>&quot;&#x27;</span></span><br><span class="line">    !aria2c --console-log-level=error --summary-interval=<span class="number">10</span> --header=&#123;user_header&#125; -c -x <span class="number">16</span> -k 1M -s <span class="number">16</span> -d &#123;base_model_dir&#125; -o &#123;checkpoint_name&#125;.&#123;ext&#125; &#123;url&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;checkpoint_name&#125;</span>.<span class="subst">&#123;ext&#125;</span>&quot;</span>   <span class="comment">#è¿”å›æ¨¡å‹åç§°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">install_checkpoint</span>():</span><br><span class="line">    <span class="keyword">for</span> model <span class="keyword">in</span> installModels:</span><br><span class="line">        <span class="keyword">return</span> install(model[<span class="number">0</span>], model[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> v2model <span class="keyword">in</span> installv2Models:</span><br><span class="line">        <span class="keyword">return</span> install(v2model[<span class="number">0</span>], v2model[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°è¯•ä¸‹è½½é¢„è®¾æ¨¡å‹</span></span><br><span class="line">base_model_name = install_checkpoint()</span><br><span class="line"><span class="comment">#é¢„è®¾ä¸‹è½½æˆåŠŸï¼Œåˆ™å®Œæˆè·¯å¾„ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">if</span> base_model_name:</span><br><span class="line">  pretrained_model = base_model_dir + base_model_name</span><br><span class="line"><span class="comment">#ä¸‹è½½å¤±è´¥ï¼Œbase_model_nameä¸ºnon</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  <span class="comment">#ä¸ç•™ç©ºï¼Œåˆ™å°è¯•ç”¨è¿æ¥ä¸‹è½½</span></span><br><span class="line">  <span class="keyword">if</span> base_model_url:</span><br><span class="line">    base_model_name = <span class="string">&quot;download.&quot;</span> + check_ext(base_model_url)</span><br><span class="line">    pretrained_model = base_model_dir + base_model_name</span><br><span class="line">    !aria2c --console-log-level=error --summary-interval=<span class="number">10</span> -c -x <span class="number">16</span> -k 1M -s <span class="number">16</span> -d &#123;base_model_dir&#125; -o &#123;base_model_name&#125; --allow-overwrite &#123;base_model_url&#125;</span><br><span class="line">  <span class="comment">#ç•™ç©ºï¼Œå°†è€ƒè™‘ä»è‡ªå®šä¹‰è·¯å¾„ä¸­æ‹·è´</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">if</span> base_model_self_dir:</span><br><span class="line">      base_model_name = <span class="string">&quot;self.&quot;</span> + check_ext(base_model_self_dir)</span><br><span class="line">      pretrained_model = base_model_dir + base_model_name</span><br><span class="line">      !cp &#123;base_model_self_dir&#125; &#123;pretrained_model&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;ä½ æ ¹æœ¬æ²¡é€‰æ‹©ä»»ä½•æ¨¡å‹ï¼&quot;</span>)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹train.shçš„åº•æ¨¡è·¯å¾„ï¼Œå¹¶è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">search_input(<span class="string">&quot;pretrained_model&quot;</span>, pretrained_model)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¾“å‡ºæ¨¡å‹ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;ä½ é€‰æ‹©çš„æ˜¯: <span class="subst">&#123;base_model_name&#125;</span> æ¨¡å‹&quot;</span>)</span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®šä½¿ç”¨çš„å¤–æŒ‚Vaeï¼Œè¿˜æ˜¯ä¸€æ ·ï¼Œä¸äº†è§£çš„è¯ç›´æ¥é€‰æˆ‘æ¨èçš„animeç„¶åç›´æ¥è¿è¡Œå³å¯</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># @title ## 6.2 ä¸‹è½½vaeï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‚¨å­˜ä¸‹è½½ä¿¡æ¯å‚æ•°</span></span><br><span class="line">installVae = []</span><br><span class="line"><span class="comment">#@markdown é€‰æ‹© `none` æ„å‘³ç€ä¸ä½¿ç”¨vae</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown é€‰æ‹©ä¸€ä¸ªVaeä¸‹è½½å¹¶ä½¿ç”¨`&quot;animevae.pt&quot;, &quot;kl-f8-anime.ckpt&quot;, &quot;vae-ft-mse-840000-ema-pruned.ckpt&quot;`</span></span><br><span class="line"></span><br><span class="line">vaeUrl = [</span><br><span class="line">    <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/Linaqruf/personal-backup/resolve/main/vae/animevae.pt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/hakurei/waifu-diffusion-v1-4/resolve/main/vae/kl-f8-anime.ckpt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.ckpt&quot;</span>,</span><br><span class="line">]</span><br><span class="line">vaeList = [<span class="string">&quot;none&quot;</span>, <span class="string">&quot;anime.vae.pt&quot;</span>, <span class="string">&quot;waifudiffusion.vae.pt&quot;</span>, <span class="string">&quot;stablediffusion.vae.pt&quot;</span>]</span><br><span class="line">vaeName = <span class="string">&quot;anime.vae.pt&quot;</span>  <span class="comment"># @param [&quot;none&quot;, &quot;anime.vae.pt&quot;, &quot;waifudiffusion.vae.pt&quot;, &quot;stablediffusion.vae.pt&quot;]</span></span><br><span class="line"></span><br><span class="line">installVae.append((vaeName, vaeUrl[vaeList.index(vaeName)]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€å§‹ä¸‹è½½</span></span><br><span class="line">vae_dir = <span class="string">&quot;/content/lora-scripts/vae/&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">install</span>(<span class="params">vae_name, url</span>):</span><br><span class="line">    hf_token = <span class="string">&quot;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&quot;</span></span><br><span class="line">    user_header = <span class="string">f&#x27;&quot;Authorization: Bearer <span class="subst">&#123;hf_token&#125;</span>&quot;&#x27;</span></span><br><span class="line">    !aria2c --console-log-level=error --allow-overwrite --summary-interval=<span class="number">10</span> --header=&#123;user_header&#125; -c -x <span class="number">16</span> -k 1M -s <span class="number">16</span> -d &#123;vae_dir&#125; -o <span class="string">&quot;vae.pt&quot;</span> <span class="string">&quot;&#123;url&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">install_vae</span>():</span><br><span class="line">    <span class="keyword">if</span> vaeName != <span class="string">&quot;none&quot;</span>:</span><br><span class="line">        <span class="keyword">for</span> vae <span class="keyword">in</span> installVae:</span><br><span class="line">            install(vae[<span class="number">0</span>], vae[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">install_vae()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">extArgs_content.vae = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">#ä¿®æ”¹train.shä¸­å‚æ•°</span></span><br><span class="line"><span class="keyword">if</span> vaeName == <span class="string">&quot;none&quot;</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ä¸ä½¿ç”¨vae&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&quot;ä½¿ç”¨<span class="subst">&#123;vaeName&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="comment">#å†™å…¥é‡‡æ ·åœ°å€f&quot;--vae=&#123;vae_dir&#125;&quot;</span></span><br><span class="line">  extArgs_content.vae += <span class="string">f&quot;\&quot;--vae=<span class="subst">&#123;vae_dir&#125;</span>vae.pt\&quot; &quot;</span></span><br><span class="line"></span><br><span class="line">search_input(<span class="string">&quot;&quot;</span>, extArgs_content.<span class="built_in">all</span>() )</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹è„šæœ¬è¿è¡Œå‚æ•°</li></ul><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683169164742.png" alt=""></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹é¢æ˜¯è¦ä¿®æ”¹çš„é…ç½®,æ²¡æœ‰æ³¨é‡Šçš„è¯å°±ç›´æ¥è·Ÿç€æˆ‘å¤åˆ¶æ›´æ”¹è¿›å»å°±å¯ä»¥</span></span><br><span class="line">train_data_dir=<span class="string">&quot;/content/lora-scripts/train/TLailin/&quot;</span><span class="comment">#è¿™é‡Œæ”¹æˆåˆšæ‰åˆ›å»ºæ–‡ä»¶å¤¹çš„åå­—</span></span><br><span class="line">resolution=<span class="string">&quot;512,512&quot;</span><span class="comment"># è¿™é‡Œæ”¹æˆä½ å‡†å¤‡çš„å›¾ç‰‡çš„åˆ†è¾¨ç‡</span></span><br><span class="line">batch_size=<span class="number">1</span></span><br><span class="line">max_train_epoches=<span class="number">20</span></span><br><span class="line">output_name=<span class="string">&quot;TLailin&quot;</span><span class="comment"># æƒ³è¦è¾“å‡ºçš„æ¨¡å‹å</span></span><br><span class="line"></span><br><span class="line">min_bucket_reso=<span class="number">256</span></span><br><span class="line">max_bucket_reso=<span class="number">1920</span></span><br><span class="line"><span class="comment"># è¿™ä¸¤ä¸ªå‚æ•°æ˜¯è¦æ ¹æ®ä½ å‡†å¤‡çš„å›¾ç‰‡çš„åˆ†è¾¨ç‡æ¥è°ƒçš„,maxçš„å¯ä»¥ç›´æ¥æ‹‰åˆ°æœ€é«˜1920ï¼Œä½†æ˜¯minæ˜¯è¦åœ¨ä½ çš„æœ€ä½åˆ†è¾¨ç‡å¾€ä¸‹æˆ–è€…ä¸€æ ·,æ¯”å¦‚è¯´æˆ‘ç°åœ¨å‡†å¤‡çš„å›¾ç‰‡åˆ†è¾¨ç‡æ˜¯1280,1408ï¼Œé‚£ä¹ˆè¿™é‡Œæˆ‘çš„min_bucket_resoæœ€é«˜å°±åªèƒ½å¡«1280</span></span><br></pre></td></tr></table></figure><ul><li>è¾“å…¥å¯åŠ¨å¼€å§‹è¿è¡Œ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#@title  ### 8.2å¼€å§‹è®­ç»ƒ</span></span><br><span class="line"><span class="comment">#@markdown è‹¥æ­£ç¡®è¿è¡Œï¼Œè®­ç»ƒå®Œæˆåï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨ä¿å­˜è‡³ä½ çš„è°·æ­Œç¡¬ç›˜ä¸­`æˆ‘çš„äº‘ç«¯ç¡¬ç›˜/Lora/output/`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown å¦‚æœä¸åˆ°1åˆ†é’Ÿå°±è¿è¡Œå®Œäº†ï¼Œå¤šåŠæ˜¯å‡ºé”™äº†ï¼ŒæŠŠè¾“å‡ºä¿¡æ¯å¤åˆ¶åˆ°ChatGPTé—®ä¸‹ç½¢ï¼ :(</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown - Qï¼šè¾“å‡ºä»£ç çš„æœ€åå‡ºç°ï¼ˆkill:9ï¼‰å­—æ · </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown - Aï¼šçˆ†ramäº†ï¼Œæ›´æ¢å°çš„åº•æ¨¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown ---</span></span><br><span class="line"><span class="comment">#@markdown æ˜¯å¦ä¿å­˜æœ¬æ¬¡è®­ç»ƒçš„train.shå’Œé‡‡æ ·é…ç½®ï¼ˆå¦‚æœä½ å¯ç”¨é‡‡æ ·åŠŸèƒ½çš„è¯ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#@markdown ä¿å­˜è·¯å¾„ï¼š `ç•™ç©ºåˆ™ä¿å­˜è‡³å½“å‰train.shä¸­æŒ‡å®šçš„è¾“å‡ºè·¯å¾„`</span></span><br><span class="line">save_files = <span class="literal">True</span> <span class="comment">#@param &#123;type:&quot;boolean&quot;&#125;</span></span><br><span class="line">save_files_dir_self = <span class="string">&quot;&quot;</span> <span class="comment">#@param &#123;type:&quot;string&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> save_files:</span><br><span class="line">  <span class="comment">#æŒ‡å®šä¿å­˜è·¯å¾„</span></span><br><span class="line">  <span class="keyword">if</span> save_files_dir_self:</span><br><span class="line">    save_files_dir = save_files_dir_self</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;ä½ æŒ‡å®šäº†è‡ªå®šä¹‰çš„é…ç½®ä¿å­˜è·¯å¾„ï¼š<span class="subst">&#123;save_files_dir&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    save_files_dir = search_get(<span class="string">&quot;  --output_dir&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;é‡‡ç”¨trian.shä¸­æŒ‡å®šçš„è¾“å‡ºè·¯å¾„ï¼š<span class="subst">&#123;save_files_dir&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="comment">#ä¿å­˜è®­ç»ƒå‚æ•°æ–‡ä»¶è‡³è°·æ­Œç¡¬ç›˜</span></span><br><span class="line">  !mkdir -p &#123;save_files_dir&#125;</span><br><span class="line">  !cp &#123;train_sh_path&#125; &#123;save_files_dir&#125;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&quot;è®­ç»ƒå‚æ•°è¢«ä¿å­˜è‡³<span class="subst">&#123;save_files_dir&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="comment">#ä¿å­˜é‡‡æ ·å‚æ•°æ–‡ä»¶è‡³è°·æ­Œç¡¬ç›˜</span></span><br><span class="line">  <span class="keyword">if</span> enable_sample <span class="keyword">or</span> use_sample_prompt_txt_self:</span><br><span class="line">    !cp &#123;sample_prompt_txt_path&#125; &#123;save_files_dir&#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;é‡‡æ ·å‚æ•°è¢«ä¿å­˜è‡³<span class="subst">&#123;save_files_dir&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æœªå¯ç”¨é‡‡æ ·åŠŸèƒ½ï¼Œä¸ä¿å­˜é‡‡æ ·é…ç½®&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&quot;ä¸ä¿å­˜é…ç½®æ–‡ä»¶&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€å§‹è®­ç»ƒï¼</span></span><br><span class="line">%cd /content/lora-scripts/</span><br><span class="line">!bash train.sh</span><br><span class="line"></span><br><span class="line">!echo <span class="string">&quot;å®Œæˆäº† XXXD.&quot;</span></span><br></pre></td></tr></table></figure><p>åé¢å°±æ˜¯æ¼«é•¿çš„ç­‰å¾…å•¦</p><ul><li><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯Colabä¸€æ—¦å…³é—­å°±å¾ˆå¤§æ¦‚ç‡ä¼šè¿ä¸ä¸Šï¼Œè¿ä¸ä¸Šçš„è¯ä¼šé‡ç½®ç¬”è®°æœ¬ï¼Œä¹Ÿå°±ä¼šå‰åŠŸå°½å¼ƒï¼Œæ‰€ä»¥åœ¨è¿è¡Œçš„æ—¶å€™ä½ è¦æ—¶åˆ»ä¿æŒç€ç§‘å­¦ä¸Šç½‘ï¼Œè€Œä¸”è¦åœ¨æ§åˆ¶å°è¾“å…¥åˆ·æ–°ä»£ç é˜²æ­¢ä¸­é€”ç»™ä½ å¡å‡ºä¸ªéªŒè¯</p></li><li><p>æŒ‰F12å¼€å¯æ§åˆ¶å°ï¼Œé€‰æ‹©Consoleï¼Œç„¶ååœ¨æœ€ä¸‹é¢ç²˜è´´ä¸‹é¢ç»™å‡ºçš„ä»£ç å¹¶å›è½¦å°±å¯ä»¥äº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function getElementByXpath(path) &#123;</span><br><span class="line">       <span class="keyword">return</span> document.evaluate(path, document, null, </span><br><span class="line">       XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">function reconnect()&#123;</span><br><span class="line">  console.log(<span class="string">&#x27;working&#x27;</span>)</span><br><span class="line">  getElementByXpath(<span class="string">&quot;//div[@id=&#x27;top-toolbar&#x27;]/colab-connect-button&quot;</span>).click()</span><br><span class="line">&#125;</span><br><span class="line">var a = setInterval(reconnect, <span class="number">1</span>*<span class="number">60</span>*<span class="number">1000</span>);</span><br><span class="line">function stop()&#123;</span><br><span class="line"> clearInterval(a)</span><br><span class="line">&#125;</span><br><span class="line">function start()&#123;</span><br><span class="line"> a = setInterval(reconnect, <span class="number">1</span>*<span class="number">60</span>*<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/%7B40I%5DMXKPDUHE@U2$SKAR_M.png" alt=""></p><h4 id="Loraçš„ä½¿ç”¨"><a href="#Loraçš„ä½¿ç”¨" class="headerlink" title="Loraçš„ä½¿ç”¨"></a>Loraçš„ä½¿ç”¨</h4><p>æŠŠè¾“å‡ºåˆ°googleç£ç›˜ä¸­çš„è®­ç»ƒå¥½çš„æ¨¡å‹ä¸‹è½½ä¸‹æ¥ç„¶åæ”¾åœ¨SD_ROOT/models/Loraç›®å½•ä¸‹ç„¶ååˆ·æ–°Web UIç•Œé¢å°±ï¼ŒLoraçš„ä½¿ç”¨åªéœ€è¦ä½ ç‚¹å‡»<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683189185284.png" alt=""><br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683189426645.jpg" alt=""><br>ç„¶åç‚¹å‡»è‡ªå·±çš„Loraæ¨¡å‹ï¼Œå°±ä¼šè‡ªåŠ¨å†™å…¥åˆ°æ­£å‘æç¤ºè¯å•¦ï¼Œå…¶ä»–çš„æŒ‰å¹³æ—¶çš„SDæ“ä½œæ¥å°±å¯ä»¥äº†ã€‚<br>è¿™é‡Œæˆ‘æœ‰ä¸Šä¼ è‡ªå·±çš„æ¨¡å‹åˆ°Cç«™ä¸­,åˆ†åˆ«æ˜¯è‰¾ç³å’Œæ²™å­£<br><style><br>.stars_box {<br>display: flex;<br>gap: 15px;<br>flex-wrap: wrap;<br>justify-content: center;<br>}<br>.stars_box .card_box {<br>margin: 0px !important<br>}<br>@media screen and (max-width: 768px) {<br>.stars_box{<br>   padding: 0 5px<br>}<br>.stars_box .card_box {<br>   width: calc(100%/2 - 8px) !important;<br>   height: 240px !important;<br>   margin: 8px 0 !important<br>}<br>}</p></li></ul></li></ol><p>html.hide-aside .layout &gt; div:first-child {<br>    width: 90%;<br>}</p><p>@media screen and (max-width: 768px)<br>.layout &gt; div:first-child:not(.recent-posts) {<br>    padding: 0px 14px !important;<br>}</p><p>.layout &gt; div:first-child:not(.recent-posts) {<br>    padding: 0px 12px!important;<br>}<br>&lt;/style&gt;</p><p><div class="stars_box"><div title="ä¸æ—¶è½»å£°åœ°ä»¥ä¿„è¯­é®ç¾çš„é‚»åº§è‰¾è‰åŒå­¦" referrerPolicy="no-referrer" class="card_box" style="background-image: url(https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1679060367555.png); width:200px; height:275px;">    <div class="card_mask">      <span>èŠ‚å¥æ¯”è¾ƒæ…¢ï¼Œè‰¾ç³å’Œæœ‰å¸Œå’Œç›å¤éƒ½å¾ˆå¯æ€ä¹ˆåŠï¼Œç”·ä¸»åªæœ‰ä¸€ä¸ª</span>      <a href="https://zh.moegirl.org.cn/%E4%B8%8D%E6%97%B6%E8%BD%BB%E5%A3%B0%E5%9C%B0%E4%BB%A5%E4%BF%84%E8%AF%AD%E9%81%AE%E7%BE%9E%E7%9A%84%E9%82%BB%E5%BA%A7%E8%89%BE%E8%8E%89%E5%90%8C%E5%AD%A6">æŸ¥çœ‹è¯¦æƒ…</a>    </div>    <div class="card_top">      <i class=""></i>      <span>è½»å°è¯´</span>    </div>    <div class="card_content">      <span>ä¸æ—¶è½»å£°åœ°ä»¥ä¿„è¯­é®ç¾çš„é‚»åº§è‰¾è‰åŒå­¦</span>      <div><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>    </div>  </div><div title="ä¹‰å¦¹ç”Ÿæ´»" referrerPolicy="no-referrer" class="card_box" style="background-image: url(https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/qxssj.jpg); width:200px; height:275px;">    <div class="card_mask">      <span>èŠ‚å¥æ¯”è¾ƒæ…¢ï¼Œç»†èŠ‚æå†™å’Œå¿ƒç†æå†™çš„éå¸¸ç»†è‡´çœŸçš„ç”œæ­»äº†</span>      <a href="https://zh.moegirl.org.cn/%E4%B9%89%E5%A6%B9%E7%94%9F%E6%B4%BB">æŸ¥çœ‹è¯¦æƒ…</a>    </div>    <div class="card_top">      <i class=""></i>      <span>è½»å°è¯´</span>    </div>    <div class="card_content">      <span>ä¹‰å¦¹ç”Ÿæ´»</span>      <div><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>    </div>  </div></div><br><div class="note warning simple"><p>*å› ä¸ºæ˜¯æˆ‘å¾ˆå–œæ¬¢çš„å°è¯´è§’è‰²äººç‰©,æ‰€ä»¥èŠ±äº†æ—¶é—´ç‚¼åˆ¶çš„,å¦‚æœä½ æƒ³è¦ç”»æ¶©æ¶©çš„å›¾ç‰‡é‚£ä¹ˆåœ¨è¿™ä¸ªç½‘ç«™<br>å†…æœ‰æ›´å¥½çš„é€‰æ‹©ï¼Œå¸Œæœ›å°Šé‡æˆ‘å…±äº«æ¨¡å‹çš„é€‰æ‹©<br>PS: é‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼ä¸è¦ä½¿ç”¨æ­¤æ¨¡å‹ç”»18+çš„å›¾ç‰‡ï¼ï¼ï¼ä¸è¦ä½¿ç”¨æ­¤æ¨¡å‹ç”»18+çš„å›¾ç‰‡ï¼ï¼ï¼ä¸è¦ä½¿ç”¨æ­¤æ¨¡å‹ç”»18+çš„å›¾ç‰‡ï¼ï¼</p></div></p><p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1683190141926.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Lora</div>  <p>åˆ†åˆ«æ˜¯è‰¾ç³å’Œç»«æ¿‘æ²™å­£</p>  <a href='https://civitai.com/user/Tianlin/models'></a>  </figcaption>  </figure>  </div><br><div class="note warning simple"><p>æœ¬æ¨¡å‹ä»…é™äºä¸ªäººå­¦ä¹ å’Œéå•†ä¸šç”¨é€”ã€‚ä½œè€…æä¾›çš„æ¨¡å‹æ²¡æœ‰ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯å’Œæ‹…ä¿ï¼Œä½œè€…ä¸å¯¹ä»»ä½•ç”±äºä½¿ç”¨æœ¬æ¨¡å‹æ‰€å¼•èµ·çš„ç›´æ¥ã€é—´æ¥ã€å¶ç„¶ã€ç‰¹æ®ŠåŠåæœæ€§æŸå¤±æˆ–å…¶ä»–ä»»ä½•ç±»å‹çš„æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚ä½¿ç”¨è€…åº”å¯¹ä½¿ç”¨æœ¬æ¨¡å‹æ‰€å¼•èµ·çš„é£é™©æ‰¿æ‹…å®Œå…¨è´£ä»»ï¼Œä½œè€…ä¸æ‰¿æ‹…ä»»ä½•æ³•å¾‹ä¹‰åŠ¡å’Œèµ”å¿è´£ä»»</p></div></p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥å¿—è½®è¯¢</title>
      <link href="/posts/3f7ad5be.html"/>
      <url>/posts/3f7ad5be.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ—¥å¿—è½®è¯¢"><a href="#æ—¥å¿—è½®è¯¢" class="headerlink" title="æ—¥å¿—è½®è¯¢"></a>æ—¥å¿—è½®è¯¢</h3><h4 id="æ„ä¹‰"><a href="#æ„ä¹‰" class="headerlink" title="æ„ä¹‰"></a>æ„ä¹‰</h4><ul><li>1.æ—¥å¿—è½®è¯¢å¯ä»¥ç¡®ä¿ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ä¸ä¼šæ— é™å¢é•¿ï¼Œä»¥å…å½±å“ç³»ç»Ÿæ€§èƒ½å¹¶å ç”¨è¿‡å¤šçš„ç£ç›˜ç©ºé—´ã€‚é€šè¿‡å®šæœŸè½®è¯¢æ—¥å¿—æ–‡ä»¶ï¼Œæ—§çš„æ—¥å¿—ä¿¡æ¯å¯ä»¥å¾—åˆ°ä¿ç•™ï¼Œä»è€Œä¸ºæ•…éšœæ’é™¤å’Œæ€§èƒ½åˆ†ææä¾›é‡è¦çš„å†å²æ•°æ®</li><li>2.æ—¥å¿—è½®è¯¢å¯ä»¥å°†æ—¥å¿—æ–‡ä»¶åˆ†å‰²ä¸ºå¤šä¸ªè¾ƒå°çš„æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶åŒ…å«ä¸€æ®µæ—¶é—´å†…çš„æ—¥å¿—ä¿¡æ¯ã€‚è¿™å°†ä½¿æ—¥å¿—æ£€ç´¢æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºåªéœ€è¦æœç´¢ç‰¹å®šæ—¶é—´æ®µå†…çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦æœç´¢æ•´ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚è¿™ä¹Ÿæœ‰åŠ©äºåŠ å¿«æ•…éšœæ’é™¤å’Œæ€§èƒ½åˆ†æçš„é€Ÿåº¦</li><li>3.æ—¥å¿—è½®è¯¢å¯ä»¥ä½¿æ—¥å¿—ç®¡ç†å’Œç»´æŠ¤æ›´åŠ æ–¹ä¾¿ã€‚ç”±äºæ¯ä¸ªæ—¥å¿—æ–‡ä»¶éƒ½åŒ…å«ä¸€æ®µæ—¶é—´èŒƒå›´å†…çš„æ—¥å¿—ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥è½»æ¾åœ°å¯¹ç‰¹å®šæ—¶é—´æ®µå†…çš„æ—¥å¿—è¿›è¡Œå¤‡ä»½ã€å‹ç¼©ã€å½’æ¡£æˆ–åˆ é™¤ã€‚æ­¤å¤–ï¼Œæ—¥å¿—è½®è¯¢è¿˜å¯ä»¥å¸®åŠ©è¯†åˆ«å’Œä¿®å¤æ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯æˆ–æŸå<h4 id="å®æ“"><a href="#å®æ“" class="headerlink" title="å®æ“"></a>å®æ“</h4></li><li>example<ul><li>æ—¥å¿—æ–‡ä»¶/var/log/messagesä¸€æœˆä¸€è½®è¯¢</li><li>æ—¥å¿—æ–‡ä»¶å¤§äº10Mæ—¶ï¼Œç›´æ¥ä¸»åŠ¨è¿›è¡Œè½®è¯¢ä¸éœ€è¦è€ƒè™‘ä¸€æœˆä¸€è½®è¯¢</li><li>ä¿å­˜5ä¸ªå¤‡ä»½æ–‡ä»¶</li><li>å¤‡ä»½æ–‡ä»¶éœ€è¦å‹ç¼©<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chattr +a /var/log/messages</span></span><br><span class="line"><span class="comment"># vim /etc/logrotate.d/messages        # å®šä¹‰è½®è¯¢è§„åˆ™</span></span><br><span class="line">/var/log/<span class="section">messages</span> &#123;</span><br><span class="line">        <span class="attribute">monthly</span><span class="comment"># æ¯ä¸ªæœˆè¿›è¡Œä¸€æ¬¡</span></span><br><span class="line">        size=<span class="number">8M</span><span class="comment"># æ–‡ä»¶å®¹é‡å¤§äº10Mæ—¶å¼€å§‹è½®è¯¢</span></span><br><span class="line">        rotate  <span class="number">5</span><span class="comment"># ä¿ç•™äº”ä¸ªæ–‡ä»¶</span></span><br><span class="line">        compress<span class="comment"># è¿›è¡Œå‹ç¼©</span></span><br><span class="line">        sharedscripts</span><br><span class="line">        prerotate</span><br><span class="line">                /usr/bin/chattr -a /var/log/messages</span><br><span class="line">        endscript</span><br><span class="line">        sharedscripts</span><br><span class="line">        postrotate</span><br><span class="line">                /bin/kill -HUP `cat /var/run/syslogd.pid <span class="number">2</span>&gt;/dev/null` <span class="number">2</span>&gt;/dev/null || <span class="literal">true</span></span><br><span class="line">                /usr/bin/chattr +a /var/log/messages</span><br><span class="line">        endscript</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># logrotate -vf /etc/logrotate.conf   // æŸ¥çœ‹è½®è¯¢</span></span><br><span class="line">// å¯ä»¥é€šè¿‡åˆ«çš„æ–‡ä»¶é‡å®šå‘åˆ°/var/log/messagesä¸­è®©æ–‡ä»¶è¾¾åˆ°<span class="number">10M</span>å¤§å°æµ‹è¯•è½®è¯¢</span><br></pre></td></tr></table></figure></li></ul></li></ul><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>HTTP/3æ–°ä¼˜åŠ¿</title>
      <link href="/posts/3b54fb61.html"/>
      <url>/posts/3b54fb61.html</url>
      
        <content type="html"><![CDATA[<h3 id="HTTP3"><a href="#HTTP3" class="headerlink" title="HTTP3"></a>HTTP3</h3><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>HTTP/1.x</p>            </div><ul><li>å¼€å§‹ä¾¿æœ‰äº†é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œè¯·æ±‚å¤´éƒ¨æœªç»å‹ç¼©ä¾¿å‘é€ï¼Œè€Œä¸”å‘é€å†—é•¿çš„é¦–éƒ¨æ¯æ¬¡è¿˜ä¼šå‘å‡ºé‡å¤çš„ä¸ºå‹ç¼©å¤´éƒ¨æŠ¥æ–‡ã€‚<ul><li>æŒ‰é¡ºåºè¯·æ±‚å“åº”çš„ï¼Œå¦‚æœæœåŠ¡å™¨å“åº”æ…¢ä¼šå¯¼è‡´åé¢çš„æ•°æ®é˜»å¡ã€‚<div class='checkbox checked'><input type="radio" checked="checked"/>            <p>HTTP/2</p>            </div></li></ul></li><li>å¤´éƒ¨å‹ç¼©ï¼ŒHTTP/2 é€šè¿‡ Stream çš„å¹¶å‘èƒ½åŠ›ï¼Œè§£å†³äº†é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œä½†æ˜¯å´å¡åœ¨äº†TCPè¿™ä¸€å±‚ã€‚<ul><li>TCPå±‚å¿…é¡»ä¿è¯æ”¶åˆ°çš„å­—èŠ‚æ•°æ®æ˜¯å®Œæ•´ä¸”è¿ç»­çš„å¦‚æœå½“å‰å­—èŠ‚æ²¡æœ‰åˆ°è¾¾æ—¶åé¢çš„å­—èŠ‚åªèƒ½æš‚æ—¶å­˜æ”¾åœ¨ç¼“å†²åŒºä¸­ç­‰å¾…è¿™ä¸ªå­—èŠ‚åˆ°è¾¾ï¼Œè¿™å°±æ˜¯HTTP2çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ã€‚<div class='checkbox checked'><input type="radio" checked="checked"/>            <p>HTTP/3</p>            </div></li></ul></li><li>ä½¿ç”¨äº†ä»¥ä¸å¯é ä¼ è¾“åè®®UDPä¸ºåŸºæœ¬çš„UQICå¯é åè®®ã€‚<ul><li>QUICåè®®çš„æŸä¸ªæµå‘ç”Ÿä¸¢åŒ…æ—¶ï¼Œåªä¼šé˜»å¡è¿™ä¸ªæµï¼Œå…¶ä»–æµä¸ä¼šå—åˆ°å½±å“ï¼Œå› æ­¤ä¸å­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜</li><li>æ›´å¿«çš„å»ºç«‹è¿æ¥ï¼Œæ¯”èµ·HTTP2çš„é¦–å…ˆè¦ç»è¿‡TCPæ¡æ‰‹ç„¶åå†TLSæ¡æ‰‹ï¼ŒQUICå†…éƒ¨ä¾¿åŒ…å«äº†TLSï¼Œä¼šåœ¨è‡ªå·±çš„å¸§ä¸­æºå¸¦TLSé‡Œçš„â€è®°å½•â€,åŠ ä¸ŠQUICä½¿ç”¨çš„æ˜¯TLS1.3ï¼Œæ‰€ä»¥è¿æ¥çš„å»ºç«‹ä¹Ÿä¼šæ›´å¿«ã€‚</li></ul></li></ul><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç»™å‹é“¾é¡µé¢æ·»åŠ ä¸€ä¸ªSakana~</title>
      <link href="/posts/e5482ed2.html"/>
      <url>/posts/e5482ed2.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h2 id="ç»™hexoåšå®¢æ·»åŠ ä¸€ä¸ªSakana"><a href="#ç»™hexoåšå®¢æ·»åŠ ä¸€ä¸ªSakana" class="headerlink" title="ç»™hexoåšå®¢æ·»åŠ ä¸€ä¸ªSakana~"></a>ç»™hexoåšå®¢æ·»åŠ ä¸€ä¸ªSakana~</h2></div></div><div class='checkbox'><input type="radio" />            <h3 id="æ¥è‡ªå¼€æºé¡¹ç›®itorr-sakana"><a href="#æ¥è‡ªå¼€æºé¡¹ç›®itorr-sakana" class="headerlink" title="æ¥è‡ªå¼€æºé¡¹ç›®itorr/sakana"></a>æ¥è‡ªå¼€æºé¡¹ç›®<a href="https://github.com/itorr/sakana/">itorr/sakana</a></h3>            </div><div class='checkbox'><input type="radio" />            <p>åŒ<a href="https://naokuoteng.cn/">è„‘é˜”ç–¼ï»©Ù¥</a>ä¸€åŒåˆ¶ä½œå®Œæˆ</p>            </div><details class="folding-tag" cyan open orange><summary> æ•ˆæœå¦‚ä¸‹ </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="background-color: orange;">é¢„è§ˆç‚¹æˆ‘     </button><div class="hide-content"><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/sakana.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div></div></div><div class="site-card-group"><a class="site-card" href="https://blog.linjiangyu.com/link/"><div class="img"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/saka.png"/></div><div class="info"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/><span class="title">Tianlin_Zz</span><span class="desc">æˆ‘çš„ç«™ç‚¹</span></div></a></div>              </div>            </details><h3 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h3><div class='checkbox'><input type="radio" />            <p>å†™å…¥åˆ°root_blog\themes\butterfly\source\css\custom.cssæ–‡ä»¶ä¸­å¹¶å¼•ç”¨</p>            </div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> <span class="selector-class">.sakana-box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">100%</span> <span class="number">100%</span>; <span class="comment">/* ä»å³ä¸‹å¼€å§‹å˜æ¢ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sakana-box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>)&#123;</span><br><span class="line">  <span class="selector-class">.sakana-box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>)&#123;</span><br><span class="line">  <span class="selector-tag">html</span> <span class="selector-class">.sakana-box</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: inherit;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">36%</span> <span class="number">160%</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.layout</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:not</span>(<span class="selector-class">.recent-posts</span>) &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">8</span>);</span><br><span class="line">    -webkit-backdrop-<span class="attribute">filter</span>: none;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: none<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.layout</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:not</span>(<span class="selector-class">.recent-posts</span>) &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, .<span class="number">75</span>);</span><br><span class="line">    -webkit-backdrop-<span class="attribute">filter</span>: none;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: none<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span><span class="selector-class">.hide-aside</span> <span class="selector-class">.layout</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class='checkbox'><input type="radio" />            <p>ç›´æ¥å†™å…¥åˆ°root_blog\source\link\index.mdæ–‡ä»¶ä¸­</p>            </div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;sakana-box&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;script <span class="attribute">src</span>=&quot;https://cdn1.tianli0.top/gh/linjiangyu2/halo/js/sakana.js<span class="string">&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">Sakana.init(&#123;</span></span><br><span class="line"><span class="string">  el:         &#x27;.sakana-box&#x27;,     // å¯åŠ¨å…ƒç´  node æˆ– é€‰æ‹©å™¨</span></span><br><span class="line"><span class="string">  scale:      .5,                // ç¼©æ”¾å€æ•°</span></span><br><span class="line"><span class="string">  canSwitchCharacter: true,      // å…è®¸æ¢è§’è‰²</span></span><br><span class="line"><span class="string">&#125;);</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><div class='checkbox'><input type="radio" />            <p>ä¿®æ”¹root_blog\themes\butterfly_config.yml</p>            </div><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;&gt;</span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="attr">pjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line"><span class="string">+</span>    <span class="bullet">-</span> <span class="string">/link/</span></span><br><span class="line">    <span class="comment"># - xxxx</span></span><br><span class="line">    <span class="comment"># - xxxx</span></span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªSakanaäº†~<br><div class='checkbox'><input type="radio" />            <h3 id="è¿™é‡Œæˆ‘è¿˜ç»™Heoçš„éŸ³ä¹æ’­æ”¾å™¨åŠ ä¸Šäº†"><a href="#è¿™é‡Œæˆ‘è¿˜ç»™Heoçš„éŸ³ä¹æ’­æ”¾å™¨åŠ ä¸Šäº†" class="headerlink" title="è¿™é‡Œæˆ‘è¿˜ç»™Heoçš„éŸ³ä¹æ’­æ”¾å™¨åŠ ä¸Šäº†"></a>è¿™é‡Œæˆ‘è¿˜ç»™<a href="https://github.com/zhheo/HeoMusic">Heoçš„éŸ³ä¹æ’­æ”¾å™¨</a>åŠ ä¸Šäº†</h3>            </div><br><details class="folding-tag" cyan open orange><summary> æ•ˆæœå¦‚ä¸‹ </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="background-color: orange;">é¢„è§ˆç‚¹æˆ‘     </button><div class="hide-content"><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1677466852471.png" alt=""></p></div></div><div class="site-card-group"><a class="site-card" href="https://music.linjiangyu.com/"><div class="img"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1677466852471.png"/></div><div class="info"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/><span class="title">å¿ƒçµåº‡æŠ¤æ‰€</span><span class="desc">æˆ‘çš„ç«™ç‚¹</span></div></a></div>              </div>            </details><br><div class='checkbox'><input type="radio" />            <p>ä¿®æ”¹index.htmlæ–‡ä»¶</p>            </div><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon-precomposed&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;180x180&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./img/icon-r.webp&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“&quot;</span>&gt;</span></span><br><span class="line">+  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">+  <span class="selector-tag">html</span> <span class="selector-class">.sakana-box</span>&#123;</span></span><br><span class="line"><span class="language-css">+    <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">+    <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">+    <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">+    <span class="attribute">transform-origin</span>: <span class="number">100%</span> <span class="number">100%</span>; <span class="comment">/* ä»å³ä¸‹å¼€å§‹å˜æ¢ */</span></span></span><br><span class="line"><span class="language-css">+  &#125;</span></span><br><span class="line"><span class="language-css">+  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">......</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/APlayer.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/Meting2.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">data-pjax</span> <span class="attr">src</span>=<span class="string">&quot;./js/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">+  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sakana-box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">+  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/linjiangyu2/halo/js/sakana.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">+  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">+  <span class="comment">// å–æ¶ˆé™éŸ³</span></span></span><br><span class="line"><span class="language-javascript">+  <span class="title class_">Sakana</span>.<span class="title function_">setMute</span>(<span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">+  <span class="comment">// å¯åŠ¨</span></span></span><br><span class="line"><span class="language-javascript">+  <span class="title class_">Sakana</span>.<span class="title function_">init</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">+    <span class="attr">el</span>:         <span class="string">&#x27;.sakana-box&#x27;</span>,     <span class="comment">// å¯åŠ¨å…ƒç´  node æˆ– é€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="language-javascript">+    <span class="attr">scale</span>:      <span class="number">.5</span>,                <span class="comment">// ç¼©æ”¾å€æ•°</span></span></span><br><span class="line"><span class="language-javascript">+    <span class="attr">canSwitchCharacter</span>: <span class="literal">true</span>,      <span class="comment">// å…è®¸æ¢è§’è‰²</span></span></span><br><span class="line"><span class="language-javascript">+  &#125;);</span></span><br><span class="line"><span class="language-javascript">+  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>ç„¶å<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git add index.html</span></span><br><span class="line"><span class="comment"># git commit -m &#x27;none&#x27;</span></span><br><span class="line"><span class="comment"># git push</span></span><br></pre></td></tr></table></figure><br>æ¨åˆ°githubå°±å¯ä»¥äº†<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> é­”æ”¹æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kvm-qemuè™šæ‹ŸåŒ–</title>
      <link href="/posts/2388a20a.html"/>
      <url>/posts/2388a20a.html</url>
      
        <content type="html"><![CDATA[<p>ç¼–å†™ä¸­â€¦<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼“å­˜ä»£ç†ä¸­é—´ä»¶squid</title>
      <link href="/posts/e56cd95.html"/>
      <url>/posts/e56cd95.html</url>
      
        <content type="html"><![CDATA[<div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3></div><div class="note default orange simple"><h4 id="ç¼–è¯‘å‚æ•°"><a href="#ç¼–è¯‘å‚æ•°" class="headerlink" title="ç¼–è¯‘å‚æ•°"></a>ç¼–è¯‘å‚æ•°</h4></div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--preifxï¼šæŒ‡å®šå®‰è£…è·¯å¾„</span><br><span class="line">--sysconfdirï¼šæŒ‡å®šé…ç½®æ–‡ä»¶ç›®å½•</span><br><span class="line">--enable-arp-aclï¼šå¯ä»¥åœ¨è§„åˆ™ä¸­è®¾ç½®ä¸ºç›´æ¥é€šè¿‡å®¢æˆ·ç«¯MACè¿›è¡Œç®¡ç†ï¼Œé˜²æ­¢å®¢æˆ·ç«¯ä½¿ç”¨IPæ¬ºéª—</span><br><span class="line">--enable-linux-netfilterï¼šä½¿ç”¨å†…æ ¸è¿‡æ»¤</span><br><span class="line">--enable-linux-tproxyï¼šæ”¯æŒé€æ˜æ¨¡å¼</span><br><span class="line">--enable-async-io=100ï¼šå¼‚æ­¥I/Oï¼Œæå‡å­˜å‚¨æ€§èƒ½ï¼Œç›¸å½“äº --enable-<span class="attribute">pthreads</span>   --enable-storeio=ufs,aufs</span><br><span class="line">--enable-err-language=<span class="string">&quot;Simplify_Chinese&quot;</span>ï¼šæŠ¥é”™æ—¶æ˜¾ç¤ºçš„è¯­éŸ³ï¼Œè¿™é‡ŒæŒ‡å®šä¸ºChinese</span><br><span class="line">--enable-underscoreï¼šå…è®¸URLä¸­æœ‰ä¸‹åˆ’çº¿</span><br><span class="line">--enable-<span class="literal">poll</span>ï¼šä½¿ç”¨Poll()æ¨¡å¼ï¼Œæå‡æ€§èƒ½</span><br><span class="line">--enable-gnuregexï¼šä½¿ç”¨GUNæ­£åˆ™è¡¨è¾¾å¼</span><br></pre></td></tr></table></figure><div class="note default orange simple"><h4 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4></div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># useradd -r -s /sbin/nologin -M squid</span></span><br><span class="line"><span class="comment"># tar xf squid-release.tar.gz</span></span><br><span class="line"><span class="comment"># cd squid-release</span></span><br><span class="line"><span class="comment"># ./configure --prefix=/usr/local/squid --sysconfdir=/usr/local/squid/conf --enable-arp-acl --enable-linux-netfilter --enable-linux-tproxy --enable-async-io=100 --enable-err-language=&quot;Simplify_Chinese&quot; --enable-underscore --enable-poll --enable-gnuregex</span></span><br><span class="line"><span class="comment"># make -j2 &amp;&amp; make install</span></span><br><span class="line"><span class="comment"># usradd -r -s /sbin/nologin -M squid</span></span><br><span class="line"><span class="comment"># chown -R squid. /usr/local/squid</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># vim /etc/init.d/squid.sh</span></span><br><span class="line"><span class="attribute">export</span> SQUID_HOME=/usr/local/squid</span><br><span class="line">export PATH=<span class="variable">$&#123;SQUID_HOME&#125;</span>/sbin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># source !$</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><h4 id="unit"><a href="#unit" class="headerlink" title="unit"></a>unit</h4></div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat &gt; /usr/lib/systemd/system/squid.service &lt;&lt;END</span></span><br><span class="line"><span class="comment"># /usr/lib/systemd/system/squid.service</span></span><br><span class="line"><span class="comment"># author: linjiangyu</span></span><br><span class="line"><span class="comment"># cc: https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=<span class="attribute">Unit</span> squid by linjiangyu</span><br><span class="line">Documentation=https://linjiangyu.com/squid</span><br><span class="line">After=network-online.target nss-lookup.target remote-fs.target</span><br><span class="line">Wants=network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">PIDFile=/usr/local/squid/var/run/squid.pid</span><br><span class="line">ExecStart=/usr/local/squid/sbin/squid -f /usr/local/squid/conf/squid.conf</span><br><span class="line">ExecReload=/bin/kill -s HUP <span class="variable">$MAINPID</span></span><br><span class="line">ExecStop=/bin/kill -s QUIT <span class="variable">$MAINPID</span></span><br><span class="line">User=squid</span><br><span class="line">Group=squid</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">END</span><br></pre></td></tr></table></figure><div class="note default orange simple"><h4 id="æœåŠ¡å¯åŠ¨å‰å…ˆä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶è®©squidç”¨æˆ·å¯åŠ¨æœåŠ¡"><a href="#æœåŠ¡å¯åŠ¨å‰å…ˆä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶è®©squidç”¨æˆ·å¯åŠ¨æœåŠ¡" class="headerlink" title="æœåŠ¡å¯åŠ¨å‰å…ˆä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶è®©squidç”¨æˆ·å¯åŠ¨æœåŠ¡"></a>æœåŠ¡å¯åŠ¨å‰å…ˆä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶è®©squidç”¨æˆ·å¯åŠ¨æœåŠ¡</h4></div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/local/squid/conf/squid.conf</span></span><br><span class="line"><span class="attribute">cache_effective_user</span>squid</span><br><span class="line">cache_effective_groupsquid</span><br><span class="line">cache_dir ufs /usr/local/squid/var/cache/squid <span class="number">100</span> <span class="number">16</span> <span class="number">256</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># systemctl daemon-reload</span></span><br><span class="line"><span class="comment"># systemctl start squid.service</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¤šçº¿ç¨‹è§£å‹ç¼©ä¹‹pigz</title>
      <link href="/posts/d932a11.html"/>
      <url>/posts/d932a11.html</url>
      
        <content type="html"><![CDATA[<div class="note default orange simple"><p>ç°åœ¨éƒ½æ˜¯å¤šæ ¸çš„é«˜æ€§èƒ½æœåŠ¡å™¨ï¼Œå¦‚æœè¿˜ä¸€ç›´å•ä½¿ç”¨tarçš„è¯å¯å°±å¤ªæäº†</p></div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install -y pigz</span></span><br></pre></td></tr></table></figure><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>Options</p>            </div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-<span class="attribute">b</span> è®¾ç½®å‹ç¼©å—å¤§å°(default <span class="number">128k</span>)</span><br><span class="line">-d è§£å‹</span><br><span class="line">-k ä¸åˆ é™¤åŸå§‹æ–‡ä»¶</span><br><span class="line">-I è¾“å‡ºå‹ç¼©ç›®å½•</span><br><span class="line">-p æœ€å¤§ä½¿ç”¨çº¿ç¨‹æ•°</span><br><span class="line">-q ä¸è¾“å‡ºä¿¡æ¯</span><br><span class="line">-r é€’å½’</span><br><span class="line">-S ä½¿ç”¨sssåç¼€æ›¿æ¢gz</span><br><span class="line">-v æ˜¾ç¤ºè§£å‹ç¼©è¿‡ç¨‹</span><br></pre></td></tr></table></figure><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>Example</p>            </div><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar --use-compress-program=&quot;pigz -k -p4&quot; k.tar.gz ./k</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>swapä½¿ç”¨è¿‡åº¦åæœ</title>
      <link href="/posts/6f3762be.html"/>
      <url>/posts/6f3762be.html</url>
      
        <content type="html"><![CDATA[<h3 id="SWAPä½¿ç”¨è¿‡å¤šçš„åæœ"><a href="#SWAPä½¿ç”¨è¿‡å¤šçš„åæœ" class="headerlink" title="SWAPä½¿ç”¨è¿‡å¤šçš„åæœ"></a>SWAPä½¿ç”¨è¿‡å¤šçš„åæœ</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">swap</span>æ˜¯ä½¿ç”¨ç£ç›˜ç©ºé—´åˆ¶ä½œçš„äº¤æ¢åˆ†åŒºï¼Œä¸€èˆ¬åœ¨æœºå™¨çš„ç‰©ç†å†…å­˜ä¸å¤Ÿä½¿ç”¨æ—¶æ‰ä¼šæŠŠéƒ¨åˆ†æ¯”è¾ƒä¸æ´»è·ƒæ•°æ®æš‚æ—¶ç¼“å­˜åœ¨<span class="keyword">swap</span>åˆ†åŒºä¸­</span><br></pre></td></tr></table></figure><ul><li>ç®€å•ä¸¾ä¸€ä¸‹ä¾‹å­<ul><li>åœ¨ä¸€ä¸ªè¿ç»´çš„äº¤æµç¾¤é‡Œé¢æœ‰äººè¯´ä»–çš„1Gå†…å­˜æœåŠ¡å™¨åˆ’åˆ†äº†8Gçš„swapç©ºé—´ç„¶åè·‘äº†<strong>gitlab</strong>å’Œ8ä¸ª<strong>java</strong>æœåŠ¡å’Œ<strong>cicd</strong>(æˆ‘çº¯è·¯äºº)</li></ul></li></ul><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸è¯´JavaæœåŠ¡çš„å†…å­˜èµ·ä¼äº†ï¼Œå°±å•èŠèŠè¿™ä¸ªgitlabï¼Œå®˜æ–¹æ¨èçš„æœ€ä½é…ç½®æ˜¯<span class="number">2</span>æ ¸<span class="number">4</span>Gæ‰å¯ä»¥è·‘ï¼Œæˆ‘åœ¨è™šæ‹Ÿæœºçš„æµ‹è¯•ä¸­<span class="number">4</span>Gä¹Ÿæ˜¯è¿œè¿œä¸å¤Ÿç»™gitlabä½¿ç”¨ï¼Œä¸ªäººæ„Ÿè§‰æœ€å°‘ç»™ä¸ª<span class="number">8</span>Gæ‰èƒ½å‹‰å¼ºä½¿ç”¨ï¼Œæ¯•ç«Ÿå¯åŠ¨ä¾¿è¦<span class="number">2</span>Gå†…å­˜ï¼ˆä½¿ç”¨dockerå®‰è£…çš„å¯èƒ½ä¼šåä½ä¸€äº›ä½†æ˜¯ä¸ä¼šä½åˆ°å“ªå»ï¼‰</span><br><span class="line"></span><br><span class="line">æœ¬æ¥æ˜¯åœ¨å†…å­˜ä¸­éƒ½éœ€è¦ä¿åº•ç‚¹è¯´<span class="number">6</span>Gçš„å†…å­˜ï¼Œåœ¨çœŸå®å†…å­˜åªæœ‰<span class="number">1</span>Gçš„äº‘æœåŠ¡å™¨ä¸Šå’Œ<span class="number">8</span>Gçš„<span class="keyword">swap</span>ç©ºé—´ï¼Œè¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Œå…¶ä¸­<span class="number">5</span>Gçš„å†…å­˜éœ€æ±‚<span class="number">8</span>Gçš„<span class="keyword">swap</span>ç©ºé—´è¦æ€ä¹ˆé¡¶æ›¿ï¼Œä¼—æ‰€å‘¨çŸ¥å†…å­˜çš„é€Ÿåº¦æ— æ¯”çš„å¿«ï¼Œåº•éƒ¨æ˜¯ç£ç›˜å­˜å‚¨çš„<span class="keyword">swap</span>è¦æ‰¿æ‹…å…¶ä¸­<span class="number">5</span>Gå†…å­˜ç©ºé—´çš„å¿«é€Ÿé¢‘ç¹çš„è¯»å†™æ“ä½œä¼šå¯¼è‡´æœºå™¨çš„ç£ç›˜IOç¹å¿™ï¼Œè‡ªç„¶ä¾¿ä¼šæå¤§é™ä½æ“ä½œç³»ç»Ÿçš„è¿è¡Œé€Ÿç‡ï¼Œç”šè‡³å¯¼è‡´å®•æœºï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆk8sç¦æ­¢ä½¿ç”¨<span class="keyword">swap</span>çš„éƒ¨åˆ†åŸå› </span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>cpio</title>
      <link href="/posts/35144386.html"/>
      <url>/posts/35144386.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="cpio"><a href="#cpio" class="headerlink" title="cpio"></a>cpio</h3></div></div><div class="note default orange simple"><p>ä¼˜ç‚¹: å¯ä»¥å¤‡ä»½ä»»ä½•çš„æ–‡ä»¶</p><p>ç¼ºç‚¹: éœ€è¦é…åˆåˆ«çš„å‘½ä»¤æ‰èƒ½å®ç°</p></div><h4 id="command"><a href="#command" class="headerlink" title="command"></a>command</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cpio <span class="literal">-ovcB</span> &gt; [<span class="type">file</span>|<span class="type">device</span>]        //å¤‡ä»½</span><br><span class="line">cpio <span class="literal">-ivcdu</span> &lt; [<span class="type">file</span>|<span class="type">device</span>]       //è¿˜åŸ</span><br><span class="line">cpio <span class="literal">-ivct</span> &lt; [<span class="type">file</span>|<span class="type">device</span>]        //æŸ¥çœ‹</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½ä¼šä½¿ç”¨åˆ°çš„å‚æ•°</span></span><br><span class="line"><span class="literal">-o</span>   å°†æ•°æ®å¤åˆ¶è¾“å‡ºåˆ°æ–‡ä»¶æˆ–è®¾å¤‡ä¸Š</span><br><span class="line"><span class="literal">-B</span>   è®©é»˜è®¤çš„blockså¯ä»¥å¢åŠ è‡³<span class="number">5120</span>å­—èŠ‚(é»˜è®¤æ˜¯<span class="number">512</span>å­—èŠ‚),å¯ä»¥è®©å¤§æ–‡ä»¶çš„å­˜å‚¨é€Ÿåº¦åŠ å¿«</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿˜åŸä¼šä½¿ç”¨åˆ°çš„å‚æ•°</span></span><br><span class="line"><span class="literal">-i</span>   å°†æ•°æ®è‡ªæ–‡æˆ–è®¾å¤‡å¤åˆ¶å‡ºæ¥</span><br><span class="line"><span class="literal">-d</span>   è‡ªåŠ¨å»ºç«‹ç›®å½•,ä½¿ç”¨cpioæ‰€å¤‡ä»½çš„å†…å®¹ä¸è§å¾—ä¼šåœ¨åŒä¸€å±‚ç›®å½•ä¸­,æ‰€ä»¥è¦è®©cpioåœ¨å¤åˆ¶çš„æ—¶å€™å¯ä»¥è‡ªå·±åˆ›å»ºç›®å½•</span><br><span class="line"><span class="literal">-u</span>   è‡ªåŠ¨æŠŠæ–°æ–‡ä»¶è¦†ç›–æ—§æ–‡ä»¶</span><br><span class="line"><span class="literal">-t</span>   é…åˆ<span class="literal">-i</span>æŸ¥çœ‹ä»¥cpioå»ºç«‹çš„æ–‡ä»¶æˆ–è®¾å¤‡çš„ä½ å†…å®¹</span><br><span class="line"><span class="literal">-v</span>   æ˜¾ç¤ºè¿‡ç¨‹</span><br><span class="line"><span class="literal">-c</span>   ä»¥portable formatæ–¹å¼å­˜å‚¨</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>example:</p><p>å¤‡ä»½/bootç›®å½•ä¸­çš„å†…å®¹</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /</span></span><br><span class="line"><span class="comment"># find boot | cpio -ocvB &gt; /opt/boot.cpio       //æ‰“åŒ…</span></span><br><span class="line">è¿™é‡Œç»å¯¹ä¸èƒ½ä½¿ç”¨ç»å¯¹è·¯å¾„(æ‰€ä»¥ä½¿ç”¨findå‘½ä»¤çš„æ—¶å€™åœ¨/ä¸‹è¿è¡Œå‡ºæ¥å°±ä¼šæ˜¯./PATH),è¦ä¸ç„¶è§£åŒ…çš„æ—¶å€™cpioä¼šè‡ªåŠ¨æŠŠæ•°æ®è§£åŒ…è¦†ç›–åŸç›®å½•</span><br><span class="line"><span class="comment"># cd</span></span><br><span class="line"><span class="comment"># cpio /opt/boot.cpio &lt; /opt/boot.cpio   //è§£åŒ…åˆ°å½“å‰ç›®å½•</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>äº‹å®ä¸Šcpioå¯ä»¥æŠŠä¸€æ•´ä¸ªç³»ç»Ÿçš„æ•°æ®å®Œæ•´çš„å¤‡ä»½åˆ°å…‰ç›˜ä¸­</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># find / | cpio -ocvB &gt; /dev/st0     //å¤‡ä»½</span></span><br><span class="line"><span class="comment"># cpio -idvc &lt; /dev/st0              //è¿˜åŸ</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> LinuxåŸºç¡€ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>dd</title>
      <link href="/posts/a97191d.html"/>
      <url>/posts/a97191d.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="dd"><a href="#dd" class="headerlink" title="dd"></a>dd</h3></div></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">lsblk</span></span><br><span class="line">/dev/sdb10G</span><br><span class="line">/dev/sdc10G</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mkfs.xfs /dev/sdb</span> </span><br><span class="line">/dev/sdcæ˜¯ä½œä¸ºè¦å¤åˆ¶çš„&quot;è·¯å¾„&quot;è®¾å¤‡,ä¸éœ€è¦æ ¼å¼åŒ–æˆxfsæ–‡ä»¶ç³»ç»Ÿ,ddå‘½ä»¤å¯ä»¥å°†æºå—è®¾å¤‡çš„ç£ç›˜åˆ†åŒºä¸Šæ‰‡åŒºçš„æ•°æ®æ•´ä¸ªå¤åˆ¶,è¿åŒè¶…çº§åŒºå—ã€å¯åŠ¨æ‰‡åŒºã€å…ƒæ•°æ®å’ŒUUIDéƒ½ä¼šä¸€è‡´å¤åˆ¶</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mkdir</span> /&#123;sdb,sdc&#125; -v</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mount /dev/sdb /sdb</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mounr /dev/sdc /sdc</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cp</span> -a /etc/. /sdb/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/sdb of=/dev/sdc  //ç›´æ¥æŠŠ/dev/sdbè®¾å¤‡å—å¤åˆ¶åˆ°/dev/sdc,ä¸æŒ‡å®šbs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xfs_repair -L /dev/sdc      //è®©æ—¥å¿—æ–‡ä»¶å½’é›¶,æ¸…ç†ä¸€ä¸‹æ—¥å¿—</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xfs_admin -U `uuid` /dev/sdc    //é‡æ–°æŒ‡å®šä¸€ä¸‹UUID,å› ä¸ºä½¿ç”¨<span class="built_in">dd</span>å‘½ä»¤æ‹·è´çš„æ—¶å€™è¿UUIDä¹Ÿä¸€å¹¶æ‹·è´ç›¸åŒäº†</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mount /dev/sdc /sdc        //æŸ¥çœ‹ä¸€ä¸‹å¤åˆ¶è¿‡æ¥çš„å’Œ/dev/sdbè®¾å¤‡ä¸Šçš„æ•°æ®æ˜¯å¦ä¸€è‡´</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> LinuxåŸºç¡€ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç§äººäº‘ç›˜ä¹‹Alist</title>
      <link href="/posts/e7cd4481.html"/>
      <url>/posts/e7cd4481.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="Alist"><a href="#Alist" class="headerlink" title="Alist"></a>Alist</h3></div></div><details class="folding-tag" ><summary> é¢„è§ˆ </summary>              <div class='content'>              <div class="hide-block"><button type="button" class="hide-button" style="background-color: orange;">æ•ˆæœé¢„è§ˆ     </button><div class="hide-content"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/temp/alist.jpg"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/temp/al.png"/></div></div></div></div>              </div>            </details><p>è¯¦æƒ…çœ‹<a href="https://alist.nn.ci/">Alist</a><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">curl -fsSL <span class="string">&quot;https://alist.nn.ci/v3.sh&quot;</span> | bash -s install// æ–°æ‰‹ä½¿ç”¨ä¸€é”®è„šæœ¬å®‰è£…æ˜¯æœ€ç®€å•çš„å•¦</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤è¿è¡Œåœ¨5244ç«¯å£ï¼Œæˆ‘è¿™é‡Œæ˜¯åŸºäºåŸŸåçš„å¤šhttpsæœåŠ¡ï¼Œåé¢å¯èƒ½ä¼šå†™ä¸Š</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ¨äº†/opt/alistä¸‹ï¼Œè¿™é‡Œè¦è·å–ä¸€ä¸‹åˆå§‹å¯†ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> /opt/alist</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">./alist admin  <span class="comment"># ä¼šæ˜¾ç¤ºä½ çš„åˆå§‹å¯†ç ï¼Œè®°å½•èµ·æ¥</span></span></span><br></pre></td></tr></table></figure><br><div class="note default orange simple"><p>Alisté»˜è®¤æ”¯æŒäº†æœ¬åœ°å­˜å‚¨çš„æŒ‚è½½å’Œå¤šç§å½“å‰æ¯”è¾ƒæµè¡Œçš„ç½‘ç›˜æŒ‚è½½ä¾‹å¦‚ç™¾åº¦ç½‘ç›˜ï¼Œé˜¿é‡Œäº‘ç›˜ç­‰ç­‰ï¼Œä½†å’Œæˆ‘éƒ½æ²¡å…³ç³»å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯å¤©ç¿¼äº‘ç›˜</p></div><br><details class="folding-tag" cyan open><summary> å¤©ç¿¼äº‘ç›˜æŒ‚è½½ </summary>              <div class='content'>              <p>é¦–å…ˆåœ¨pcç½‘é¡µç«¯ç™»é™†ä¸Šå¤©ç¿¼äº‘ç›˜,è®¾ç½®å¥½å¯†ç ,è¿›å…¥åˆ°æƒ³è¦æŒ‚è½½çš„ç›®å½•ä¸‹ï¼ŒæŸ¥çœ‹å½“å‰ç½‘å€çš„æœ€åä¸€ä¸²æ•°å­—ä¾¿æ˜¯æ–‡ä»¶å¤¹ID<br>åƒæˆ‘ä¸€æ ·æŒ‚è½½çš„ä¹Ÿæ˜¯å¤©ç¿¼äº‘ç›˜ä¸­alistä¸‹çš„ç›®å½•ï¼Œè¿›å…¥åˆ°alistç›®å½•ç„¶åæŸ¥çœ‹</p><div class="hide-block"><button type="button" class="hide-button" style="background-color: orange;">é¢„è§ˆ    </button><div class="hide-content"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/temp/1669152925609.png"/></div></div></div></div><p>è¿™é‡Œæˆ‘é®æ‰çš„é‚£éƒ¨åˆ†å°±æ˜¯æ–‡ä»¶å¤¹IDäº†ï¼Œè®°å½•ä¸‹æ¥ä¸‹é¢è¦ä½¿ç”¨åˆ°<br>ä½¿ç”¨IP:5244æˆ–è€…ä½ å·²ç»è®¾ç½®å¥½äº†åŸŸåè®¿é—®Webç•Œé¢ï¼ŒAlistå¯ä»¥é€šè¿‡å›¾å½¢åŒ–åå°ç®¡ç†åœ¨æœ€ä¸‹æ–¹ç‚¹å‡»ç™»é™†æŒ‰ä¹‹å‰è·å–çš„åˆå§‹å¯†ç ,ç™»é™†åå¯ä¿®æ”¹å¯†ç <br>ç‚¹å‡»Storages&gt;Add&gt;189Cloud<br>Mount Path è¾“å…¥è¦æŒ‚è½½åˆ°çš„ç›®å½•ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨çš„alistç›®å½•ä¸­çš„æ–‡ä»¶å…¨éƒ¨è¦æŒ‚è½½åˆ°ä¸»ç›®å½•ä¸‹ä¾¿å¡«/ï¼Œè¦æŒ‚è½½åˆ°ä¸»ç›®å½•ä¸‹çš„optç›®å½•ä¸‹ä¾¿å¡«/opt<br>Username è¾“å…¥ç™»é™†çš„æ‰‹æœºå·<br>Password è¾“å…¥è´¦å·å¯†ç <br>Rooy folder id è¾“å…¥ä¸Šé¢è·å¾—çš„æ–‡ä»¶å¤¹ID<br>æœ€åADDæ·»åŠ å¯ç”¨ä¾¿è·å¾—äº†ä¸€ä¸ªç§äººçš„ç™½å«–äº‘ç›˜å•¦,è¿™é‡Œé€‰æ‹©å¤©ç¿¼äº‘ç›˜æ˜¯å› ä¸ºæ”¯æŒåœ¨çº¿æµè§ˆä¸Šä¼ å’Œä¸‹è½½ï¼Œé€Ÿåº¦äº²æµ‹å¹³å‡10M/s</p>              </div>            </details><br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> storage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>safe-rm</title>
      <link href="/posts/87519fc9.html"/>
      <url>/posts/87519fc9.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>safe-rm</p></div></div><div class='checkbox orange checked'><input type="checkbox" checked="checked"/>            <p>çœ‹åå­—å°±èƒ½çŸ¥é“æ˜¯ä»€ä¹ˆäº†ï¼Œå®‰å…¨çš„rmå‘½ä»¤</p>            </div><div class="note default orange simple"><p>æ¯”rmå‘½ä»¤å¢åŠ çš„åŠŸèƒ½ï¼Œskip Directory or file</p></div><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ… </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="safe-rm.tar.gz" href="https://alist.linjiangyu.com/d/Linux/safe-rm-0.12.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">safe-rm.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/safe-rm-0.12.tar.gz</p></div></a></div>              </div>            </details>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tar xf safe-rm.tar.gz</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> safe-rm-0.12</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">chown</span> root. safe-rm</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> safe-rm /usr/local/bin/rm</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /etc/profile</span></span><br><span class="line">export PATH=/usr/local/bin:$PATH</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç¼–å†™ä¸€ä¸‹ç¦æ­¢åˆ é™¤çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">touch</span> /opt/t1                    // æµ‹è¯•æ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /etc/safe-rm.conf         // è¿™ä¸ªæ–‡ä»¶æ˜¯è‡ªå·±åˆ›å»ºçš„,safe-rmä¼šé»˜è®¤å»æ‰¾è¿™ä¸ªæ–‡ä»¶çš„è§„åˆ™</span></span><br><span class="line">/</span><br><span class="line">/*</span><br><span class="line">/etc</span><br><span class="line">/etc/*</span><br><span class="line">/usr</span><br><span class="line">/usr/local</span><br><span class="line">/usr/local/bin</span><br><span class="line">/usr/local/bin/*</span><br><span class="line">/root</span><br><span class="line">/root/*</span><br><span class="line">/opt/t1         # ä¸ºäº†æµ‹è¯•</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">rm</span> -f /opt/t1</span>  </span><br><span class="line">safe-rm: skipping t1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¼šæ— æ³•åˆ é™¤,æŠŠ/etc/safe-rm.confä¸­çš„/opt/t1åˆ é™¤åå†<span class="built_in">rm</span> -f /opt/t1ä¾¿å¯åˆ é™¤</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hadoop+spark+zookeeper+hiveåˆ†å¸ƒå¼é›†ç¾¤æ­å»º</title>
      <link href="/posts/b10cf3a3.html"/>
      <url>/posts/b10cf3a3.html</url>
      
        <content type="html"><![CDATA[<div class="timeline orange"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>å¤§æ•°æ®æœåŠ¡åˆé›†</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-09-01 <a href="https://linjiangyu.com/posts/b10cf3a3.html">hadoop+spark</a></p></div></div><div class='timeline-item-content'><p>hadoop+sparkåˆè¯†</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-11 <a href="https://linjiangyu.com/posts/b10cf3a3.html#zookeeperåˆ†å¸ƒå¼">zookeeper</a></p></div></div><div class='timeline-item-content'><p>å‘é›†ç¾¤åŠ å…¥äº†zookeeperåˆ†å¸ƒå¼</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-19 <a href="https://linjiangyu.com/posts/b10cf3a3.html#hive">hive</a></p></div></div><div class='timeline-item-content'><p>è¿™é‡Œä¹Ÿå†™äº†é€‚é…CentOS6.xçš„é…ç½®</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-11-19 <a href="https://linjiangyu.com/posts/b10cf3a3.html#flume">flume</a></p></div></div><div class='timeline-item-content'><p>æ—¥å¿—é‡‡é›†</p></div></div></div><details class="folding-tag" cyan orang open><summary> å¤§æ•°æ®æœåŠ¡åˆé›† </summary>              <div class='content'>              <p><span class='nota' data-nota='hadoop+spark+zookeeper+hiveåˆ†å¸ƒå¼é›†ç¾¤'>å¤§æ•°æ®æœåŠ¡åˆé›†</span></p>              </div>            </details><p>2022-09-01hadoopå’Œsparkçš„åˆè¯†<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hadoop and spark</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><br>2022-11-11æ·»åŠ äº†zookeeperåˆ†å¸ƒå¼<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">zookeeper</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><br>2022-11-19æ·»åŠ äº†ç»“åˆMariadbçš„hiveæ•°æ®åº“ä½¿ç”¨<span class="hidden-anchor" id="referto_[3]"></span><sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hive</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span></p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.linjiangyu.com/2022/09/01/hadoop-spark%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/">hadoop and sparkåˆ†å¸ƒå¼</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.linjiangyu.com/2022/11/11/hadoop-spark-zookeeper%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">zookeeper</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.linjiangyu.com/2022/11/18/hadoop-spark-zookeeper-hive%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">hive</a></div><p>hadoop+spark+zookeeper+hiveåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3></div></div><div class="note default orange simple"><p>ç¯å¢ƒçš„å‡†å¤‡åŸºäºæˆ‘å†™çš„åˆå§‹åŒ–è„šæœ¬,è‡ªç”¨7.xç³»åˆ—çš„CentOS,è€ç‰ˆæœ¬çš„å°±æ”¯æŒCentOS/Redhat6,7,8ä½†æ˜¯æœ‰ç‚¹ä¸å®Œå–„ï¼Œéœ€è¦å¯ä»¥é‚®ç®±æˆ–è€…åšå®¢ç•™è¨€ã€‚</p></div><div class="table-container"><table><thead><tr><th style="text-align:center">os\ip</th><th style="text-align:center">hostname</th><th style="text-align:center">block</th></tr></thead><tbody><tr><td style="text-align:center">centos7.9 192.168.222.226</td><td style="text-align:center">master</td><td style="text-align:center">rsmanager,datanode,namenode.snamenode,nmanager</td></tr><tr><td style="text-align:center">centos7.9 192.168.222.227</td><td style="text-align:center">node1</td><td style="text-align:center">snamenode,nmnager,datanode</td></tr><tr><td style="text-align:center">centos7.9 192.168.222.228</td><td style="text-align:center">node2</td><td style="text-align:center">datanode,nmanager</td></tr></tbody></table></div><div class="tabs" id="åˆå§‹åŒ–"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#åˆå§‹åŒ–-1">æ—§ç‰ˆ</button></li><li class="tab active"><button type="button" data-href="#åˆå§‹åŒ–-2">æ–°ç‰ˆ(æ¨è)</button></li><li class="tab"><button type="button" data-href="#åˆå§‹åŒ–-3">èˆ¹æ–°ç‰ˆ</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="åˆå§‹åŒ–-1"><p><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>å›½å¤–æœåŠ¡å™¨æ‰˜ç®¡ä»£ç ï¼Œå¯èƒ½è¢«å¢™</p>            </div><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/linjiangyu2/K.git   //å¯èƒ½ä¼šæ‹‰ä¸ä¸‹æ¥ï¼Œå¤šæ‹‰å‡ æ¬¡å°±ä¸‹æ¥äº†ï¼Œå› ä¸ºæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨æ˜¯å›½å¤–çš„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> K</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> README.md  //ä¸ä¼šä½¿ç”¨çš„è¦çœ‹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ï¼Œäº†è§£è„šæœ¬éœ€è¦è¾“å…¥çš„é…ç½®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">./ksh  //ä¾æ¬¡è¾“å…¥ä½ è‡ªå·±çš„é…ç½®ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªè„šæœ¬ä¸€å®šè¦çœ‹README.mdæ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœéœ€è¦æœ‰æ—¶å€™æ”¹IPåœ°å€å›¾æ–¹ä¾¿çš„è¯ï¼Œç›´æ¥æŠŠkshè¿™ä¸ªäºŒè¿›åˆ¶çš„è„šæœ¬æ”¾åœ¨/usr/binä¸‹ï¼Œä¾¿å¯ä»¥åœ¨å…¨å±€æ‰§è¡Œäº†</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> ksh /usr/bin/ksh</span></span><br><span class="line">ä½¿ç”¨kshåˆå§‹åŒ–åï¼Œå¼€å§‹é…ç½®</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="åˆå§‹åŒ–-2"><p><div class='checkbox orange checked'><input type="checkbox" checked="checked"/>            <p>æœ¬ç«™æ‰˜ç®¡ä»£ç æ”¾å¿ƒé£Ÿç”¨</p>            </div><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yum install -y https://mirrors.linjiangyu.com/centos/7/x86_64/tianlin-release.noarch-7-1.x86_64.rpm</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yum --enablerepo=<span class="string">&#x27;tianlin&#x27;</span> install -y ksh-5.0-1.x86_64</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> /usr/share/K/README.md  //ä¸ä¼šä½¿ç”¨çš„è¦çœ‹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ï¼Œäº†è§£è„šæœ¬éœ€è¦è¾“å…¥çš„é…ç½®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ksh  //ä¾æ¬¡è¾“å…¥ä½ è‡ªå·±çš„é…ç½®ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªè„šæœ¬ä¸€å®šè¦çœ‹README.mdæ–‡ä»¶</span></span><br><span class="line">ä½¿ç”¨kshåˆå§‹åŒ–åï¼Œç»§ç»­ä¸‹æ–‡é…ç½®</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆå§‹åŒ–-3"><p><div class='checkbox orange checked'><input type="checkbox" checked="checked"/>            <p>CDNæ‰˜ç®¡æ”¾å¿ƒé£Ÿç”¨</p>            </div><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">wget https://cdn.staticaly.com/gh/linjiangyu2/K@master/ksh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">chmod</span> +x ./ksh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">./ksh  //ä¾æ¬¡è¾“å…¥ä½ è‡ªå·±çš„é…ç½®ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªè„šæœ¬ä¸€å®šè¦çœ‹https://github.com/linjiangyu2/K</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœéœ€è¦æœ‰æ—¶å€™æ”¹IPåœ°å€å›¾æ–¹ä¾¿çš„è¯ï¼Œç›´æ¥æŠŠkshè¿™ä¸ªäºŒè¿›åˆ¶çš„è„šæœ¬æ”¾åœ¨/usr/binä¸‹ï¼Œä¾¿å¯ä»¥åœ¨å…¨å±€æ‰§è¡Œäº†</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> ksh /usr/bin/ksh</span></span><br><span class="line">ä½¿ç”¨kshåˆå§‹åŒ–åï¼Œç»§ç»­ä¸‹æ–‡é…ç½®</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note default orange simple"><p>å¯¹åº”è‡ªå·±çš„IPåœ°å€ï¼Œæœ€å¥½/etc/hostsçš„è§£æåå’Œæˆ‘ä¸€è‡´ï¼Œä¸ç„¶ä¸‹é¢çš„é…ç½®æ–‡ä»¶éœ€è¦è‡ªå·±å¯¹åº”è‡ªå·±çš„è§£æåä¿®æ”¹</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">[master]# </span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="built_in">cat</span> &gt; /etc/hosts &lt;&lt;<span class="string">END</span></span></span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 </span><br><span class="line">192.168.222.226 master</span><br><span class="line">192.168.222.227 node1</span><br><span class="line">192.168.222.228 node2</span><br><span class="line">END</span><br><span class="line"><span class="meta prompt_">[master]# </span><span class="language-bash"><span class="string">ssh-keygen -P &#x27;&#x27; -f ~/.ssh/id_rsa</span></span></span><br><span class="line"><span class="meta prompt_">[master]# </span><span class="language-bash"><span class="string">for i in master node&#123;1..2&#125;;do ssh-copy-id $i;done</span></span></span><br><span class="line"><span class="meta prompt_">[master]# </span><span class="language-bash"><span class="string">for i in node&#123;1..2&#125;;do rsync -av /etc/hosts root@$i:/etc/hosts;done</span></span></span><br><span class="line"><span class="meta prompt_">[master]# </span><span class="language-bash"><span class="string">for i in master node&#123;1..2&#125;;do ssh $i yum install -y openssl-devel;done</span></span></span><br></pre></td></tr></table></figure><p>2.æ­å»º</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="hadoopåˆ†å¸ƒå¼"><a href="#hadoopåˆ†å¸ƒå¼" class="headerlink" title="hadoopåˆ†å¸ƒå¼"></a>hadoopåˆ†å¸ƒå¼</h3></div></div><h4 id="ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…"><a href="#ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…" class="headerlink" title="ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…"></a>ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…</h4><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ… </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="hadoop-2.8.5.tar.gz" href="https://alist.linjiangyu.com/d/Linux/hadoop-2.8.5.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">hadoop-2.8.5.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/hadoop-2.8.5.tar.gz</p></div></a></div><div class="tag link"><a class="link-card" title="jdk-8u212-linux-x64.tar.gz" href="https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">jdk-8u212-linux-x64.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz</p></div></a></div>              </div>            </details><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">  [master]# </span><span class="language-bash">tar xf hadoop...  //ä¸çŸ¥é“ä½ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œå†™äº†...ï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ï¼Œtabé”®æˆ–è€…å¯¹åº”ä¿®æ”¹å°±å¯ä»¥</span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">...æ˜¯è¡¨ç¤ºæˆ‘ä¸çŸ¥é“ä½ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œè‡ªå·±æ”¹</span></span><br><span class="line">  [root@ master]# tar xf jdk...</span><br><span class="line">  [root@ master]# tar xf hadoop...</span><br><span class="line">  [root@ master]# mv hadoop... /opt/hadoop285</span><br><span class="line">  [root@ master]# mv jdk... /usr/local/jdk</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /etc/profile</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export HADOOP_HOME=/opt/hadoop285</span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$&#123;HADOOP_HOME&#125;/bin:$&#123;HADOOP_HOME&#125;/sbin:$PATH</span><br><span class="line">export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native </span><br><span class="line">export HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_HOME/lib/native&quot;</span><br><span class="line">export LD_LIBRARY_PATH=$HADOOP_HOME/lib/native/:$LD_LIBRARY_PATH</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> !$</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸‹æ˜¯è‡ªå·±ç›´æ¥å†™å…¥é…ç½®ï¼Œåœ¨masteræœåŠ¡å™¨ä¸Šè¿›è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> /opt/hadoop285/etc/hadoop</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim hadoop-env.sh  //ä¿®æ”¹æ–‡ä»¶é‡Œé¢çš„<span class="built_in">export</span> JAVA_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>ä¸º</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim yarn-env.sh //ä¿®æ”¹å‰é¢æœ‰æ³¨é‡Šçš„<span class="built_in">export</span> JAVA_HOMEä¸º</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># vim core-site.xml</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://master:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.hosts<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.groups<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># vim hdfs-site.xml</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.name.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/data/hdfs/name<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.datanode.data.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/data/hdfs/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># vim yarn-site.xml </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>master<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># cp mapred-site.xml.template mapred-site.xml</span><br><span class="line"># vim mapred-site.xml</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim slaves</span></span><br><span class="line">master</span><br><span class="line">node1</span><br><span class="line">node2</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç„¶ååœ¨masterèŠ‚ç‚¹æŠŠé…ç½®å‘åˆ°å„ä¸ªèŠ‚ç‚¹</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">[master]# </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /usr/local/jdk root@<span class="variable">$i</span>:/usr/local/;<span class="keyword">done</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /opt/hadoop285 root@<span class="variable">$i</span>:/opt/;<span class="keyword">done</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /etc/profile root@<span class="variable">$i</span>:/etc/profile;<span class="keyword">done</span></span></span><br><span class="line">ç„¶ååˆ°å„ä¸ªèŠ‚ç‚¹</span><br><span class="line">[node1,2]# source /etc/profile</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨node1,2ä¸Šæ“ä½œï¼Œæœ€ååœ¨masteræ“ä½œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hdfs namenode -format   //åˆå§‹åŒ–</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span> -d /opt/data   //æ­¤æ–‡ä»¶å¤¹äº§ç”Ÿå°±æ˜¯åˆå§‹åŒ–æˆåŠŸ</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨masterä¸Šæ“ä½œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ master]# start-all.sh</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>æœ€åå¯ä»¥åœ¨å„ä¸ªèŠ‚ç‚¹ä½¿ç”¨jpså‘½ä»¤æŸ¥çœ‹å„è‡ªçš„éƒ¨ä»¶</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ xxx]# jps</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å½“ç„¶webç•Œé¢ä¹Ÿå¯ä»¥è®¿é—®çš„ï¼Œæµè§ˆå™¨è®¿é—®192.168.222.226:8088å’Œ192.168.222.226:50070(å¯¹åº”è‡ªå·±IPåœ°å€)</p></div><div class="note default orange simple"><p>æ¥å°è¯•è¿è¡Œä¸€ä¸‹ç¬¬ä¸€ä¸ªhadoopåˆ†å¸ƒå¼ä»»åŠ¡å§</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ master]# hdfs dfs -put /etc/passwd /t1</span><br><span class="line">[root@ master]# hadoop jar /opt/hadoop285/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.8.5.jar wordcount /t1 /output/00</span><br><span class="line">[root@ master]# hdfs dfs -ls /output/00  //æŸ¥çœ‹è¿è¡Œåçš„ç»“æœæ–‡ä»¶,è¿è¡Œåçš„æ•°æ®åœ¨part-r-00000</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="sparkåˆ†å¸ƒå¼"><a href="#sparkåˆ†å¸ƒå¼" class="headerlink" title="sparkåˆ†å¸ƒå¼"></a>sparkåˆ†å¸ƒå¼</h3></div></div><div class="note default orange simple"><p>ä¸‹é¢å¼€å§‹æ­å»ºåˆ†å¸ƒå¼spark</p></div><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨sparkçš„3.3.0ç‰ˆæœ¬ </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="spark-3.3.0-bin-hadoop3.tgz" href="https://alist.linjiangyu.com/d/Linux/spark-3.3.0-bin-hadoop3.tgz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">spark-3.3.0-bin-hadoop3.tgz</p><p class="url">https://alist.linjiangyu.com/d/Linux/spark-3.3.0-bin-hadoop3.tgz</p></div></a></div>              </div>            </details><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŠŠsparkåŒ…ä¸Šä¼ åˆ°æœºå™¨ä¸Šï¼Œç„¶ååˆ°è¯¥åŒ…çš„ç›®å½•ï¼Œè¿™é‡Œç»Ÿä¸€ä»¥spark-3.3.0-bin-hadoop3.tgzè¿™ä¸ªåŒ…ä¸ºæ¼”ç¤º</span></span><br><span class="line">[root@ master]# tar xf spark-3.3.0-bin-hadoop3.tgz</span><br><span class="line">[root@ master]# mv spark-3.3.0-bin-hadoop3 /opt/spark</span><br><span class="line">[root@ master]# vim /etc/profile</span><br><span class="line">export PATH=/opt/spark/bin:/opt/spark/sbin:$PATH</span><br><span class="line">[root@ master]# cd /opt/spark/conf</span><br><span class="line">[root@ master]# mv spark-env.sh.template spark-env.sh</span><br><span class="line">[root@ master]# vim spark-env.sh</span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export HADOOP_CONF_DIR=/opt/hadoop285/etc/hadoop</span><br><span class="line">export SPARK_MASTER_IP=master   #å¯¹åº”è‡ªå·±çš„masteræœºå™¨IPæˆ–è€…masterè§£æçš„åŸŸåï¼Œå¦‚æœæ˜¯æŒ‰ç…§æˆ‘ä¸Šé¢åšçš„ç›´æ¥å†™masterå³å¯</span><br><span class="line">export SPARK_WORKER_MEMORY=1024m</span><br><span class="line">export SPARK_WORKER_CORES=2 </span><br><span class="line">export SPARK_EXECUTOR_MEMORY=1024m</span><br><span class="line">export SPARK_WORKER_INSTANCES=1</span><br><span class="line">export SOARK_MASTER_PORT=7077</span><br><span class="line">export SPARK_EXECUTOR_CORES=1</span><br><span class="line">SPARK_HISTORY_OPTS=&quot;-Dspark.history.fs.logDirectory=hdfs://master:9000/spark_logs&quot;</span><br><span class="line">[root@ master]# cp spark-defaults.conf.template spark-defaults.conf</span><br><span class="line">[root@ master]# vim spark-defaults.conf</span><br><span class="line">spark.master                     spark://master:7077</span><br><span class="line">spark.eventLog.enabled           true</span><br><span class="line">spark.eventLog.dir               hdfs://master:9000/spark_logs</span><br><span class="line">[root@ master]# vim slaves     //å¯¹åº”è‡ªå·±çš„ä¸‰å°ä¸»æœºIPåœ°å€æˆ–è€…è§£æçš„åŸŸå</span><br><span class="line">master</span><br><span class="line">node1</span><br><span class="line">node2</span><br><span class="line">[root@ master]# cd /opt/spark/sbin</span><br><span class="line">[root@ master]# mv start-all.sh spark-start.sh</span><br><span class="line">[root@ master]# mv stop-all.sh spark-stop.sh</span><br><span class="line">[root@ master]# source /etc/profile</span><br><span class="line">[root@ master]# scp -r /opt/spark root@node1:/opt/</span><br><span class="line">[root@ master]# scp -r /opt/spark root@node2:/opt/</span><br><span class="line">[root@ master]# scp -r /etc/profile root@node1:/etc/</span><br><span class="line">[root@ master]# scp -r /etc/profile root@node2:/etc/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç„¶ååœ¨å„å·¥ä½œèŠ‚ç‚¹æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">[root@ node1,node2]# source /etc/profile</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨masterèŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">[root@ master]# start-all.sh</span><br><span class="line">[root@ master]# hdfs dfs -mkdir /spark_logs</span><br><span class="line">[root@ master]# spark-start.sh  //å¯åŠ¨sparké›†ç¾¤</span><br><span class="line">[root@ master]# jps     //æŸ¥çœ‹</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸Šä¾¿æ­å»ºå¥½äº†sparkç»“åˆhadoopçš„åˆ†å¸ƒå¼é›†ç¾¤ï¼Œsparkä¹Ÿæœ‰è‡ªå·±çš„webç•Œé¢ï¼Œå¯ä»¥æµè§ˆå™¨è®¿é—®192.168.222.226:8080æ¥æŸ¥çœ‹(å¯¹åº”è‡ªå·±IPåœ°å€)</p></div><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="zookeeperåˆ†å¸ƒå¼"><a href="#zookeeperåˆ†å¸ƒå¼" class="headerlink" title="zookeeperåˆ†å¸ƒå¼"></a>zookeeperåˆ†å¸ƒå¼</h3></div></div><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ… </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="apache-zookeeper-3.5.10.tar.gz" href="https://alist.linjiangyu.com/d/Linux/zookeeper-3.4.14.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">apache-zookeeper-3.5.10.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/zookeeper-3.4.14.tar.gz</p></div></a></div>              </div>            </details><div class="note default orange simple"><p>åœ¨masteræœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tar xf zookeeper*</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> zookeeper* /opt/zookeeper</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> /opt/zookeeper/conf/zoo_sample.cfg /opt/zookeeper/conf/zoo.cfg</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /opt/zookeeper/conf/zoo.cfg</span></span><br><span class="line">ä¿®æ”¹</span><br><span class="line">dataDir=/opt/data/zookeeper</span><br><span class="line">æ·»åŠ </span><br><span class="line">dataLogDir=/opt/data/zookeeper/logs</span><br><span class="line">server.1=master:2888:3888</span><br><span class="line">server.2=node1:2888:3888</span><br><span class="line">server.3=node2:2888:3888</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿™é‡Œå¯¹åº”è‡ªå·±çš„ä¸»æœºå</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨å„æœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mkdir</span> -p /opt/data/zookeeper/logs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> 1 &gt; /opt/data/zookeeper/myid             <span class="comment">#è¿™é‡Œmasterå¯¹åº”ä¸Šé¢çš„server.1 ä¾¿è¦echo1,node1å¯¹åº”server.2ä¾¿è¦echo 2,node3å¯¹åº”server.3ä¾¿è¦echo 3</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨masteræœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /etc/profile</span></span><br><span class="line">export ZOOKEEPER_HOME=/opt/zookeeper</span><br><span class="line">export PATH=$&#123;ZOOKEEPER_HOME&#125;/bin:$PATH</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /opt/zookeeper root@<span class="variable">$i</span>:/opt/;<span class="keyword">done</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /etc/profile /etc/;<span class="keyword">done</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨å„æœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">zkServer.sh start             <span class="comment">#è¿™ä¸ªå‘½ä»¤æœ€å¥½ä½¿ç”¨å¤šå‘½ä»¤ä¸€èµ·æ‰§è¡Œ,å°±æ˜¯å¤šä¸ªæœºå™¨çš„æ‰§è¡Œæ—¶é—´è¦å·®ä¸å¤šä¸€ç›´,å› ä¸ºzookeeperå¯¹æ—¶é—´çš„è¦æ±‚æ€§å¾ˆé«˜å’Œå„ç§é—®é¢˜</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">zkServer.sh status    <span class="comment"># å¯ä»¥åœ¨å„èŠ‚ç‚¹æŸ¥çœ‹è‡ªå·±çš„è§’è‰²æ˜¯leaderè¿˜æ˜¯follower</span></span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="hive"><a href="#hive" class="headerlink" title="hive"></a>hive</h3></div></div><h4 id="Mariadb"><a href="#Mariadb" class="headerlink" title="Mariadb"></a>Mariadb</h4><div class="note default orange simple"><p>è¿™é‡Œä¸ºäº†æ–¹ä¾¿ç›´æ¥å®‰è£…mariadbä½œä¸ºMySQLä½¿ç”¨,CentOS7.xå’ŒCentOS6.xä½¿ç”¨æ–¹æ³•ä¸åŒ(ä¸ºäº†æœ‹å‹å†™äº†CentOS6çš„ï¼Œæ³ªç›®äº†),ä½¿ç”¨å‰æç½‘ç»œè¦èƒ½è®¿é—®å¤–ç½‘</p></div><div class="tabs" id="mariadb"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mariadb-1">CentOS 7.x</button></li><li class="tab"><button type="button" data-href="#mariadb-2">CentOS 6.x</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mariadb-1"><p><div class="tip sync"><p>CentOS 7.x</p></div><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# yum install -y mariadb mariadb-server</span><br><span class="line">[root@master ~]# systemctl enable mariadb &amp;&amp; systemctl start mariadb</span><br><span class="line">[root@master ~]# mysqladmin password abcd1234</span><br><span class="line">[root@master ~]# mysql -uroot -pabcd1234 -e &quot;create user &#x27;root&#x27;@&#x27;%&#x27; identified by &#x27;abcd1234&#x27;;&quot; -e &quot;grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27;;&quot;</span><br><span class="line">[root@master ~]# mysql_secure_installation</span><br><span class="line">æŒ‰é¡ºåºè¾“å…¥abcd1234,n,y,n,y,y</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mariadb-2"><p><div class="tip sync"><p>CentOS 6.x</p></div><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# mkdir /etc/yum.repos.d/bak</span><br><span class="line">[root@master ~]# mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak/</span><br><span class="line">[root@master ~]# wget -O /etc/yum.repos.d/CentOS-Base.repo https://cdn1.tianli0.top/gh/linjiangyu2/halo/repo/CentOS-Base.repo &amp;&amp; yum install -y epel-release</span><br><span class="line">[root@master ~]# vim /etc/yum.repos.d/mariadb.repo</span><br><span class="line">[mariadb]</span><br><span class="line">name=MariaDB</span><br><span class="line">baseurl=https://mirrors.aliyun.com/mariadb/yum/10.4/centos6-amd64</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://mirrors.aliyun.com/mariadb/yum/RPM-GPG-KEY-MariaDB</span><br><span class="line">gpgcheck=1</span><br><span class="line">[root@master ~]# yum install -y mysql mysql-devel mysql-server</span><br><span class="line">[root@master ~]# service mysql start &amp;&amp; chkconfig --add mysql &amp;&amp; chkconfig mysql on</span><br><span class="line">[root@master ~]# mysqladmin password abcd1234</span><br><span class="line">[root@master ~]# mysql -uroot -pabcd1234 -e &quot;create user &#x27;root&#x27;@&#x27;%&#x27; identified by &#x27;abcd1234&#x27;;&quot; -e &quot;grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27;;&quot;</span><br><span class="line">[root@master ~]# mysql_secure_installation</span><br><span class="line">æŒ‰é¡ºåºè¾“å…¥abcd1234,n,y,n,y,y</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ… </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="apache-hive-3.1.2-bin.tar.gz" href="https://alist.linjiangyu.com/d/Linux/apache-hive-3.1.2-bin.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">apache-hive-3.1.2-bin.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/apache-hive-3.1.2-bin.tar.gz</p></div></a></div>              </div>            </details><div class="note default orange simple"><p>æŠŠäºŒè¿›åˆ¶åŒ…ä¸Šä¼ åˆ°masteræœºå™¨çš„optç›®å½•ä¸‹</p></div><h4 id="hiveé…ç½®"><a href="#hiveé…ç½®" class="headerlink" title="hiveé…ç½®"></a>hiveé…ç½®</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# cd /opt</span><br><span class="line">[root@master opt]# tar xf apache-hive-3.1.2-bin.tar.gz</span><br><span class="line">[root@master opt]# mv apache-hive-3.1.2-bin hive</span><br><span class="line">[root@master opt]# cd hive/conf</span><br><span class="line">[root@master conf]# cp -a hive-env.sh.template hive-env.sh</span><br><span class="line">[root@master conf]# vim hive-env.sh</span><br><span class="line">åœ¨æœ€å‰é¢æ·»åŠ ,è¿™é‡Œå¯¹åº”å¥½è‡ªå·±çš„ç›®å½•</span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export HADOOP_HOME=/opt/hadoop285</span><br><span class="line">export HADOOP_CONF_DIR=$&#123;HADOOP_HOME&#125;/etc/hadoop</span><br><span class="line">export HADOOP_HEAPSIZE=1024</span><br><span class="line">export HIVE_HOME=/opt/hive</span><br><span class="line">export HIVE_CONF_DIR=$&#123;HIVE_HOME&#125;/conf</span><br><span class="line">export HIVE_AUX_JARS_PATH=$&#123;HIVE_HOME&#125;/lib</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@master conf]# vim hive-site.xml// ä»¥ä¸‹å¯¹åº”æ³¨é‡Šæ›´æ”¹è‡ªå·±çš„é…ç½®</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿™é‡Œå¯¹åº”å¡«å…¥è‡ªå·±ä¸»èŠ‚ç‚¹æœºå™¨åœ¨hostsæ–‡ä»¶è§£æçš„åŸŸåï¼Œæˆ‘æ˜¯masterï¼Œè¿è¡Œé”™è¯¯çš„è¯åº”è¯¥æ˜¯ä½ å“ªé‡Œçš„è®¾ç½®æœ‰é—®é¢˜å°±æ¢æˆIPåœ°å€,åé¢å¯¹åº”çš„ä¹Ÿå°±éƒ½æ¢æˆIPåœ°å€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://master:3306/hive?createDatabaseIfNotExist=true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--MySQLç™»é™†ç”¨æˆ·--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”¨æˆ·å¯†ç --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>abcd1234<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server2.thrift.port<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server2.thrift.bind.host<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è¿™é‡Œå¯¹åº”è§£æç¬¬äºŒå°çš„hostsæ–‡ä»¶è§£æçš„åŸŸå--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>node1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server3.thrift.port<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server3.thrift.bind.host<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è¿™é‡Œå¯¹åº”è§£æç¬¬ä¸‰å°çš„hostsæ–‡ä»¶è§£æçš„åŸŸå--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>node2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@master conf]# cp hive-log4j2.properties.template hive-log4j2.properties</span><br><span class="line">[root@master conf]# vim hive-log4j2.properties</span><br><span class="line">æŠŠINFOå…¨éƒ¨æ›´æ”¹ä¸ºERROR</span><br><span class="line">[root@master conf]# vim /etc/profile</span><br><span class="line">export HIVE_HOME=/opt/hive</span><br><span class="line">export PATH=$&#123;HIVE_HOME&#125;/bin:$PATH</span><br><span class="line">[root@master conf]# source /etc/profile</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä¸Šä¼ è¿æ¥MySQLéœ€è¦çš„jaråŒ…</p></div><details class="folding-tag" cyan open><summary> mysql-connector-java-8.0.17.jar </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="mysql-connector-java-8.0.17.jar" href="https://alist.linjiangyu.com/d/Linux/mysql-connector-java-8.0.17.jar"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">mysql-connector-java-8.0.17.jar</p><p class="url">https://alist.linjiangyu.com/d/Linux/mysql-connector-java-8.0.17.jar</p></div></a></div>              </div>            </details><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# mv  mysql-connector-java-8.0.17.jar /opt/hive/lib/</span><br><span class="line">[root@master ~]# cd /opt/hive/bin</span><br><span class="line">[root@master bin]# ./schematool -initSchema -dbType mysql// åˆå§‹åŒ–</span><br><span class="line">[root@master ~]# mysql -uroot -pabcd1234</span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">show tables from hive;// æœ‰æ•°æ®åˆ™åˆå§‹åŒ–æˆåŠŸ</span></span><br></pre></td></tr></table></figure><h4 id="è¿æ¥æ“ä½œæµ‹è¯•"><a href="#è¿æ¥æ“ä½œæµ‹è¯•" class="headerlink" title="è¿æ¥æ“ä½œæµ‹è¯•"></a>è¿æ¥æ“ä½œæµ‹è¯•</h4><div class="note default orange simple"><p>hiveçš„å¯åŠ¨éœ€è¦å…ˆå¯åŠ¨hadoopå’ŒsparkæœåŠ¡</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">[root@master]# </span><span class="language-bash">start-all.sh &amp;&amp; spark-start.sh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŠŠæœåŠ¡æ”¾åœ¨ä¸åŒèŠ‚ç‚¹æµ‹è¯•è¿æ¥æ•°æ®åº“æ“ä½œ</span></span><br><span class="line"><span class="meta prompt_">[root@master]# </span><span class="language-bash">scp -r /opt/hive root@node1:/opt/</span></span><br><span class="line"><span class="meta prompt_">[root@master]# </span><span class="language-bash">scp -r /opt/hive root@node2:/opt/</span></span><br><span class="line"><span class="meta prompt_">[root@master]# </span><span class="language-bash">scp /etc/profile root@node1:/etc/</span></span><br><span class="line"><span class="meta prompt_">[root@master]# </span><span class="language-bash">scp /etc/profile root@node2:/etc/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç„¶ååœ¨å„èŠ‚ç‚¹ä¸Šä½¿ç”¨å‘½ä»¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å›åˆ°masteræœºå™¨æ“ä½œ</span></span><br><span class="line"><span class="meta prompt_">[root@master]# </span><span class="language-bash">hiveserver2</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡å¼€ç»ˆç«¯å¼€å¯ä¸€ä¸ªå¯è¢«å¦å¤–èŠ‚ç‚¹è¿æ¥çš„æœåŠ¡ç»ˆç«¯</span></span><br><span class="line">[root@master ~]# hive --service metastore</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿™é‡Œä½¿ç”¨node1æ¥è¿æ¥,å¯èƒ½è¦ç­‰å¾…ä¹…ç‚¹æ‰èƒ½èµ·10000ç«¯å£</span></span><br><span class="line"><span class="meta prompt_">[root@node1]# </span><span class="language-bash">beeline<span class="comment"># ä¾æ¬¡è‡ªå·±å°è¯•</span></span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">!connect jdbc:hive2://master:10000</span></span><br><span class="line">Connecting to jdbc:hive2://master:10000</span><br><span class="line">Enter username for jdbc:hive2://master:10000: root</span><br><span class="line">Enter password for jdbc:hive2://master:10000: ***</span><br><span class="line">Connected to: Apache Hive (version 3.1.2)</span><br><span class="line">Driver: Hive JDBC (version 2.3.9)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">0: jdbc:hive2://master:10000&gt; show databases;</span><br><span class="line">+----------------+</span><br><span class="line">| database_name  |</span><br><span class="line">+----------------+</span><br><span class="line">| default        |</span><br><span class="line">+----------------+</span><br><span class="line">1 row selected (1.442 seconds)</span><br></pre></td></tr></table></figure><h4 id="è¡¨åˆ›å»ºæµ‹è¯•"><a href="#è¡¨åˆ›å»ºæµ‹è¯•" class="headerlink" title="è¡¨åˆ›å»ºæµ‹è¯•"></a>è¡¨åˆ›å»ºæµ‹è¯•</h4><div class="note default orange simple"><p>åœ¨masteræœºå™¨ä¸Šå‡†å¤‡ä¸€ä¸‹ç”¨åˆ°çš„txtæ–‡ä»¶,ä¸Šä¼ åˆ°hdfsæ–‡ä»¶ç³»ç»Ÿ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[master@root ~]# vim t.txt</span><br><span class="line">1,linjiangyu,20</span><br><span class="line">2,lintian,20</span><br><span class="line">3,k,20</span><br><span class="line">[master@root ~]# hdfs dfs -mkdir /t</span><br><span class="line">[master@root ~]# hdfs dfs -put ./t.txt /t/</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å›åˆ°node1</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">0: jdbc:hive2://master:10000&gt; create database k ;</span><br><span class="line">No rows affected (0.267 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:hive2://master:10000&gt; use k;</span><br><span class="line">No rows affected (0.078 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:hive2://master:10000&gt; create table k_user(kid int,kname string,kage int) row format delimited fields terminated by &#x27;,&#x27; location &#x27;/t&#x27;;</span><br><span class="line">No rows affected (0.558 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:hive2://master:10000&gt; show tables;</span><br><span class="line">+-----------+</span><br><span class="line">| tab_name  |</span><br><span class="line">+-----------+</span><br><span class="line">| k_user    |</span><br><span class="line">+-----------+</span><br><span class="line">1 row selected (0.114 seconds)</span><br><span class="line"></span><br><span class="line">0: jdbc:hive2://master:10000&gt; select * from k_user;</span><br><span class="line">+-------------+---------------+--------------+</span><br><span class="line">| k_user.kid  | k_user.kname  | k_user.kage  |</span><br><span class="line">+-------------+---------------+--------------+</span><br><span class="line">| 1           | linjiangyu    | 20           |</span><br><span class="line">| 2           | lintian       | 20           |</span><br><span class="line">| 3           | k             | 20           |</span><br><span class="line">+-------------+---------------+--------------+</span><br><span class="line">3 rows selected (3.141 seconds)</span><br></pre></td></tr></table></figure><h3 id="flume"><a href="#flume" class="headerlink" title="flume"></a>flume</h3><div class="note default orange simple"><p>è²Œä¼¼æ˜¯æ—¥å¿—æ”¶é›†åº”ç”¨</p></div><ul><li><p>æŠŠ<a href="https://dlcdn.apache.org/flume/1.11.0/apache-flume-1.11.0-bin.tar.gz">apache-flume-bin.tar.gz</a>ä¸‹è½½å¹¶ä¸Šä¼ åˆ°ç³»ç»Ÿä¸­</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar xf apache-flume-1.11.0-bin.tar.gz &amp;&amp; rm -f apache-flume-1.11.0-bin.tar.gz</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mv apache-flume* /usr/local/flume</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="attribute">export</span> FLUME_HOME=/usr/local/flume</span><br><span class="line">export PATH=<span class="variable">$&#123;FLUME_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># source /etc/profile</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cd /usr/local/flume/conf/</span></span><br><span class="line"><span class="comment"># cp flume-env.sh.template flume-env.sh</span></span><br><span class="line"><span class="comment"># vim flume-env.sh</span></span><br><span class="line">// åœ¨æœ€ä¸Šé¢æ·»åŠ </span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line"></span><br><span class="line"><span class="comment"># vim netcat-logger.conf </span></span><br><span class="line">a1.sources = r1</span><br><span class="line">a1.sinks = k1</span><br><span class="line">a1.channels = c1</span><br><span class="line">a1.sources.r1.type = netcat</span><br><span class="line">a1.sources.r1.bind = <span class="number">0.0.0.0</span></span><br><span class="line">a1.sources.r1.port = <span class="number">44444</span></span><br><span class="line">a1.sinks.k1.type = logger</span><br><span class="line">a1.channels.c1.type = memory</span><br><span class="line">a1.channels.c1.capacity = <span class="number">1000</span></span><br><span class="line">a1.channels.c1.transactionCapacity = <span class="number">100</span></span><br><span class="line">a1.sources.r1.channels = c1</span><br><span class="line">a1.sinks.k1.channel = c1</span><br><span class="line"></span><br><span class="line"><span class="comment"># flume-ng agent -n a1 -c ./ -f ./netcat-logger.conf -Dflume.root.logger=INFO,console  // å¯åŠ¨æœåŠ¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># yum install -y telnet</span></span><br><span class="line"><span class="comment"># telnet 127.0.0.1 44444</span></span><br><span class="line">  // éšä¾¿å†™ç‚¹ä¸œè¥¿å›è½¦ä¼šæœ‰OKå‡ºç°å°±è¡Œäº†</span><br></pre></td></tr></table></figure></li></ul><h3 id="sqoop"><a href="#sqoop" class="headerlink" title="sqoop"></a>sqoop</h3><ol><li><p>ä¸‹è½½åŒ…<a href="https://archive.apache.org/dist/sqoop/1.4.7/sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz">sqoop</a>æ”¾åˆ°/optä¸‹</p></li><li><p>æ•´</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tar xf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> sqoop-1.4.7.bin__hadoop-2.6.0 sqoop</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> sqoop</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cp</span> conf/sqoop-env-template.sh conf/sqoop-env.sh</span></span><br><span class="line">export HADOOP_COMMON_HOME=/opt/hadoop285</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Set path to <span class="built_in">where</span> hadoop-*-core.jar is available</span></span><br><span class="line">export HADOOP_MAPRED_HOME=/opt/hadoop285</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">set</span> the path to <span class="built_in">where</span> bin/hbase is available</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">export</span> HBASE_HOME=</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Set the path to <span class="built_in">where</span> bin/hive is available</span></span><br><span class="line">export HIVE_HOME=/opt/hive</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Set the path <span class="keyword">for</span> <span class="built_in">where</span> zookeper config <span class="built_in">dir</span> is</span></span><br><span class="line">export ZOOCFGDIR=/opt/zookeeper/conf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /etc/profile</span></span><br><span class="line">export SQOOP_HOME=/opt/sqoop</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;SQOOP_HOME&#125;/lib</span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$&#123;HADOOP_HOME&#125;/bin:$&#123;HADOOP_HOME&#125;/sbin:$&#123;HIVE_HOME&#125;/bin:$&#123;SQOOP_HOME&#125;/bin:$PATH</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cp</span> /opt/hive/lib/mysql-connector-java-8.0.17.jar /opt/sqoop/lib/</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim bin/configure-sqoopæŠŠæ–‡ä»¶å…¨éƒ¨æ›¿æ¢ä¸ºä»¥ä¸‹</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Copyright 2011 The Apache Software Foundation</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Licensed to the Apache Software Foundation (ASF) under one</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or more contributor license agreements.  See the NOTICE file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">distributed with this work <span class="keyword">for</span> additional information</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">regarding copyright ownership.  The ASF licenses this file</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">to you under the Apache License, Version 2.0 (the</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;License&quot;</span>); you may not use this file except <span class="keyword">in</span> compliance</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">with the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#     http://www.apache.org/licenses/LICENSE-2.0</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Unless required by applicable law or agreed to in writing, software</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">distributed under the License is distributed on an <span class="string">&quot;AS IS&quot;</span> BASIS,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">See the License <span class="keyword">for</span> the specific language governing permissions and</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">limitations under the License.</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This is sourced <span class="keyword">in</span> by bin/sqoop to <span class="built_in">set</span> environment variables prior to</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">invoking Hadoop.</span></span><br><span class="line"></span><br><span class="line">bin=&quot;$1&quot;</span><br><span class="line"></span><br><span class="line">if [ -z &quot;$&#123;bin&#125;&quot; ]; then</span><br><span class="line">  bin=`dirname $0`</span><br><span class="line">  bin=`cd $&#123;bin&#125; &amp;&amp; pwd`</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -z &quot;$SQOOP_HOME&quot; ]; then</span><br><span class="line">  export SQOOP_HOME=$&#123;bin&#125;/..</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">SQOOP_CONF_DIR=$&#123;SQOOP_CONF_DIR:-$&#123;SQOOP_HOME&#125;/conf&#125;</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$&#123;SQOOP_CONF_DIR&#125;/sqoop-env.sh&quot; ]; then</span><br><span class="line">  . &quot;$&#123;SQOOP_CONF_DIR&#125;/sqoop-env.sh&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Find paths to our dependency systems. If they are <span class="built_in">unset</span>, use CDH defaults.</span></span><br><span class="line"></span><br><span class="line">if [ -z &quot;$&#123;HADOOP_COMMON_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -n &quot;$&#123;HADOOP_HOME&#125;&quot; ]; then</span><br><span class="line">    HADOOP_COMMON_HOME=$&#123;HADOOP_HOME&#125;</span><br><span class="line">  else</span><br><span class="line">    if [ -d &quot;/usr/lib/hadoop&quot; ]; then</span><br><span class="line">      HADOOP_COMMON_HOME=/usr/lib/hadoop</span><br><span class="line">    else</span><br><span class="line">      HADOOP_COMMON_HOME=$&#123;SQOOP_HOME&#125;/../hadoop</span><br><span class="line">    fi</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -z &quot;$&#123;HADOOP_MAPRED_HOME&#125;&quot; ]; then</span><br><span class="line">  HADOOP_MAPRED_HOME=/usr/lib/hadoop-mapreduce</span><br><span class="line">  if [ ! -d &quot;$&#123;HADOOP_MAPRED_HOME&#125;&quot; ]; then</span><br><span class="line">    if [ -n &quot;$&#123;HADOOP_HOME&#125;&quot; ]; then</span><br><span class="line">      HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;</span><br><span class="line">    else</span><br><span class="line">      HADOOP_MAPRED_HOME=$&#123;SQOOP_HOME&#125;/../hadoop-mapreduce</span><br><span class="line">    fi</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">We are setting HADOOP_HOME to HADOOP_COMMON_HOME <span class="keyword">if</span> it is not <span class="built_in">set</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">so that hcat script works correctly on BigTop</span></span><br><span class="line">if [ -z &quot;$&#123;HADOOP_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -n &quot;$&#123;HADOOP_COMMON_HOME&#125;&quot; ]; then</span><br><span class="line">     HADOOP_HOME=$&#123;HADOOP_COMMON_HOME&#125;</span><br><span class="line">     export HADOOP_HOME</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -z &quot;$&#123;HBASE_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -d &quot;/usr/lib/hbase&quot; ]; then</span><br><span class="line">    HBASE_HOME=/usr/lib/hbase</span><br><span class="line">  else</span><br><span class="line">    HBASE_HOME=$&#123;SQOOP_HOME&#125;/../hbase</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line">if [ -z &quot;$&#123;HCAT_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -d &quot;/usr/lib/hive-hcatalog&quot; ]; then</span><br><span class="line">    HCAT_HOME=/usr/lib/hive-hcatalog</span><br><span class="line">  elif [ -d &quot;/usr/lib/hcatalog&quot; ]; then</span><br><span class="line">    HCAT_HOME=/usr/lib/hcatalog</span><br><span class="line">  else</span><br><span class="line">    HCAT_HOME=$&#123;SQOOP_HOME&#125;/../hive-hcatalog</span><br><span class="line">    if [ ! -d $&#123;HCAT_HOME&#125; ]; then</span><br><span class="line">       HCAT_HOME=$&#123;SQOOP_HOME&#125;/../hcatalog</span><br><span class="line">    fi</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line">if [ -z &quot;$&#123;ACCUMULO_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -d &quot;/usr/lib/accumulo&quot; ]; then</span><br><span class="line">    ACCUMULO_HOME=/usr/lib/accumulo</span><br><span class="line">  else</span><br><span class="line">    ACCUMULO_HOME=$&#123;SQOOP_HOME&#125;/../accumulo</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line">if [ -z &quot;$&#123;ZOOKEEPER_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -d &quot;/usr/lib/zookeeper&quot; ]; then</span><br><span class="line">    ZOOKEEPER_HOME=/usr/lib/zookeeper</span><br><span class="line">  else</span><br><span class="line">    ZOOKEEPER_HOME=$&#123;SQOOP_HOME&#125;/../zookeeper</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line">if [ -z &quot;$&#123;HIVE_HOME&#125;&quot; ]; then</span><br><span class="line">  if [ -d &quot;/usr/lib/hive&quot; ]; then</span><br><span class="line">    export HIVE_HOME=/usr/lib/hive</span><br><span class="line">  elif [ -d $&#123;SQOOP_HOME&#125;/../hive ]; then</span><br><span class="line">    export HIVE_HOME=$&#123;SQOOP_HOME&#125;/../hive</span><br><span class="line">  fi</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Check: If we can<span class="string">&#x27;t find our dependencies, give up here.</span></span></span><br><span class="line">if [ ! -d &quot;$&#123;HADOOP_COMMON_HOME&#125;&quot; ]; then</span><br><span class="line">  echo &quot;Error: $HADOOP_COMMON_HOME does not exist!&quot;</span><br><span class="line">  echo &#x27;Please set $HADOOP_COMMON_HOME to the root of your Hadoop installation.&#x27;</span><br><span class="line">  exit 1</span><br><span class="line">fi</span><br><span class="line">if [ ! -d &quot;$&#123;HADOOP_MAPRED_HOME&#125;&quot; ]; then</span><br><span class="line">  echo &quot;Error: $HADOOP_MAPRED_HOME does not exist!&quot;</span><br><span class="line">  echo &#x27;Please set $HADOOP_MAPRED_HOME to the root of your Hadoop MapReduce installation.&#x27;</span><br><span class="line">  exit 1</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string"># Moved to be a runtime check in sqoop.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">if [ ! -d &quot;$&#123;HBASE_HOME&#125;&quot; ]; then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &quot;Warning: $HBASE_HOME does not exist! HBase imports will fail.&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &#x27;</span>Please <span class="built_in">set</span> <span class="variable">$HBASE_HOME</span> to the root of your HBase installation.<span class="string">&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">fi</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string"></span></span></span><br><span class="line"><span class="string"><span class="language-bash">### Moved to be a runtime check in sqoop.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">if [ ! -d &quot;$&#123;HCAT_HOME&#125;&quot; ]; then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &quot;Warning: $HCAT_HOME does not exist! HCatalog jobs will fail.&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &#x27;</span>Please <span class="built_in">set</span> <span class="variable">$HCAT_HOME</span> to the root of your HCatalog installation.<span class="string">&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">fi</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string"></span></span></span><br><span class="line"><span class="string"><span class="language-bash">#if [ ! -d &quot;$&#123;ACCUMULO_HOME&#125;&quot; ]; then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &quot;Warning: $ACCUMULO_HOME does not exist! Accumulo imports will fail.&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &#x27;</span>Please <span class="built_in">set</span> <span class="variable">$ACCUMULO_HOME</span> to the root of your Accumulo installation.<span class="string">&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">fi</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">if [ ! -d &quot;$&#123;ZOOKEEPER_HOME&#125;&quot; ]; then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &quot;Warning: $ZOOKEEPER_HOME does not exist! Accumulo imports will fail.&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string"> echo &#x27;</span>Please <span class="built_in">set</span> <span class="variable">$ZOOKEEPER_HOME</span> to the root of your Zookeeper installation.<span class="string">&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="string">fi</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">Where to find the main Sqoop jar</span></span></span><br><span class="line">SQOOP_JAR_DIR=$SQOOP_HOME</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">If there&#x27;</span>s a <span class="string">&quot;build&quot;</span> subdir, override with this, so we use</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the newly-compiled copy.</span></span><br><span class="line">if [ -d &quot;$SQOOP_JAR_DIR/build&quot; ]; then</span><br><span class="line">  SQOOP_JAR_DIR=&quot;$&#123;SQOOP_JAR_DIR&#125;/build&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">function add_to_classpath() &#123;</span><br><span class="line">  dir=$1</span><br><span class="line">  for f in $dir/*.jar; do</span><br><span class="line">    SQOOP_CLASSPATH=$&#123;SQOOP_CLASSPATH&#125;:$f;</span><br><span class="line">  done</span><br><span class="line"></span><br><span class="line">  export SQOOP_CLASSPATH</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add sqoop dependencies to classpath.</span></span><br><span class="line">SQOOP_CLASSPATH=&quot;&quot;</span><br><span class="line">if [ -d &quot;$SQOOP_HOME/lib&quot; ]; then</span><br><span class="line">  add_to_classpath $SQOOP_HOME/lib</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add HBase to dependency list</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="keyword">if</span> [ -e <span class="string">&quot;<span class="variable">$HBASE_HOME</span>/bin/hbase&quot;</span> ]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> TMP_SQOOP_CLASSPATH=<span class="variable">$&#123;SQOOP_CLASSPATH&#125;</span>:`<span class="variable">$HBASE_HOME</span>/bin/hbase classpath`</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> SQOOP_CLASSPATH=<span class="variable">$&#123;TMP_SQOOP_CLASSPATH&#125;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="keyword">fi</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">## Add HCatalog to dependency list</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="keyword">if</span> [ -e <span class="string">&quot;<span class="variable">$&#123;HCAT_HOME&#125;</span>/bin/hcat&quot;</span> ]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> TMP_SQOOP_CLASSPATH=<span class="variable">$&#123;SQOOP_CLASSPATH&#125;</span>:`<span class="variable">$&#123;HCAT_HOME&#125;</span>/bin/hcat -classpath`</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> <span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;HIVE_CONF_DIR&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   TMP_SQOOP_CLASSPATH=<span class="variable">$&#123;TMP_SQOOP_CLASSPATH&#125;</span>:<span class="variable">$&#123;HIVE_CONF_DIR&#125;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> <span class="keyword">fi</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> SQOOP_CLASSPATH=<span class="variable">$&#123;TMP_SQOOP_CLASSPATH&#125;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="keyword">fi</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add Accumulo to dependency list</span></span><br><span class="line">if [ -e &quot;$ACCUMULO_HOME/bin/accumulo&quot; ]; then</span><br><span class="line">  for jn in `$ACCUMULO_HOME/bin/accumulo classpath | grep file:.*accumulo.*jar | cut -d&#x27;:&#x27; -f2`; do</span><br><span class="line">    SQOOP_CLASSPATH=$SQOOP_CLASSPATH:$jn</span><br><span class="line">  done</span><br><span class="line">  for jn in `$ACCUMULO_HOME/bin/accumulo classpath | grep file:.*zookeeper.*jar | cut -d&#x27;:&#x27; -f2`; do</span><br><span class="line">    SQOOP_CLASSPATH=$SQOOP_CLASSPATH:$jn</span><br><span class="line">  done</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">ZOOCFGDIR=$&#123;ZOOCFGDIR:-/etc/zookeeper&#125;</span><br><span class="line">if [ -d &quot;$&#123;ZOOCFGDIR&#125;&quot; ]; then</span><br><span class="line">  SQOOP_CLASSPATH=$ZOOCFGDIR:$SQOOP_CLASSPATH</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">SQOOP_CLASSPATH=$&#123;SQOOP_CONF_DIR&#125;:$&#123;SQOOP_CLASSPATH&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">If there<span class="string">&#x27;s a build subdir, use Ivy-retrieved dependencies too.</span></span></span><br><span class="line">if [ -d &quot;$SQOOP_HOME/build/ivy/lib/sqoop&quot; ]; then</span><br><span class="line">  for f in $SQOOP_HOME/build/ivy/lib/sqoop/*/*.jar; do</span><br><span class="line">    SQOOP_CLASSPATH=$&#123;SQOOP_CLASSPATH&#125;:$f;</span><br><span class="line">  done</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">add_to_classpath $&#123;SQOOP_JAR_DIR&#125;</span><br><span class="line"></span><br><span class="line">HADOOP_CLASSPATH=&quot;$&#123;SQOOP_CLASSPATH&#125;:$&#123;HADOOP_CLASSPATH&#125;&quot;</span><br><span class="line">if [ ! -z &quot;$SQOOP_USER_CLASSPATH&quot; ]; then</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash"><span class="string">User has elements to prepend to the classpath, forcibly overriding</span></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash"><span class="string">Sqoop&#x27;</span>s own lib directories.</span></span><br><span class="line">  export HADOOP_CLASSPATH=&quot;$&#123;SQOOP_USER_CLASSPATH&#125;:$&#123;HADOOP_CLASSPATH&#125;&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">export SQOOP_CLASSPATH</span><br><span class="line">export SQOOP_CONF_DIR</span><br><span class="line">export SQOOP_JAR_DIR</span><br><span class="line">export HADOOP_CLASSPATH</span><br><span class="line">export HADOOP_COMMON_HOME</span><br><span class="line">export HADOOP_MAPRED_HOME</span><br><span class="line">export HBASE_HOME</span><br><span class="line">export HCAT_HOME</span><br><span class="line">export HIVE_CONF_DIR</span><br><span class="line">export ACCUMULO_HOME</span><br><span class="line">export ZOOKEEPER_HOME</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysql -uroot -p123</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">create user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;127.0.0.1&#x27;</span> identified by <span class="string">&#x27;123&#x27;</span>;</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">grant all privileges on *.* to <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;127.0.0.1&#x27;</span>;</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">flush privileges;</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"><span class="built_in">exit</span></span></span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•è¿æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">sqoop list-databases -connect jdbc:mysql://localhost:3306/ --username root --password 123</span></span><br><span class="line">è¾“å‡º</span><br><span class="line">23/05/20 23:14:23 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7</span><br><span class="line">23/05/20 23:14:23 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.</span><br><span class="line">23/05/20 23:14:23 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.</span><br><span class="line">Loading class `com.mysql.jdbc.Driver&#x27;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#x27;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.</span><br><span class="line">mysql</span><br><span class="line">information_schema</span><br><span class="line">performance_schema</span><br><span class="line">sys</span><br><span class="line">hive</span><br><span class="line">rsyslog</span><br><span class="line">Syslo</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ecy</title>
      <link href="/posts/d6542125.html"/>
      <url>/posts/d6542125.html</url>
      
        <content type="html"><![CDATA[<div class="tip warning faa-horizontal animated faa-fast"><p>ç½‘é¡µè§†é¢‘ç´ æ</p></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/relife.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/02.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/aila.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/aill.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/ecy.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/ecysg.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/eee.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/gyx.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/jiojio.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/onepis.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/wzzs.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn1.tianli0.top/gh/linjiangyu2/halo/video/plmm.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>sersync2å®æ—¶ç›‘æ§åŒæ­¥æ–‡ä»¶</title>
      <link href="/posts/f2af38d6.html"/>
      <url>/posts/f2af38d6.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>sesyncçš„å®æ—¶åŒæ­¥</p></div></div><div class="tag link"><a class="link-card" title="sesync2" href="https://alist.linjiangyu.com/d/Linux/sersync2.5.4_64bit_binary_stable_final.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">sesync2</p><p class="url">https://alist.linjiangyu.com/d/Linux/sersync2.5.4_64bit_binary_stable_final.tar.gz</p></div></a></div><div class="note default orange simple"><p>ä¹Ÿè¦ç»“åˆrsyncå’ŒInotifyä¸€èµ·ä½¿ç”¨</p></div><div class="table-container"><table><thead><tr><th style="text-align:center">IP</th><th style="text-align:center">HOSTNAME</th></tr></thead><tbody><tr><td style="text-align:center">192.168.222.160</td><td style="text-align:center">master</td></tr><tr><td style="text-align:center">192.168.222.161</td><td style="text-align:center">backup</td></tr></tbody></table></div><div class="note default orange simple"><p>backupçš„rsyncdçš„é…ç½®</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install -y rsync</span></span><br><span class="line"><span class="comment"># vim /etc/rsyncd.conf</span></span><br><span class="line">uid = root</span><br><span class="line">gid = root</span><br><span class="line"><span class="comment">#use chroot = yes</span></span><br><span class="line">max connections = <span class="number">0</span></span><br><span class="line">pid file = /var/run/rsyncd.pid</span><br><span class="line">exclude = lost+found/</span><br><span class="line"><span class="comment">#transfer logging = yes</span></span><br><span class="line"><span class="comment">#timeout = 900</span></span><br><span class="line"><span class="comment">#ignore nonreadable = yes</span></span><br><span class="line"><span class="comment">#dont compress   = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2</span></span><br><span class="line">reverse lookup = no</span><br><span class="line"></span><br><span class="line">[<span class="type">backup</span>]</span><br><span class="line">       path = /opt      <span class="comment"># å…±äº«çš„ç›®å½•</span></span><br><span class="line">       comment = ftp export area </span><br><span class="line">       read only = no</span><br><span class="line">       auth users = lt         <span class="comment"># ç™»é™†çš„ç”¨æˆ·å</span></span><br><span class="line">       secrets file = /etc/rsync.pas   <span class="comment"># è®¤è¯æ–‡ä»¶</span></span><br><span class="line"> <span class="comment"># åˆ›å»ºè®¤è¯æ–‡ä»¶</span></span><br><span class="line"> <span class="comment"># echo &#x27;lt:123&#x27; &gt; /etc/rsync.pas</span></span><br><span class="line"> <span class="comment"># systemctl restart rsyncd</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>masterçš„é…ç½®</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># yum install -y rsync inotify-tools</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># rsync rsync://192.168.222.161  //æ˜¾ç¤º192.168.222.161æœåŠ¡å™¨å…±äº«çš„rsyncdçš„åå­—</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># rsync rsync://lt@192.168.222.161/backup   //æŸ¥çœ‹ç›®å½•,ä¹Ÿå¯ä»¥ä¸Šä¼ ç›®å½•,ä½†æ˜¯ä¹Ÿå¯ä»¥ä¸Šä¼ å‘é€æ–‡ä»¶,ä½†æ˜¯æ˜¯éœ€è¦äº¤äº’å¼è¾“å…¥å¯†ç è®¤è¯çš„</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># echo 123 &gt; /etc/rsync.pas         //è®¤è¯æ–‡ä»¶</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># rsync --password-file=/etc/rsync.pas lt@192.168.222.161::backup</span></span><br><span class="line">æˆ–è€…</span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># rsync --password-file=/etc/rsync.pas rsync://lt@192.168.222.161/backup</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># tar xf sersync* </span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># mv sersync* /usr/local/sersync</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># vim /etc/profile</span></span><br><span class="line">export SERSYNC_HOME=/usr/local/sersync</span><br><span class="line">export PATH=<span class="variable">$</span>&#123;SERSYNC_HOME&#125;:<span class="variable">$PATH</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># source /etc/profile</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># cd /usr/local/sersync</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span>~]<span class="comment"># vim confxml.xml</span></span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;ISO-8859-1&quot;</span>?&gt;</span><br><span class="line">&lt;head version=<span class="string">&quot;2.5&quot;</span>&gt;</span><br><span class="line">    &lt;host hostip=<span class="string">&quot;localhost&quot;</span> port=<span class="string">&quot;8008&quot;</span>&gt;&lt;/host&gt;</span><br><span class="line">    &lt;debug <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">    &lt;fileSystem xfs=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">    &lt;<span class="keyword">filter</span> <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>&gt;   &lt;!<span class="literal">--</span>&lt;æ˜¯å¦å¼€å¯è¿‡æ»¤åŠŸèƒ½ï¼Œä¸ºtrueçš„è¯è®¾ç½®ä»¥ä¸‹çš„ç±»å‹æ–‡ä»¶ä¸åŒæ­¥ &gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;(.*)\.svn&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;(.*)\.gz&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;^info/*&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;^static/*&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">    &lt;/<span class="keyword">filter</span>&gt;</span><br><span class="line">    &lt;inotify&gt;</span><br><span class="line">        &lt;delete <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;createFolder <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;createFile <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;      &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹&gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;closeWrite <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;moveFrom <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;moveTo <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;attrib <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;     &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹&gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;modify <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">    &lt;/inotify&gt;</span><br><span class="line"></span><br><span class="line">    &lt;sersync&gt;</span><br><span class="line">        &lt;localpath watch=<span class="string">&quot;/opt/&quot;</span>&gt;               &lt;!<span class="literal">--</span>&lt;ç›‘æ§çš„ç›®å½•&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;remote ip=<span class="string">&quot;192.168.222.161&quot;</span> name=<span class="string">&quot;backup&quot;</span>/&gt;   &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹ç›®æ ‡IPåœ°å€,backupæ˜¯å…±äº«å‡ºæ¥çš„æœåŠ¡åç§°&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;!<span class="literal">--</span>&lt;remote ip=<span class="string">&quot;192.168.8.39&quot;</span> name=<span class="string">&quot;tongbu&quot;</span>/&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;!<span class="literal">--</span>&lt;remote ip=<span class="string">&quot;192.168.8.40&quot;</span> name=<span class="string">&quot;tongbu&quot;</span>/&gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;/localpath&gt;</span><br><span class="line">        &lt;rsync&gt;</span><br><span class="line">            &lt;commonParams params=<span class="string">&quot;-artuz&quot;</span>/&gt;             &lt;!<span class="literal">--</span>&lt;rsyncä¼ è¾“æ—¶é—´æºå¸¦çš„å‚æ•°&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹,å¼€å¯æ‰èƒ½ä¿®æ”¹,è¿˜æœ‰ç™»é™†çš„ltç”¨æˆ·å’Œè®¤è¯çš„æ–‡ä»¶&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;auth <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span> users=<span class="string">&quot;lt&quot;</span> passwordfile=<span class="string">&quot;/etc/rsync.pas&quot;</span>/&gt;</span><br><span class="line">            &lt;userDefinedPort <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> port=<span class="string">&quot;874&quot;</span>/&gt;&lt;!<span class="literal">--</span> port=<span class="number">874</span> <span class="literal">--</span>&gt;</span><br><span class="line">            &lt;timeout <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> time=<span class="string">&quot;100&quot;</span>/&gt;&lt;!<span class="literal">--</span> timeout=<span class="number">100</span> <span class="literal">--</span>&gt;</span><br><span class="line">            &lt;ssh <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">        &lt;/rsync&gt;</span><br><span class="line">        &lt;failLog path=<span class="string">&quot;/tmp/rsync_fail_log.sh&quot;</span> timeToExecute=<span class="string">&quot;60&quot;</span>/&gt;&lt;!<span class="literal">--default</span> every <span class="number">60</span>mins execute once<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;crontab <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> schedule=<span class="string">&quot;600&quot;</span>&gt;&lt;!<span class="literal">--600mins--</span>&gt;</span><br><span class="line">            &lt;crontabfilter <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">                &lt;exclude expression=<span class="string">&quot;*.php&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">                &lt;exclude expression=<span class="string">&quot;info/*&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">            &lt;/crontabfilter&gt;</span><br><span class="line">        &lt;/crontab&gt;</span><br><span class="line">        &lt;plugin <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> name=<span class="string">&quot;command&quot;</span>/&gt;</span><br><span class="line">    &lt;/sersync&gt;</span><br><span class="line">                                &lt;!<span class="literal">--</span>&lt;ä»¥ä¸‹ä¸éœ€è¦ä¿®æ”¹ &gt;<span class="literal">--</span>&gt;</span><br><span class="line">    &lt;plugin name=<span class="string">&quot;command&quot;</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">param</span> prefix=<span class="string">&quot;/bin/sh&quot;</span> suffix=<span class="string">&quot;&quot;</span> ignoreError=<span class="string">&quot;true&quot;</span>/&gt;  &lt;!<span class="literal">--prefix</span> /opt/tongbu/mmm.sh suffix<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">filter</span> <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">            &lt;include expression=<span class="string">&quot;(.*)\.php&quot;</span>/&gt;</span><br><span class="line">            &lt;include expression=<span class="string">&quot;(.*)\.sh&quot;</span>/&gt;</span><br><span class="line">        &lt;/<span class="keyword">filter</span>&gt;</span><br><span class="line">    &lt;/plugin&gt;</span><br><span class="line"></span><br><span class="line">    &lt;plugin name=<span class="string">&quot;socket&quot;</span>&gt;</span><br><span class="line">        &lt;localpath watch=<span class="string">&quot;/opt/tongbu&quot;</span>&gt;</span><br><span class="line">            &lt;deshost ip=<span class="string">&quot;192.168.138.20&quot;</span> port=<span class="string">&quot;8009&quot;</span>/&gt;</span><br><span class="line">        &lt;/localpath&gt;</span><br><span class="line">    &lt;/plugin&gt;</span><br><span class="line">    &lt;plugin name=<span class="string">&quot;refreshCDN&quot;</span>&gt;</span><br><span class="line">        &lt;localpath watch=<span class="string">&quot;/data0/htdocs/cms.xoyo.com/site/&quot;</span>&gt;</span><br><span class="line">            &lt;cdninfo domainname=<span class="string">&quot;ccms.chinacache.com&quot;</span> port=<span class="string">&quot;80&quot;</span> username=<span class="string">&quot;xxxx&quot;</span> passwd=<span class="string">&quot;xxxx&quot;</span>/&gt;</span><br><span class="line">            &lt;sendurl base=<span class="string">&quot;http://pic.xoyo.com/cms&quot;</span>/&gt;</span><br><span class="line">            &lt;regexurl regex=<span class="string">&quot;false&quot;</span> match=<span class="string">&quot;cms.xoyo.com/site([/a-zA-Z0-9]*).xoyo.com/images&quot;</span>/&gt;</span><br><span class="line">        &lt;/localpath&gt;</span><br><span class="line">    &lt;/plugin&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>äº†è§£ä¸€ä¸‹sersync2å‘½ä»¤çš„å‚æ•°</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å‚æ•°<span class="literal">-d</span>:å¯ç”¨å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼</span><br><span class="line">å‚æ•°<span class="literal">-r</span>:åœ¨ç›‘æ§å‰ï¼Œå°†ç›‘æ§ç›®å½•ä¸è¿œç¨‹ä¸»æœºç”¨rsyncå‘½ä»¤æ¨é€ä¸€é</span><br><span class="line">å‚æ•°<span class="literal">-n</span>: æŒ‡å®šå¼€å¯å®ˆæŠ¤çº¿ç¨‹çš„æ•°é‡ï¼Œé»˜è®¤ä¸º<span class="number">10</span>ä¸ª</span><br><span class="line">å‚æ•°<span class="literal">-o</span>:æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œé»˜è®¤ä½¿ç”¨confxml.xmlæ–‡ä»¶</span><br><span class="line">å‚æ•°<span class="literal">-m</span>:å•ç‹¬å¯ç”¨å…¶ä»–æ¨¡å—ï¼Œä½¿ç”¨ <span class="literal">-m</span> refreshCDN å¼€å¯åˆ·æ–°CDNæ¨¡å—</span><br><span class="line">å‚æ•°<span class="literal">-m</span>:å•ç‹¬å¯ç”¨å…¶ä»–æ¨¡å—ï¼Œä½¿ç”¨ <span class="literal">-m</span> socket å¼€å¯socketæ¨¡å—</span><br><span class="line">å‚æ•°<span class="literal">-m</span>:å•ç‹¬å¯ç”¨å…¶ä»–æ¨¡å—ï¼Œä½¿ç”¨ <span class="literal">-m</span> http å¼€å¯httpæ¨¡å—</span><br><span class="line">ä¸åŠ <span class="literal">-m</span>å‚æ•°ï¼Œåˆ™é»˜è®¤æ‰§è¡ŒåŒæ­¥ç¨‹åº</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ‰€ä»¥ä½¿ç”¨</span><br><span class="line"><span class="comment"># sersync2 -dro /usr/local/sesync/confxml.xml      //ç¬¬ä¸€æ¬¡ä½¿ç”¨å…ˆåŒæ­¥ä¸€æ¬¡,ç¬¬äºŒæ¬¡ä½¿ç”¨å°±å¯ä»¥å»é™¤-rå‚æ•°</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>sshçš„è¿æ¥</p></div><div class="note default orange simple"><p>rsyncçš„æœåŠ¡è¿æ¥è²Œä¼¼æ˜¯æ²¡æœ‰æ•°æ®åŠ å¯†çš„ï¼Œä¸ºäº†å®‰å…¨èµ·è§éœ€è¦ä½¿ç”¨ssh</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/local/sesync/confxml.xml</span></span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;ISO-8859-1&quot;</span>?&gt;</span><br><span class="line">&lt;head version=<span class="string">&quot;2.5&quot;</span>&gt;</span><br><span class="line">    &lt;host hostip=<span class="string">&quot;localhost&quot;</span> port=<span class="string">&quot;8008&quot;</span>&gt;&lt;/host&gt;</span><br><span class="line">    &lt;debug <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">    &lt;fileSystem xfs=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">    &lt;<span class="keyword">filter</span> <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>&gt;   &lt;!<span class="literal">--</span>&lt;æ˜¯å¦å¼€å¯è¿‡æ»¤åŠŸèƒ½ï¼Œä¸ºtrueçš„è¯è®¾ç½®ä»¥ä¸‹çš„ç±»å‹æ–‡ä»¶ä¸åŒæ­¥ &gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;(.*)\.svn&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;(.*)\.gz&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;^info/*&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">        &lt;exclude expression=<span class="string">&quot;^static/*&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">    &lt;/<span class="keyword">filter</span>&gt;</span><br><span class="line">    &lt;inotify&gt;</span><br><span class="line">        &lt;delete <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;createFolder <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;createFile <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">        &lt;closeWrite <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;moveFrom <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;moveTo <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">        &lt;attrib <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;     &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹&gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;modify <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">    &lt;/inotify&gt;</span><br><span class="line"></span><br><span class="line">    &lt;sersync&gt;</span><br><span class="line">        &lt;localpath watch=<span class="string">&quot;/opt/&quot;</span>&gt;</span><br><span class="line">            &lt;remote ip=<span class="string">&quot;192.168.222.161&quot;</span> name=<span class="string">&quot;/opt&quot;</span>/&gt;   &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹ä¸ºè¦ä¼ è¾“åˆ°backupæœºå™¨çš„ç›®æ ‡åœ°å€&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;!<span class="literal">--</span>&lt;remote ip=<span class="string">&quot;192.168.8.39&quot;</span> name=<span class="string">&quot;tongbu&quot;</span>/&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;!<span class="literal">--</span>&lt;remote ip=<span class="string">&quot;192.168.8.40&quot;</span> name=<span class="string">&quot;tongbu&quot;</span>/&gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;/localpath&gt;</span><br><span class="line">        &lt;rsync&gt;</span><br><span class="line">            &lt;commonParams params=<span class="string">&quot;-artuz&quot;</span>/&gt;</span><br><span class="line">            &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹,å…³é—­&gt;<span class="literal">--</span>&gt;</span><br><span class="line">            &lt;auth <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> users=<span class="string">&quot;lt&quot;</span> passwordfile=<span class="string">&quot;/etc/rsync.pas&quot;</span>/&gt;</span><br><span class="line">            &lt;userDefinedPort <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> port=<span class="string">&quot;874&quot;</span>/&gt;&lt;!<span class="literal">--</span> port=<span class="number">874</span> <span class="literal">--</span>&gt;</span><br><span class="line">            &lt;timeout <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> time=<span class="string">&quot;100&quot;</span>/&gt;&lt;!<span class="literal">--</span> timeout=<span class="number">100</span> <span class="literal">--</span>&gt;</span><br><span class="line">            &lt;ssh <span class="built_in">start</span>=<span class="string">&quot;true&quot;</span>/&gt;          &lt;!<span class="literal">--</span>&lt;ä¿®æ”¹,å¼€å¯sshè¿æ¥&gt;<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;/rsync&gt;</span><br><span class="line">        &lt;failLog path=<span class="string">&quot;/tmp/rsync_fail_log.sh&quot;</span> timeToExecute=<span class="string">&quot;60&quot;</span>/&gt;&lt;!<span class="literal">--default</span> every <span class="number">60</span>mins execute once<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;crontab <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> schedule=<span class="string">&quot;600&quot;</span>&gt;&lt;!<span class="literal">--600mins--</span>&gt;</span><br><span class="line">            &lt;crontabfilter <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">                &lt;exclude expression=<span class="string">&quot;*.php&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">                &lt;exclude expression=<span class="string">&quot;info/*&quot;</span>&gt;&lt;/exclude&gt;</span><br><span class="line">            &lt;/crontabfilter&gt;</span><br><span class="line">        &lt;/crontab&gt;</span><br><span class="line">        &lt;plugin <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span> name=<span class="string">&quot;command&quot;</span>/&gt;</span><br><span class="line">    &lt;/sersync&gt;</span><br><span class="line">                                &lt;!<span class="literal">--</span>&lt;ä»¥ä¸‹ä¸éœ€è¦ä¿®æ”¹ &gt;<span class="literal">--</span>&gt;</span><br><span class="line">    &lt;plugin name=<span class="string">&quot;command&quot;</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">param</span> prefix=<span class="string">&quot;/bin/sh&quot;</span> suffix=<span class="string">&quot;&quot;</span> ignoreError=<span class="string">&quot;true&quot;</span>/&gt;  &lt;!<span class="literal">--prefix</span> /opt/tongbu/mmm.sh suffix<span class="literal">--</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">filter</span> <span class="built_in">start</span>=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">            &lt;include expression=<span class="string">&quot;(.*)\.php&quot;</span>/&gt;</span><br><span class="line">            &lt;include expression=<span class="string">&quot;(.*)\.sh&quot;</span>/&gt;</span><br><span class="line">        &lt;/<span class="keyword">filter</span>&gt;</span><br><span class="line">    &lt;/plugin&gt;</span><br><span class="line"></span><br><span class="line">    &lt;plugin name=<span class="string">&quot;socket&quot;</span>&gt;</span><br><span class="line">        &lt;localpath watch=<span class="string">&quot;/opt/tongbu&quot;</span>&gt;</span><br><span class="line">            &lt;deshost ip=<span class="string">&quot;192.168.138.20&quot;</span> port=<span class="string">&quot;8009&quot;</span>/&gt;</span><br><span class="line">        &lt;/localpath&gt;</span><br><span class="line">    &lt;/plugin&gt;</span><br><span class="line">    &lt;plugin name=<span class="string">&quot;refreshCDN&quot;</span>&gt;</span><br><span class="line">        &lt;localpath watch=<span class="string">&quot;/data0/htdocs/cms.xoyo.com/site/&quot;</span>&gt;</span><br><span class="line">            &lt;cdninfo domainname=<span class="string">&quot;ccms.chinacache.com&quot;</span> port=<span class="string">&quot;80&quot;</span> username=<span class="string">&quot;xxxx&quot;</span> passwd=<span class="string">&quot;xxxx&quot;</span>/&gt;</span><br><span class="line">            &lt;sendurl base=<span class="string">&quot;http://pic.xoyo.com/cms&quot;</span>/&gt;</span><br><span class="line">            &lt;regexurl regex=<span class="string">&quot;false&quot;</span> match=<span class="string">&quot;cms.xoyo.com/site([/a-zA-Z0-9]*).xoyo.com/images&quot;</span>/&gt;</span><br><span class="line">        &lt;/localpath&gt;</span><br><span class="line">    &lt;/plugin&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>éœ€è¦åŒæ­¥å¤šä¸ªç›®å½•å°±éœ€è¦ç¼–å†™å¤šä¸ªconfxml.xmlç„¶åä¸åŒè¿›ç¨‹åœ°æ‰§è¡Œ</p></div><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hadoop+spark+zookeeperåˆ†å¸ƒå¼é›†ç¾¤æ­å»º</title>
      <link href="/posts/371a3fb1.html"/>
      <url>/posts/371a3fb1.html</url>
      
        <content type="html"><![CDATA[<h1 id="hadoop-spark-zookeeperåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²"><a href="#hadoop-spark-zookeeperåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²" class="headerlink" title="hadoop+spark+zookeeperåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²"></a>hadoop+spark+zookeeperåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²</h1><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>1.ç¯å¢ƒå‡†å¤‡</p></div></div><div class="note default orange simple"><p>ç¯å¢ƒçš„å‡†å¤‡åŸºäºæˆ‘å†™çš„åˆå§‹åŒ–è„šæœ¬,è‡ªç”¨7.xç³»åˆ—çš„CentOS,è€ç‰ˆæœ¬çš„å°±æ”¯æŒCentOS/Redhat6,7,8ä½†æ˜¯æœ‰ç‚¹ä¸å®Œå–„ï¼Œéœ€è¦å¯ä»¥é‚®ç®±æˆ–è€…åšå®¢ç•™è¨€ã€‚</p></div><div class="table-container"><table><thead><tr><th style="text-align:center">os\ip</th><th style="text-align:center">hostname</th><th style="text-align:center">block</th></tr></thead><tbody><tr><td style="text-align:center">centos7.9 192.168.222.226</td><td style="text-align:center">master</td><td style="text-align:center">rsmanager,datanode,namenode.snamenode,nmanager</td></tr><tr><td style="text-align:center">centos7.9 192.168.222.227</td><td style="text-align:center">node1</td><td style="text-align:center">snamenode,nmnager,datanode</td></tr><tr><td style="text-align:center">centos7.9 192.168.222.228</td><td style="text-align:center">node2</td><td style="text-align:center">datanode,nmanager</td></tr></tbody></table></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/linjiangyu2/K.git   //å¯èƒ½ä¼šæ‹‰ä¸ä¸‹æ¥ï¼Œå¤šæ‹‰å‡ æ¬¡å°±ä¸‹æ¥äº†ï¼Œå› ä¸ºæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨æ˜¯å›½å¤–çš„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> K</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> README.md  //ä¸ä¼šä½¿ç”¨çš„è¦çœ‹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ï¼Œäº†è§£è„šæœ¬éœ€è¦è¾“å…¥çš„é…ç½®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">./ksh  //ä¾æ¬¡è¾“å…¥ä½ è‡ªå·±çš„é…ç½®ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªè„šæœ¬ä¸€å®šè¦çœ‹README.mdæ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœéœ€è¦æœ‰æ—¶å€™æ”¹IPåœ°å€å›¾æ–¹ä¾¿çš„è¯ï¼Œç›´æ¥æŠŠkshè¿™ä¸ªäºŒè¿›åˆ¶çš„è„šæœ¬æ”¾åœ¨/usr/binä¸‹ï¼Œä¾¿å¯ä»¥åœ¨å…¨å±€æ‰§è¡Œäº†</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> ksh /usr/bin/ksh</span></span><br><span class="line">ä½¿ç”¨kshåˆå§‹åŒ–åï¼Œå¼€å§‹é…ç½®</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å¯¹åº”è‡ªå·±çš„IPåœ°å€ï¼Œæœ€å¥½/etc/hostsçš„è§£æåå’Œæˆ‘ä¸€è‡´ï¼Œä¸ç„¶ä¸‹é¢çš„é…ç½®æ–‡ä»¶éœ€è¦è‡ªå·±å¯¹åº”è‡ªå·±çš„è§£æåä¿®æ”¹</p></div><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[master]</span># </span><br><span class="line">cat &gt; /etc/hosts &lt;&lt;END</span><br><span class="line"><span class="number">127.0.0.1</span>   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::<span class="number">1</span>         localhost localhost.localdomain localhost6 </span><br><span class="line"><span class="number">192.168.222.226</span> master</span><br><span class="line"><span class="number">192.168.222.227</span> node1</span><br><span class="line"><span class="number">192.168.222.228</span> node2</span><br><span class="line">END</span><br><span class="line"><span class="string">[master]</span># ssh-keygen -P &#x27;&#x27; -f ~/.ssh/id_rsa</span><br><span class="line"><span class="string">[master]</span># for i in master node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do ssh-copy-id $i;done</span><br><span class="line"><span class="string">[master]</span># for i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do rsync -av /etc/hosts root@$i:/etc/hosts;done</span><br><span class="line"><span class="string">[master]</span># for i in master node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do ssh $i yum install -y openssl-devel;done</span><br><span class="line"><span class="string">[master]</span># cd /usr/lib64</span><br><span class="line"><span class="string">[master]</span># ln -s libcrypto.so.<span class="number">1</span>.<span class="number">0</span>.2k libcrypto.so</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>2.æ­å»º</p></div></div><h4 id="2-1-hadoopåˆ†å¸ƒå¼"><a href="#2-1-hadoopåˆ†å¸ƒå¼" class="headerlink" title="2.1 hadoopåˆ†å¸ƒå¼"></a>2.1 hadoopåˆ†å¸ƒå¼</h4><h4 id="ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…"><a href="#ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…" class="headerlink" title="ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…"></a>ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…</h4><div class="note default orange simple"><p>è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ…</p></div><div class="tag link"><a class="link-card" title="hadoop-2.8.5.tar.gz" href="https://alist.linjiangyu.com/d/Linux/hadoop-2.8.5.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">hadoop-2.8.5.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/hadoop-2.8.5.tar.gz</p></div></a></div><div class="tag link"><a class="link-card" title="jdk-8u212-linux-x64.tar.gz" href="https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">jdk-8u212-linux-x64.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz</p></div></a></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  [master]<span class="comment"># tar xf hadoop...  //ä¸çŸ¥é“ä½ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œå†™äº†...ï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ï¼Œtabé”®æˆ–è€…å¯¹åº”ä¿®æ”¹å°±å¯ä»¥</span></span><br><span class="line">  <span class="comment"># ...æ˜¯è¡¨ç¤ºæˆ‘ä¸çŸ¥é“ä½ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œè‡ªå·±æ”¹</span></span><br><span class="line">  [root@ master]<span class="comment"># tar xf jdk...</span></span><br><span class="line">  [root@ master]<span class="comment"># tar xf hadoop...</span></span><br><span class="line">  [root@ master]<span class="comment"># mv hadoop... /opt/hadoop285</span></span><br><span class="line">  [root@ master]<span class="comment"># mv jdk... /usr/local/jdk</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/opt/hadoop285</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$&#123;HADOOP_HOME&#125;</span>/bin:<span class="variable">$&#123;HADOOP_HOME&#125;</span>/sbin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_LIB_NATIVE_DIR=<span class="variable">$HADOOP_HOME</span>/lib/native </span><br><span class="line"><span class="built_in">export</span> HADOOP_OPTS=<span class="string">&quot;-Djava.library.path=<span class="variable">$HADOOP_HOME</span>/lib/native&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$HADOOP_HOME</span>/lib/native/:<span class="variable">$LD_LIBRARY_PATH</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># source !$</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸‹æ˜¯è‡ªå·±ç›´æ¥å†™å…¥é…ç½®ï¼Œåœ¨masteræœåŠ¡å™¨ä¸Šè¿›è¡Œ</p></div><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /opt/hadoop285/etc/hadoop</span></span><br><span class="line"><span class="comment"># vim hadoop-env.sh  //ä¿®æ”¹æ–‡ä»¶é‡Œé¢çš„export JAVA_HOME=$&#123;JAVA_HOME&#125;ä¸º</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="comment"># vim yarn-env.sh //ä¿®æ”¹å‰é¢æœ‰æ³¨é‡Šçš„export JAVA_HOMEä¸º</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="comment"># vim core-site.xml</span></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>hadoop.tmp.dir<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>/opt/data<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>fs.defaultFS<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>hdfs://master:9000<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim hdfs-site.xml</span></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>dfs.replication<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>1<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>dfs.namenode.name.dir<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>/opt/data/hdfs/name<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>dfs.datanode.data.dir<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>/opt/data/hdfs/data<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim yarn-site.xml </span></span><br><span class="line"></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>yarn.resourcemanager.hostname<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>master<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>yarn.nodemanager.aux-services<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>mapreduce_shuffle<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cp mapred-site.xml.template mapred-site.xml</span></span><br><span class="line"><span class="comment"># vim mapred-site.xml</span></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">    <span class="variable">&lt;property&gt;</span></span><br><span class="line">        <span class="variable">&lt;name&gt;</span>mapreduce.framework.name<span class="variable">&lt;/name&gt;</span></span><br><span class="line">        <span class="variable">&lt;value&gt;</span>yarn<span class="variable">&lt;/value&gt;</span></span><br><span class="line">    <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim slaves</span></span><br><span class="line"><span class="keyword">master</span></span><br><span class="line"><span class="title">node1</span></span><br><span class="line">node2</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç„¶ååœ¨masterèŠ‚ç‚¹æŠŠé…ç½®å‘åˆ°å„ä¸ªèŠ‚ç‚¹</p></div><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[master]# <span class="keyword">for</span> i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;<span class="keyword">do</span> rsync -av <span class="regexp">/usr/</span>local<span class="regexp">/jdk root@$i:/u</span>sr<span class="regexp">/local/</span>;done</span><br><span class="line"># <span class="keyword">for</span> i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;<span class="keyword">do</span> rsync -av <span class="regexp">/opt/</span>hadoop285 root@$i:<span class="regexp">/opt/</span>;done</span><br><span class="line"># <span class="keyword">for</span> i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;<span class="keyword">do</span> rsync -av <span class="regexp">/etc/</span>profile root@$i:<span class="regexp">/etc/</span>profile;done</span><br><span class="line">ç„¶ååˆ°å„ä¸ªèŠ‚ç‚¹</span><br><span class="line">[node1,<span class="number">2</span>]# <span class="keyword">source</span> <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨node1,2ä¸Šæ“ä½œï¼Œæœ€ååœ¨masteræ“ä½œ</p></div><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hdfs namenode -format   <span class="comment">//åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="meta"># ls -d /opt/data   <span class="comment">//æ­¤æ–‡ä»¶å¤¹äº§ç”Ÿå°±æ˜¯åˆå§‹åŒ–æˆåŠŸ</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨masterä¸Šæ“ä½œ</p></div><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ <span class="literal">master</span>]<span class="comment"># start-all.sh</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>æœ€åå¯ä»¥åœ¨å„ä¸ªèŠ‚ç‚¹ä½¿ç”¨jpså‘½ä»¤æŸ¥çœ‹å„è‡ªçš„éƒ¨ä»¶</p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ xxx</span>]<span class="meta"># jps</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å½“ç„¶webç•Œé¢ä¹Ÿå¯ä»¥è®¿é—®çš„ï¼Œæµè§ˆå™¨è®¿é—®192.168.222.226:8088å’Œ192.168.222.226:50070(å¯¹åº”è‡ªå·±IPåœ°å€)</p></div><div class="note default orange simple"><p>æ¥å°è¯•è¿è¡Œä¸€ä¸‹ç¬¬ä¸€ä¸ªhadoopåˆ†å¸ƒå¼ä»»åŠ¡å§</p></div><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ master]# hdfs dfs -put <span class="regexp">/etc/</span>passwd /t1</span><br><span class="line">[root@ master]# hadoop jar <span class="regexp">/opt/</span>hadoop285<span class="regexp">/share/</span>hadoop<span class="regexp">/mapreduce/</span>hadoop-mapreduce-examples-<span class="number">2.8</span>.<span class="number">5</span>.jar wordcount <span class="regexp">/t1 /</span>output/<span class="number">00</span></span><br><span class="line">[root@ master]# hdfs dfs -ls <span class="regexp">/output/</span><span class="number">00</span>  <span class="comment">//æŸ¥çœ‹è¿è¡Œåçš„ç»“æœæ–‡ä»¶,è¿è¡Œåçš„æ•°æ®åœ¨part-r-00000</span></span><br></pre></td></tr></table></figure><h4 id="2-2-sparkåˆ†å¸ƒå¼"><a href="#2-2-sparkåˆ†å¸ƒå¼" class="headerlink" title="2.2 sparkåˆ†å¸ƒå¼"></a>2.2 sparkåˆ†å¸ƒå¼</h4><div class="note default orange simple"><p>ä¸‹é¢å¼€å§‹æ­å»ºåˆ†å¸ƒå¼sparkï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯sparkçš„3.3.0ç‰ˆæœ¬</p></div><div class="tag link"><a class="link-card" title="spark-3.3.0-bin-hadoop3.tgz" href="https://alist.linjiangyu.com/d/Linux/spark-3.3.0-bin-hadoop3.tgz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">spark-3.3.0-bin-hadoop3.tgz</p><p class="url">https://alist.linjiangyu.com/d/Linux/spark-3.3.0-bin-hadoop3.tgz</p></div></a></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># æŠŠsparkåŒ…ä¸Šä¼ åˆ°æœºå™¨ä¸Šï¼Œç„¶ååˆ°è¯¥åŒ…çš„ç›®å½•ï¼Œè¿™é‡Œç»Ÿä¸€ä»¥spark-3.3.0-bin-hadoop3.tgzè¿™ä¸ªåŒ…ä¸ºæ¼”ç¤º</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># tar xf spark-3.3.0-bin-hadoop3.tgz</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv spark-3.3.0-bin-hadoop3 /opt/spark</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim /etc/profile</span></span><br><span class="line">export PATH=/opt/spark/bin:/opt/spark/sbin:$PATH</span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># cd /opt/spark/conf</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv spark-env.sh.template spark-env.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim spark-env.sh</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export HADOOP_CONF_DIR=/opt/hadoop285/etc/hadoop</span><br><span class="line">export SPARK_MASTER_IP=master   <span class="meta">#å¯¹åº”è‡ªå·±çš„masteræœºå™¨IPæˆ–è€…masterè§£æçš„åŸŸåï¼Œå¦‚æœæ˜¯æŒ‰ç…§æˆ‘ä¸Šé¢åšçš„ç›´æ¥å†™masterå³å¯</span></span><br><span class="line">export SPARK_WORKER_MEMORY=<span class="number">1024</span>m</span><br><span class="line">export SPARK_WORKER_CORES=<span class="number">2</span> </span><br><span class="line">export SPARK_EXECUTOR_MEMORY=<span class="number">1024</span>m</span><br><span class="line">export SPARK_WORKER_INSTANCES=<span class="number">1</span></span><br><span class="line">export SOARK_MASTER_PORT=<span class="number">7077</span></span><br><span class="line">export SPARK_EXECUTOR_CORES=<span class="number">1</span></span><br><span class="line">SPARK_HISTORY_OPTS=<span class="string">&quot;-Dspark.history.fs.logDirectory=hdfs://master:9000/spark_logs&quot;</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># cp spark-defaults.conf.template spark-defaults.conf</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim spark-defaults.conf</span></span><br><span class="line">spark.master                     spark:<span class="comment">//master:7077</span></span><br><span class="line">spark.eventLog.enabled           <span class="literal">true</span></span><br><span class="line">spark.eventLog.dir               hdfs:<span class="comment">//master:9000/spark_logs</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim slaves     //å¯¹åº”è‡ªå·±çš„ä¸‰å°ä¸»æœºIPåœ°å€æˆ–è€…è§£æçš„åŸŸå</span></span><br><span class="line">master</span><br><span class="line">node1</span><br><span class="line">node2</span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># cd /opt/spark/sbin</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv start-all.sh spark-start.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv stop-all.sh spark-stop.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># source /etc/profile</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /opt/spark root@node1:/opt/</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /opt/spark root@node2:/opt/</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /etc/profile root@node1:/etc/</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /etc/profile root@node2:/etc/</span></span><br><span class="line"><span class="meta"># ç„¶ååœ¨å„å·¥ä½œèŠ‚ç‚¹æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">[<span class="meta">root@ node1,node2</span>]<span class="meta"># source /etc/profile</span></span><br><span class="line"><span class="meta"># åœ¨masterèŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># start-all.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># hdfs dfs -mkdir /spark_logs</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># spark-start.sh  //å¯åŠ¨sparké›†ç¾¤</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># jps     //æŸ¥çœ‹</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸Šä¾¿æ­å»ºå¥½äº†sparkç»“åˆhadoopçš„åˆ†å¸ƒå¼é›†ç¾¤ï¼Œsparkä¹Ÿæœ‰è‡ªå·±çš„webç•Œé¢ï¼Œå¯ä»¥æµè§ˆå™¨è®¿é—®192.168.222.226:8080æ¥æŸ¥çœ‹(å¯¹åº”è‡ªå·±IPåœ°å€)</p></div><h4 id="2-3-zookeeperåˆ†å¸ƒå¼"><a href="#2-3-zookeeperåˆ†å¸ƒå¼" class="headerlink" title="2.3 zookeeperåˆ†å¸ƒå¼"></a>2.3 zookeeperåˆ†å¸ƒå¼</h4><div class="tag link"><a class="link-card" title="apache-zookeeper-3.5.10.tar.gz" href="https://alist.linjiangyu.com/d/Linux/zookeeper-3.4.14.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">apache-zookeeper-3.5.10.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/zookeeper-3.4.14.tar.gz</p></div></a></div><div class="note default orange simple"><p>åœ¨masteræœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tar xf zookeeper*</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> zookeeper* /opt/zookeeper</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> /opt/zookeeper/conf/zoo_sample.cfg /opt/zookeeper/conf/zoo.cfg</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /opt/zookeeper/conf/zoo.cfg</span></span><br><span class="line">ä¿®æ”¹</span><br><span class="line">dataDir=/opt/data/zookeeper</span><br><span class="line">æ·»åŠ </span><br><span class="line">dataLogDir=/opt/data/zookeeper/logs</span><br><span class="line">server.1=master:2888:3888</span><br><span class="line">server.2=node1:2888:3888</span><br><span class="line">server.3=node2:2888:3888</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿™é‡Œå¯¹åº”è‡ªå·±çš„ä¸»æœºå</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨å„æœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mkdir</span> -p /opt/data/zookeeper/logs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> 1 &gt; /opt/data/zookeeper/myid             <span class="comment">#è¿™é‡Œmasterå¯¹åº”ä¸Šé¢çš„server.1 ä¾¿è¦echo1,node1å¯¹åº”server.2ä¾¿è¦echo 2,node3å¯¹åº”server.3ä¾¿è¦echo 3</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨masteræœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vim /etc/profile</span></span><br><span class="line">export ZOOKEEPER_HOME=/opt/zookeeper</span><br><span class="line">export PATH=$&#123;ZOOKEEPER_HOME&#125;/bin:$PATH</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /opt/zookeeper root@<span class="variable">$i</span>:/opt/;<span class="keyword">done</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> i <span class="keyword">in</span> node&#123;1..2&#125;;<span class="keyword">do</span> rsync -av /etc/profile /etc/;<span class="keyword">done</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨å„æœºå™¨ä¸Šæ‰§è¡Œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">zkServer.sh start             <span class="comment">#è¿™ä¸ªå‘½ä»¤æœ€å¥½ä½¿ç”¨å¤šå‘½ä»¤ä¸€èµ·æ‰§è¡Œ,å°±æ˜¯å¤šä¸ªæœºå™¨çš„æ‰§è¡Œæ—¶é—´è¦å·®ä¸å¤šä¸€ç›´,å› ä¸ºzookeeperå¯¹æ—¶é—´çš„è¦æ±‚æ€§å¾ˆé«˜å’Œå„ç§é—®é¢˜</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">zkServer.sh status    <span class="comment"># å¯ä»¥åœ¨å„èŠ‚ç‚¹æŸ¥çœ‹è‡ªå·±çš„è§’è‰²æ˜¯leaderè¿˜æ˜¯follower</span></span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸æ€ä¹ˆå¥½èµ°çš„è·¯ æ‰æ˜¯ä¸Šå¡è·¯</title>
      <link href="/posts/78ceeb56.html"/>
      <url>/posts/78ceeb56.html</url>
      
        <content type="html"><![CDATA[<span class='p center red logo large'>ä¸æ€ä¹ˆå¥½èµ°çš„è·¯ æ‰æ˜¯ä¸Šå¡è·¯</span><p>äººç”Ÿæ‰€æœ‰å¾€ä¸Šçš„è·¯ï¼Œéƒ½ä¸æˆ‘ä»¬æœ¬èƒ½çš„æ‡’æƒ°ã€æ‡ˆæ€ å’Œæ‹–å»¶ä¸ç›¸å®¹ã€‚<br>å½“ä½ è§‰å¾—å¾ˆè‹¦å¾ˆç´¯æ—¶ï¼Œåƒä¸‡ä¸è¦æ³„æ°”ï¼Œ<br>å› ä¸ºä½ å¯èƒ½æ­£èµ°åœ¨ä¸Šå¡çš„è·¯ä¸Šã€‚<br>è¯·ç›¸ä¿¡ï¼Œæ­£æ˜¯å› ä¸ºé‚£äº›çœ‹èµ·æ¥å¾ˆéš¾çš„åŠªåŠ›ã€ä»˜å‡ºå’ŒåšæŒï¼Œ<br>æ‰æˆå°±äº†é‚£ä¸ªä¸æ–­å˜å¾—æ›´å¥½çš„è‡ªå·±ã€‚æ°¸è¿œä¸è¦åœæ­¢å­¦ä¹ <br>ä¸€ä»¶äº‹ä½ åšè¿‡ä¸€ç™¾éï¼Œä¹Ÿè¿˜æœ‰å¯ä»¥ç²¾è¿›ä¹‹å¤„;<br>ä¸€ç¯‡æ–‡ç« ä½ å†™è¿‡ä¸€ç™¾éï¼Œä¹Ÿè¿˜æœ‰å¯ä»¥æ”¹è¿›ä¹‹å¤„;<br>ä¸€ç§æ–¹æ³•ä½ ç”¨è¿‡ä¸€ç™¾éï¼Œä¹Ÿè¿˜æœ‰å¯ä»¥å®Œå–„ä¹‹å¤„ã€‚<br>ä¸€æ—¦åœæ­¢å­¦ä¹ ï¼Œäººå°±ä¼šæ­¢æ­¥ä¸å‰ã€‚<br>ç”Ÿæ´»ä¸­æœ‰å››ä»¶äº‹å¯ä»¥æ”¹å˜ä½  çˆ± éŸ³ä¹ æ–‡å­—å’Œå¤±å»å‰ä¸‰ä»¶äº‹è®©äººå¿ƒç”Ÿå¸Œæœ› è¯·å…è®¸æœ€åä¸€ä»¶ä½¿ä½ å˜å¾—å‹‡æ•¢ã€‚<br>è¿™ä¸–ç•Œä¸åœå¼€èŠ±ï¼Œæˆ‘æƒ³æ”¾è¿›ä½ å¿ƒé‡Œä¸€æœµã€‚<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Webåº”ç”¨ä¹‹Tomcat</title>
      <link href="/posts/d5d9f79c.html"/>
      <url>/posts/d5d9f79c.html</url>
      
        <content type="html"><![CDATA[<h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><h3 id="äºŒè¿›åˆ¶å®‰è£…"><a href="#äºŒè¿›åˆ¶å®‰è£…" class="headerlink" title="äºŒè¿›åˆ¶å®‰è£…"></a>äºŒè¿›åˆ¶å®‰è£…</h3><div class="note default orange simple"><p>å®‰è£…jdk</p></div><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ… </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="jdk-8u212-linux-x64.tar.gz" href="https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">jdk-8u212-linux-x64.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz</p></div></a></div>              </div>            </details><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar xf jdk-8u212-linux-x64.tar.gz</span></span><br><span class="line"><span class="comment"># mv jdk-8u212-linux /usr/local/jdk</span></span><br></pre></td></tr></table></figure><details class="folding-tag" cyan open><summary> è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ… </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="apache-tomcat-9.0.65-src.tar.gz" href="https://alist.linjiangyu.com/d/Linux/apache-tomcat-9.0.65-src.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">apache-tomcat-9.0.65-src.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/apache-tomcat-9.0.65-src.tar.gz</p></div></a></div><div class="tag link"><a class="link-card" title="tomcat-native-1.2.23-src.tar.gz" href="https://alist.linjiangyu.com/d/Linux/tomcat-native-1.2.23-src.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">tomcat-native-1.2.23-src.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/tomcat-native-1.2.23-src.tar.gz</p></div></a></div>              </div>            </details><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar xf apache-tomcat-9.0.65-src.tar.gz</span></span><br><span class="line"><span class="comment"># mv apache-tomcat-9.0.65-src /usr/local/tomcat</span></span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install apr apr-devel apr-utils openssl-devel</span></span><br><span class="line"><span class="comment"># tar xf tomcat-native-1.2.23-src.tar.gz </span></span><br><span class="line"><span class="comment"># cd tomcat-native-1.2.23-src/native/</span></span><br><span class="line"><span class="comment"># ./configure --with-apr=/usr/bin/apr-1-config --with-java-home=/usr/local/jdk --prefix=/usr/local/tomcat</span></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å°†jdkå’Œtomcatå†™å…¥ç¯å¢ƒå˜é‡</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export JRE_HOME=/usr/local/jdk/jre</span><br><span class="line">export TOMCAT_HOME=/usr/local/tomcat</span><br><span class="line">export PATH=<span class="variable">$</span>&#123;JAVA_HOME&#125;/bin:<span class="variable">$</span>&#123;JRE_HOME&#125;/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªå°è„šæœ¬</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;<span class="keyword">END</span></span><br><span class="line">author: linjiangyu</span><br><span class="line">cc: http://creativecommons.org/licenses/by<span class="literal">-nc-sa</span>/<span class="number">4.0</span>/</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="comment"># vim /etc/init.d/tomcat</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#chkconfig: 2345 85 15</span></span><br><span class="line"><span class="comment">#description: By K &lt;linjiangyu0702@qq.com&gt;</span></span><br><span class="line">case <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"><span class="built_in">start</span>)</span><br><span class="line">    /usr/local/tomcat/bin/startup.sh </span><br><span class="line">    ;;</span><br><span class="line">stop)</span><br><span class="line">    /usr/local/tomcat/bin/shutdown.sh</span><br><span class="line">    ;;</span><br><span class="line">status)    </span><br><span class="line">    /usr/local/tomcat/bin/configtest.sh</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    <span class="built_in">echo</span> <span class="literal">-e</span> <span class="string">&quot;\033[31mUsage: <span class="variable">$</span>(basename <span class="variable">$0</span>) (start|stop|status)\033[0m&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">&lt;!<span class="literal">--</span>è¿™é‡Œè¦åæ§½ä¸€ä¸‹javaçš„ç¨‹åºè¿è¡Œçš„æ˜¯çœŸçš„æ…¢ï¼ŒæœåŠ¡åˆšå¯åŠ¨çš„è¯<span class="number">8005</span>çš„å¥—æ¥å­—ç«¯å£ä¸ä¼šé‚£ä¹ˆå¿«å°±å¯ç”¨ï¼Œè€Œå…³é—­æœåŠ¡çš„æ—¶å€™æ˜¯è¦ä½¿ç”¨åˆ°<span class="number">8005</span>ç«¯å£shutdownçš„ï¼Œæ‰€ä»¥åº”è¯¥æŠŠrestartæœåŠ¡åŠ ä¸Šä¸€æ®µæ—¶é—´<span class="literal">--</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># chmod +x /etc/init.d/tomcat</span></span><br><span class="line"><span class="comment"># vim /usr/local/tomcat/bin/catalina.sh# æŠŠç¯å¢ƒå˜é‡å†™å…¥ç›¸åº”éœ€è¦çš„æ–‡ä»¶ä¸­(tomcatçš„å˜é‡è¿™é‡Œæ²¡æœ‰å¼•ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡,æ‰€ä»¥è¦è‡ªå·±å†å†™ä¸Š)</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export JRE_HOME=/usr/local/jdk/jre</span><br><span class="line"><span class="comment"># chkconfig --add tomcat</span></span><br><span class="line"><span class="comment"># chkconfig tomcat on</span></span><br><span class="line"><span class="comment"># service tomcat start</span></span><br></pre></td></tr></table></figure><h4 id="1-ä¼˜ç‚¹å’ŒåŠŸèƒ½"><a href="#1-ä¼˜ç‚¹å’ŒåŠŸèƒ½" class="headerlink" title="1.ä¼˜ç‚¹å’ŒåŠŸèƒ½"></a>1.ä¼˜ç‚¹å’ŒåŠŸèƒ½</h4><div class="note default orange simple"><p>ä¼˜ç‚¹å’ŒåŠŸèƒ½</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Tomcatè¿è¡Œæ—¶å ç”¨çš„ç³»ç»Ÿèµ„æºå°ï¼Œæ‰©å±•æ€§å¥½ï¼Œæ”¯æŒè´Ÿè½½å‡è¡¡ä¸é‚®ä»¶æœåŠ¡ç­‰å¼€å‘åº”ç”¨ç³»ç»Ÿå¸¸ç”¨çš„åŠŸèƒ½ï¼›</span><br><span class="line"></span><br><span class="line">Tomcatæ˜¯ä¸€ä¸ªå¼€æºçš„webæœåŠ¡å™¨ ;</span><br><span class="line"></span><br><span class="line">Tomcatæ˜¯ä¸€ä¸ªå°å‹çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSPç¨‹åºçš„é¦–é€‰ã€‚</span><br><span class="line"></span><br><span class="line">å¯¹äºä¸€ä¸ªåˆå­¦è€…æ¥è¯´ï¼Œå¯ä»¥è¿™æ ·è®¤ä¸ºï¼Œå½“åœ¨ä¸€å°æœºå™¨ä¸Šé…ç½®å¥½ApacheæœåŠ¡å™¨ï¼Œå¯åˆ©ç”¨å®ƒå“åº”å¯¹HTMLé¡µé¢çš„è®¿é—®è¯·æ±‚ã€‚å®é™…ä¸ŠTomcatéƒ¨åˆ†æ˜¯ApacheæœåŠ¡å™¨çš„æ‰©å±•ï¼Œæ‰€ä»¥å½“ä½ è¿è¡Œtomcatæ—¶ï¼Œå®ƒå®é™…ä¸Šä½œä¸ºä¸€ä¸ªApacheç‹¬ç«‹çš„è¿›ç¨‹å•ç‹¬è¿è¡Œçš„ã€‚ å½“é…ç½®æ­£ç¡®æ—¶ï¼ŒApacheä¸ºHTMLé¡µé¢æœåŠ¡ï¼Œè€ŒTomcatå®é™…ä¸Šè¿è¡ŒJSPé¡µé¢å’ŒServletã€‚å¦å¤–ï¼ŒTomcatå’ŒIISã€Apacheç­‰WebæœåŠ¡å™¨ä¸€æ ·ï¼Œå…·æœ‰å¤„ç†HTMLé¡µé¢çš„åŠŸèƒ½ï¼Œå¦å¤–å®ƒè¿˜æ˜¯ä¸€ä¸ªServletå’ŒJSPå®¹å™¨ï¼Œç‹¬ç«‹çš„Servletå®¹å™¨æ˜¯Tomcatçš„é»˜è®¤æ¨¡å¼ã€‚</span><br><span class="line"></span><br><span class="line">ä¸è¿‡ï¼ŒTomcatå¤„ç†é™æ€HTMLçš„èƒ½åŠ›ä¸å¦‚ApacheæœåŠ¡å™¨ã€‚</span><br></pre></td></tr></table></figure><h4 id="2-ç»„ä»¶"><a href="#2-ç»„ä»¶" class="headerlink" title="2.ç»„ä»¶"></a>2.ç»„ä»¶</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Server: æ§åˆ¶tomcatçš„å¯åŠ¨å’Œå…³é—­,tomcatçš„ç”Ÿå‘½å‘¨æœŸç”±Serveræ§åˆ¶</span><br><span class="line"></span><br><span class="line">Engine: è´Ÿè´£å¤„ç†æ‰€æœ‰çš„è¯·æ±‚,å¤„ç†åå°†ç»“æœè¿”å›ç»™Service,è€Œconnectoræ˜¯ä½œä¸ºserviceä¸engineçš„ä½œä¸ºä¸­é—´äº¤æµè€…ï¼›ä¸€ä¸ªengineä¸‹å¯ä»¥é…ç½®ä¸€ä¸ªé»˜è®¤ä¸»æœºï¼Œæ¯ä¸ªè™šæ‹Ÿä¸»æœºéƒ½æœ‰ä¸€ä¸ªåŸŸå</span><br><span class="line"></span><br><span class="line">Connector ä¸»è¦è´Ÿè´£å¯¹å¤–äº¤æµ</span><br><span class="line"></span><br><span class="line">Hostï¼šä»£è¡¨ä¸€ä¸ªè™šæ‹Ÿä¸»æœºï¼Œæ¯ä¸ªè™šæ‹Ÿä¸»æœºå’ŒæŸä¸ªç½‘ç»œåŸŸåï¼ˆDomain Nameï¼‰ç›¸åŒ¹é…ã€‚ æ¯ä¸ªè™šæ‹Ÿä¸»æœºä¸‹éƒ½å¯ä»¥éƒ¨ç½²ä¸€ä¸ªæˆ–å¤šä¸ªwebåº”ç”¨ï¼Œæ¯ä¸ªwebåº”ç”¨å¯¹åº”äºä¸€ä¸ªcontextï¼Œæœ‰ä¸€ä¸ªcontext pathã€‚ å½“Hostè·å¾—ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå°†æŠŠè¯¥è¯·æ±‚åŒ¹é…åˆ°æŸä¸ªContextä¸Š</span><br><span class="line"></span><br><span class="line">Wrapperï¼š ä»£è¡¨ä¸€ä¸ª Servletï¼Œå®ƒè´Ÿè´£ç®¡ç†ä¸€ä¸ª Servletï¼ŒåŒ…æ‹¬çš„ Servlet çš„è£…è½½ã€åˆå§‹åŒ–ã€æ‰§è¡Œä»¥åŠèµ„æºå›æ”¶ã€‚Wrapper æ˜¯æœ€åº•å±‚çš„å®¹å™¨ï¼Œå®ƒæ²¡æœ‰å­å®¹å™¨</span><br></pre></td></tr></table></figure><h4 id="3-é…ç½®"><a href="#3-é…ç½®" class="headerlink" title="3.é…ç½®"></a>3.é…ç½®</h4><div class="note default orange simple"><p>ç”¨æˆ·è®¤è¯ç™»é™†</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/tomcat/tomcat-user.xml</span></span><br><span class="line">&lt;user username=<span class="string">&quot;tomcat&quot;</span> password=<span class="string">&quot;abcd0702&quot;</span> roles=<span class="string">&quot;manager-gui&quot;</span>/&gt;  è®¾ç½®ç™»é™†ç”¨æˆ·å’Œå¯†ç ,roleè®¾ç½®ä¸ºå¯ä»¥æŸ¥çœ‹ç®¡ç†webç•Œé¢çš„æƒé™manager<span class="literal">-gui</span></span><br><span class="line"></span><br><span class="line">- manager<span class="literal">-gui</span> -å…è®¸è®¿é—®HTML GUIå’ŒçŠ¶æ€é¡µé¢</span><br><span class="line"></span><br><span class="line">- manager<span class="literal">-script</span> -å…è®¸è®¿é—®HTTP APIå’ŒçŠ¶æ€é¡µé¢</span><br><span class="line"></span><br><span class="line">- manager<span class="literal">-jmx</span> -å…è®¸è®¿é—®JMXä»£ç†å’ŒçŠ¶æ€é¡µ</span><br><span class="line"></span><br><span class="line">- manager<span class="literal">-status</span> -åªå…è®¸è®¿é—®çŠ¶æ€é¡µ</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>tomcaté»˜è®¤é™æ€ç½‘é¡µçš„å­˜æ”¾ä½ç½®åœ¨/usr/share/tomcat/webapps/ROOT/ä¸‹</p></div><p>â€¦è¿˜åœ¨ç¼–å†™ä¸­<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redisæŒä¹…åŒ–å­˜å‚¨åˆ‡æ¢</title>
      <link href="/posts/86ed3030.html"/>
      <url>/posts/86ed3030.html</url>
      
        <content type="html"><![CDATA[<div class="note default orange simple"><p>åˆ†äº«ä¸€ä¸ªå‘</p></div><p>redisæ•°æ®åº“çš„æŒä¹…åŒ–å­˜å‚¨æœ‰snapshotå’Œaofä¸¤ç§</p><p>å¦‚æœæ˜¯ä½¿ç”¨è¿‡snapshotä¹‹åå·²ç»æœ‰äº†å­˜å‚¨æ•°æ®ç„¶åè¦å¼€å¯aofçš„è¯,å› ä¸ºaofæ¯”snapshotæœºåˆ¶çš„rdbæ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜,redisé»˜è®¤ä¼šå»åŠ è½½ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„aofçš„ç©ºæ–‡ä»¶,ä¼šå¯¼è‡´å…¨éƒ¨æ•°æ®æœªèƒ½è¢«åŠ è½½,ç„¶åå¦‚æœè¿™ä¸ªæ—¶å€™ä½ ä½¿ç”¨äº†saveæˆ–bgsaveæˆ–è€…è§¦å‘äº†é…ç½®ä¸­çš„saveæœºåˆ¶,é‚£å°±ç›´æ¥æŠŠå½“å‰çš„ç©ºæ•°æ®åº“è¦†ç›–åˆ°rdbæ–‡ä»¶ä¸­äº†,é‚£å°±å¯ä»¥å‡†å¤‡æ”¶æ‹¾è¡Œæè¿å¤œåèˆ¹è½¬åˆ°è€æŒ,ç¼…ç”¸,æŸ¬åŸ”å¯¨äº†</p><p>è§£å†³æ–¹æ³•:</p><p>å‘½ä»¤è¡Œçš„åŠ¨æ€æ›´æ”¹,å‘½ä»¤è¡Œçš„ä¿®æ”¹ä¸ä¼šå’Œé‡å¯æœåŠ¡ä¸€èˆ¬å»æ›´æ–°ä½ çš„æ•°æ®åº“,æ‰€ä»¥åœ¨ä½ åŠ¨æ€æ›´æ”¹ä¸ºaofæœºåˆ¶åå†æ‰§è¡Œé‡å¯ä¼šè¿åŒä»¥å‰çš„æ•°æ®ä¸€åŒå¤‡ä»½è¿›aofæ–‡ä»¶,å½“ç„¶åŠ¨æ€æ›´æ”¹åä½ è¿˜æ˜¯éœ€è¦æŠŠé…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°æ›´æ”¹</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># redis-cli </span></span><br><span class="line"></span><br><span class="line">127.0.0.1&gt;<span class="built_in"> config </span><span class="built_in">set</span> appendonly <span class="literal">yes</span></span><br><span class="line"></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment"># vim redis.conf</span></span><br><span class="line"></span><br><span class="line">appendonly <span class="literal">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># systemctl restart redis.service</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½ç”¨çš„è½¯ä»¶</title>
      <link href="/posts/3df4b4e4.html"/>
      <url>/posts/3df4b4e4.html</url>
      
        <content type="html"><![CDATA[<div class="site-card-group"><a class="site-card" href="https://dddachui.top/article/df3146b2.html"><div class="img"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/1676536555990.png"/></div><div class="info"><img src="https://dddachui.top/download/other/wanye.jpg"/><span class="title">å¤§é”¤ã®åšå®¢</span><span class="desc">ä»é”¤è€å¸ˆé‚£é‡Œæ¬è¿çš„</span></div></a></div><h3 id="å¼€æºè½¯ä»¶-æŒç»­æ›´æ–°"><a href="#å¼€æºè½¯ä»¶-æŒç»­æ›´æ–°" class="headerlink" title="å¼€æºè½¯ä»¶(æŒç»­æ›´æ–°)"></a>å¼€æºè½¯ä»¶(æŒç»­æ›´æ–°)</h3><div class="note default orange simple"><p>RSSè½¯ä»¶</p></div><p><a href="https://github.com/yang991178/fluent-reader">https://github.com/yang991178/fluent-reader</a></p><div class="note default orange simple"><p>sshå·¥å…·windterm</p></div><p><a href="https://github.com/kingToolbox/WindTerm">https://github.com/kingToolbox/WindTerm</a></p><div class="note default orange simple"><p>ä»£ç ç‰‡æ®µç®¡ç†å·¥å…·massCode</p></div><p><a href="https://github.com/massCodeIO/massCode">https://github.com/massCodeIO/massCode</a></p><div class="note default orange simple"><p>è¿œç¨‹æ¡Œé¢rustdesk</p></div><p><a href="https://github.com/rustdesk/rustdesk">https://github.com/rustdesk/rustdesk</a></p><div class="note default orange simple"><p>å±€åŸŸç½‘ç½‘ç›˜alist</p></div><p>åœ¨linuxå‘è¡Œç‰ˆæ­å»ºæœåŠ¡å™¨,æŒ‚è½½å„å¤§ç½‘ç›˜æˆ–è€…æœ¬åœ°æ–‡ä»¶,æœ‰å¥½çœ‹çš„ui<br><a href="https://github.com/alist-org/alist">https://github.com/alist-org/alist</a></p><div class="note default orange simple"><p>æ´›é›ª</p></div><div class="note default orange simple"><p>æ‡‚å¾—éƒ½æ‡‚</p></div><p><a href="https://github.com/lyswhut/lx-music-desktop">https://github.com/lyswhut/lx-music-desktop</a></p><div class="note default orange simple"><p>å…¶ä»–è½¯ä»¶</p></div><div class="note default orange simple"><p>å¡é¥­è¾“å…¥æ³•</p></div><p><a href="https://input.kfsafe.cn/">https://input.kfsafe.cn/</a></p><div class="note default orange simple"><p>Obsidian(markdownç¬”è®°)</p></div><p>è¿™ä¸ªè½¯ä»¶ä¸€ç›´åœ¨æ›´æ–°å°±ä¸æ”¾é“¾æ¥äº†<br><a href="https://obsidian.md/">https://obsidian.md/</a></p><div class="note default orange simple"><p>è·å–è½¯ä»¶ä¸‹è½½åœ°å€(è“å¥äº‘)</p></div><p>windterm<br><a href="https://dddachui.lanzouy.com/iDzcV0a4znoh">https://dddachui.lanzouy.com/iDzcV0a4znoh</a><br>massCode<br><a href="https://dddachui.lanzouy.com/iwAFI0a50h0d">https://dddachui.lanzouy.com/iwAFI0a50h0d</a><br>rustdesk<br><a href="https://dddachui.lanzouy.com/ii2TA0a50htc">https://dddachui.lanzouy.com/ii2TA0a50htc</a><br>alist<br><a href="https://dddachui.lanzouy.com/iF7pT0a506kh">https://dddachui.lanzouy.com/iF7pT0a506kh</a><br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xfsdump+xfsrestore</title>
      <link href="/posts/b409e427.html"/>
      <url>/posts/b409e427.html</url>
      
        <content type="html"><![CDATA[<h3 id="xfsdump-xfsrestore"><a href="#xfsdump-xfsrestore" class="headerlink" title="xfsdump+xfsrestore"></a>xfsdump+xfsrestore</h3><div class="note default orange simple"><p>example</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lsblk</span></span><br><span class="line">sdb               <span class="number">8</span>:<span class="number">16</span>   <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk</span><br><span class="line"><span class="comment"># mkdir /&#123;t1,t2,t3&#125; -v</span></span><br><span class="line"><span class="comment"># mkfs.xfs -f /dev/sdb</span></span><br><span class="line"><span class="comment"># mount /dev/sdb /t1</span></span><br><span class="line"><span class="comment"># cp -a /etc/. /t1/</span></span><br><span class="line">å¼€å§‹å¤‡ä»½/dev/sdbè®¾å¤‡çš„æ•°æ®</span><br><span class="line"><span class="comment"># xfsdump -l 0 -L etc -M etc-dump -f /t2/etc.dump /t1        //å®Œæ•´å¤‡ä»½/t1æ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®åˆ°/t2/etc.dump</span></span><br><span class="line"><span class="comment"># rm -rf /t1</span></span><br><span class="line"><span class="comment"># xfsrestore -f /t2/etc.dump /t3     //æŠŠæ–‡ä»¶ä¸­çš„æ•°æ®å¤‡ä»½åˆ°/t3ç›®å½•ä¸­å»</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Btrfs</title>
      <link href="/posts/ad929b66.html"/>
      <url>/posts/ad929b66.html</url>
      
        <content type="html"><![CDATA[<h3 id="btrfs"><a href="#btrfs" class="headerlink" title="btrfs"></a>btrfs</h3><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h4 id="1-ç‰¹æ€§"><a href="#1-ç‰¹æ€§" class="headerlink" title="1.ç‰¹æ€§"></a>1.ç‰¹æ€§</h4></div></div><div class="note default orange simple"><p>å¯ç”±å¤šä¸ªå—è®¾å¤‡ç»„åˆæˆä¸€ä¸ªbtrfsæ–‡ä»¶ç³»ç»Ÿï¼Œå¤šç‰©ç†å·æ”¯æŒ</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>æ”¯æŒRAID(0,1,5,6,10),dup(å†—ä½™),single(å•ç›˜)å’Œçƒ­æ›´æ–°</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>å†™æ—¶å¤åˆ¶æ›´æ–°æœºåˆ¶(Cow): å¤åˆ¶ã€æ›´æ–°åŠæ›¿æ¢æŒ‡é’ˆï¼Œè€Œéå°±åœ°æ›´æ”¹æºæ–‡ä»¶</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>æ”¯æŒå…ƒæ•°æ®æ ¡éªŒç æœºåˆ¶ï¼Œä¸€æ—¦æ–‡ä»¶è®¡ç®—åå‘ç°å—æŸä¼šè‡ªåŠ¨å°è¯•ä¿®å¤</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>æ”¯æŒåˆ›å»ºå­å·(å­å·æœ¬è´¨æ˜¯åœ¨btrfsæ–‡ä»¶ç³»ç»Ÿä¸­ç”±btrfsåˆ›å»ºçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¯ä»¥å•ç‹¬è¢«æ‹¿å‡ºæ¥æŒ‚è½½åˆ°åˆ«çš„æŸä¸€ä¸ªç›®å½•ä¸­)</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>å¿«ç…§ï¼Œè¿˜æ”¯æŒå¿«ç…§çš„å¿«ç…§ï¼ˆå¯ä»¥å®ç°å¿«ç…§çš„å¢é‡å¤‡ä»½ï¼‰</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>é€æ˜å‹ç¼©ï¼ˆæ— éœ€ç”¨æˆ·å‚ä¸ï¼‰</p></div><div class="note default orange simple"></div><div class="note default orange simple"><p>æ”¯æŒext4çš„æ–‡ä»¶ç³»ç»Ÿè½¬æ¢ä¸ºbtrfs</p></div><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h4 id="2-btrfs"><a href="#2-btrfs" class="headerlink" title="2.btrfs"></a>2.btrfs</h4></div></div><h4 id="2-1-mkfs-btrfs"><a href="#2-1-mkfs-btrfs" class="headerlink" title="2.1 mkfs.btrfs"></a>2.1 mkfs.btrfs</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">-L</span>         label</span><br><span class="line"><span class="comment"># mkfs.btrfs -L btr1 /dev/sdf /dev/sdg        //æŠŠ/dev/sdf,sdgæ ¼å¼åŒ–æˆbtrfsç³»ç»Ÿå¹¶æ‰“ä¸Šbtr1çš„æ ‡ç­¾</span></span><br><span class="line"><span class="literal">-d</span> [<span class="type">type</span>]  raid0,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">10</span>,single</span><br><span class="line"><span class="literal">-m</span> &lt;profile&gt; raid0,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">10</span>,single,dup(å†—ä½™)</span><br><span class="line"><span class="literal">-O</span> &lt;feature&gt;</span><br><span class="line">    <span class="literal">-O</span> list<span class="literal">-all</span>   åˆ—å‡ºæ”¯æŒçš„æ‰€æœ‰çš„feature</span><br></pre></td></tr></table></figure><h4 id="2-2-btrfs"><a href="#2-2-btrfs" class="headerlink" title="2.2 btrfs"></a>2.2 btrfs</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># btrfs filesystem show        //æŸ¥çœ‹btrfsæ–‡ä»¶ç³»ç»Ÿçš„å—è®¾å¤‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem show -m(--mounted) -d(--all) //æŸ¥çœ‹å·²æŒ‚è½½çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„è®¾å¤‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem label /dev/xxx        //æŸ¥çœ‹è®¾å¤‡çš„labelæ ‡ç­¾</span></span><br><span class="line"></span><br><span class="line">é€æ˜å‹ç¼©æœºåˆ¶,æ‰€æœ‰æ–‡ä»¶çš„è¯»å–å’Œå†™å…¥ä¼šç»è¿‡è§£å‹ç¼©å¤„ç†</span><br><span class="line"><span class="comment"># mount -o compress=lzo /dev/xxx xxx(path)</span></span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="comment"># mount -o compress=zlib /dev/xxx xxx(path)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem resize -10G /btr1       //æŠŠæŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿå—è®¾å¤‡ç¼©å‡10Gç©ºé—´</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem resize +5G /btr1       //æŠŠæŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿå—è®¾å¤‡å¢åŠ 5Gç©ºé—´</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem resize max /btr1       //æŠŠæŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿå—è®¾å¤‡å¢åŠ åˆ°ç›®å‰æœ€å¤§çš„å­˜å‚¨ç©ºé—´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem df /btr1       // -m -g -k ä»¥ä»€ä¹ˆç£ç›˜å•ä½æŸ¥çœ‹æŒ‚è½½åœ¨/btr1ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs device add /dev/sdh /btr1   //æŠŠ/dev/sdhè®¾å¤‡æ·»åŠ åˆ°æŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿä¸­</span></span><br><span class="line"></span><br><span class="line">å› ä¸ºæ–‡ä»¶ç³»ç»Ÿä¸ä¼šè‡ªåŠ¨æŠŠå‰é¢å­˜å‚¨çš„æ•°æ®å¹³è¡¡åˆ°æ¯ä¸€å—ç¡¬ç›˜å—è®¾å¤‡ä¸­,ä¸ºäº†èƒ½è®©æ–°åŠ å…¥çš„æ•°æ®ç›˜èƒ½å‡è¡¡å¹³èººå­˜å‚¨,åº”è¯¥æ‰‹åŠ¨æŠŠæ•°æ®å¹³è¡¡åˆ°æ¯ä¸ªå­˜å‚¨ç›˜ä¸­</span><br><span class="line"><span class="comment"># btrfs balance start /btr1    //åŠ ä¸Š--full-balanceæ‰§è¡Œå¯ä»¥ä¸ç»è¿‡ç­‰å¾…ç«‹åˆ»æ‰§è¡Œ,ä¸ç„¶ä¼šæœ‰å€’è®¡æ—¶10ç§’åæ‰§è¡Œ</span></span><br><span class="line">btrfs balance [<span class="type">option</span>] directory</span><br><span class="line">  <span class="built_in">start</span>    å¼€å§‹</span><br><span class="line">    pause    æš‚åœ</span><br><span class="line">    cancel   å–æ¶ˆ</span><br><span class="line">    resume   ç»§ç»­</span><br><span class="line">    status   çŠ¶æ€</span><br><span class="line">    </span><br><span class="line"><span class="comment"># btrfs device delete /dev/sdh /btr1      //æŠŠ/dev/sdhè®¾å¤‡ä»æŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿä¸­ç§»é™¤ï¼ˆç§»é™¤æ—¶ä¼šè‡ªåŠ¨æŠŠè¦ç§»é™¤çš„è®¾å¤‡ä¸­çš„æ•°æ®ç§»åŠ¨åˆ°å…¶ä»–çš„å±äºè¯¥åŸæœ¬btrfsæ–‡ä»¶ç³»ç»Ÿçš„è®¾å¤‡ä¸­å»ï¼‰</span></span><br><span class="line">å¦‚æœç§»é™¤æ“ä½œä¼šå¯¼è‡´ç£ç›˜å°‘äºæŒ‡å®šçš„RAIDçº§åˆ«æœ€ä½è¦æ±‚æ•°,åˆ™ä¼šæ— æ³•ç§»é™¤</span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs balance start -mconvert=raid(0,1,5,6,10,dup.single) /btr1  //ä¿®æ”¹æŒ‚è½½åœ¨/btr1çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®RAIDçº§åˆ«(ä¸€å®šè¦è¾¾åˆ°æœ¬æ¥RAIDçº§åˆ«æ‰€éœ€è¦çš„æœ€å°‘ç£ç›˜ä¸ªæ•°)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs balance start -dconvert=raid(0,1,5,6,10,dup.single) /btr1  //ä¿®æ”¹æŒ‚è½½åœ¨/btr1çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®RAIDçº§åˆ«(ä¸€å®šè¦è¾¾åˆ°æœ¬æ¥RAIDçº§åˆ«æ‰€éœ€è¦çš„æœ€å°‘ç£ç›˜ä¸ªæ•°)</span></span><br><span class="line"></span><br><span class="line">åˆ›å»ºå­å·</span><br><span class="line"><span class="comment"># btrfs subvolume create /btrfs/logs</span></span><br><span class="line">æŸ¥çœ‹æŒ‚è½½åœ¨/btr1ç›®å½•ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„å­å·</span><br><span class="line"><span class="comment"># btrfs subvolume list /btrfs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mount -o subvol=logs(å¯ä»¥æ¢æˆå·ID) /dev/sdf /mnt     //æŠŠ/dev/sdfä¸­çš„å­å·logsæŒ‚è½½åˆ°/mntç›®å½•ä¸‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs subvolume delete /btr1/cache        //æŠŠæŒ‚è½½åœ¨/btr1ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„cacheå­å·åˆ é™¤</span></span><br><span class="line"></span><br><span class="line">åˆ›å»ºå­å·å¿«ç…§(å­å·çš„å¿«ç…§å¿…é¡»åœ¨æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç›®å½•ä¸‹)</span><br><span class="line"><span class="comment"># btrfs subvolume snapshot /btr1/logs /btr1/logs_snapshot      //åˆ›å»ºæŒ‚è½½åœ¨/btr1ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„logså­å·çš„å¿«ç…§ä¸ºlogs_snapshot</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¯æŒå•æ–‡ä»¶å¿«ç…§</span></span><br><span class="line"><span class="comment"># cp --reflink /btr1/passwd /btr1/passwd_snapshot</span></span><br></pre></td></tr></table></figure><h4 id="3-example"><a href="#3-example" class="headerlink" title="3.example"></a>3.example</h4><div class="note default orange simple"><p>ç¯å¢ƒ</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lsblk</span></span><br><span class="line">sdf                   <span class="number">8</span>:<span class="number">80</span>   <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk  </span><br><span class="line">sdg                   <span class="number">8</span>:<span class="number">96</span>   <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk  </span><br><span class="line">sdh                   <span class="number">8</span>:<span class="number">112</span>  <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk  </span><br><span class="line">sdi                   <span class="number">8</span>:<span class="number">128</span>  <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk  </span><br><span class="line">sdj                   <span class="number">8</span>:<span class="number">144</span>  <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk  </span><br><span class="line">sdk                   <span class="number">8</span>:<span class="number">160</span>  <span class="number">0</span>   <span class="number">20</span>G  <span class="number">0</span> disk </span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkfs.btrfs -L btr1 /dev/sdf /dev/sdg        //æŠŠ/dev/sdf,sdgæ ¼å¼åŒ–æˆbtrfsç³»ç»Ÿå¹¶æ‰“ä¸Šbtr1çš„æ ‡ç­¾</span></span><br><span class="line"><span class="comment"># btrfs filesystem show        //æŸ¥çœ‹btrfsæ–‡ä»¶ç³»ç»Ÿçš„å—è®¾å¤‡</span></span><br><span class="line">Label: <span class="string">&#x27;btr1&#x27;</span>  uuid: f1713d01<span class="literal">-0741-41d5-9062-87e46bbad575</span></span><br><span class="line">        Total devices <span class="number">2</span> FS bytes used <span class="number">112.00</span>KiB</span><br><span class="line">        devid    <span class="number">1</span> size <span class="number">20.00</span>GiB used <span class="number">2.01</span>GiB path /dev/sdf</span><br><span class="line">        devid    <span class="number">2</span> size <span class="number">20.00</span>GiB used <span class="number">2.01</span>GiB path /dev/sdg</span><br><span class="line">è¿™é‡Œå·²ç»æ˜¯ä¸€ä¸ªå¯ä»¥æŒ‚è½½çš„ç±»å‹æ˜¯btrfsæ–‡ä»¶ç³»ç»Ÿçš„å—è®¾å¤‡äº†,å°è¯•æŒ‚è½½ä¸€ä¸‹</span><br><span class="line"><span class="comment"># mkdir /btr1</span></span><br><span class="line"><span class="comment"># mount -t btrfs /dev/sdf /btr1 </span></span><br><span class="line"><span class="comment"># df -Th /btr1</span></span><br><span class="line">Filesystem     <span class="built_in">Type</span>   Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdf       btrfs   <span class="number">40</span>G   <span class="number">18</span>M   <span class="number">38</span>G   <span class="number">1</span>% /btr1</span><br><span class="line">å¯ä»¥çœ‹åˆ°æ˜¯ä¸¤ä¸ªå—è®¾å¤‡ç»‘å®šåœ¨äº†ä¸€å—æ˜¾ç¤ºçš„æ˜¯å¯ç”¨<span class="number">40</span>Gå­˜å‚¨</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨çº¿ç¼©å°å­˜å‚¨ç©ºé—´,å—è®¾å¤‡å¿…é¡»å…ˆæŒ‚è½½åˆ°ç›®å½•ä¸Š</span></span><br><span class="line"><span class="comment"># btrfs filesystem resize -10G /dev/sdf       //æŠŠæŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿå—è®¾å¤‡ç¼©å‡10Gç©ºé—´</span></span><br><span class="line">Resize <span class="string">&#x27;/btr1&#x27;</span> of <span class="string">&#x27;-10G&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># df -hT /btr1</span></span><br><span class="line">Filesystem     <span class="built_in">Type</span>   Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdf       btrfs   <span class="number">30</span>G   <span class="number">18</span>M   <span class="number">18</span>G   <span class="number">1</span>% /btr1</span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem df /btr1       // -m -g -k ä»¥ä»€ä¹ˆç£ç›˜å•ä½æŸ¥çœ‹æŒ‚è½½åœ¨/btr1ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿä¿¡æ¯</span></span><br><span class="line"><span class="keyword">Data</span>, RAID0: total=<span class="number">2.00</span>GiB, used=<span class="number">788.00</span>KiB</span><br><span class="line">System, RAID1: total=<span class="number">8.00</span>MiB, used=<span class="number">16.00</span>KiB</span><br><span class="line">Metadata, RAID1: total=<span class="number">1.00</span>GiB, used=<span class="number">112.00</span>KiB</span><br><span class="line">GlobalReserve, single: total=<span class="number">16.00</span>MiB, used=<span class="number">0.00</span>B</span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs filesystem resize max /btr1       //æŠŠæŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿå—è®¾å¤‡å¢åŠ åˆ°ç›®å‰æœ€å¤§çš„å­˜å‚¨ç©ºé—´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># df -Th /btr1</span></span><br><span class="line">Filesystem     <span class="built_in">Type</span>   Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdf       btrfs   <span class="number">40</span>G   <span class="number">18</span>M   <span class="number">38</span>G   <span class="number">1</span>% /btr1</span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs device add /dev/sdh /btr1   //æŠŠ/dev/sdhè®¾å¤‡æ·»åŠ åˆ°æŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿä¸­</span></span><br><span class="line"><span class="comment"># df -Th /btr1</span></span><br><span class="line">Filesystem     <span class="built_in">Type</span>   Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdf       btrfs   <span class="number">60</span>G   <span class="number">18</span>M   <span class="number">56</span>G   <span class="number">1</span>% /btr1</span><br><span class="line"></span><br><span class="line">å› ä¸ºæ–‡ä»¶ç³»ç»Ÿä¸ä¼šè‡ªåŠ¨æŠŠå‰é¢å­˜å‚¨çš„æ•°æ®å¹³è¡¡åˆ°æ¯ä¸€å—ç¡¬ç›˜å—è®¾å¤‡ä¸­,ä¸ºäº†èƒ½è®©æ–°åŠ å…¥çš„æ•°æ®ç›˜èƒ½å‡è¡¡å¹³èººå­˜å‚¨,åº”è¯¥æ‰‹åŠ¨æŠŠæ•°æ®å¹³è¡¡åˆ°æ¯ä¸ªå­˜å‚¨ç›˜ä¸­</span><br><span class="line"><span class="comment"># btrfs balance start /btr1    //åŠ ä¸Š--full-balanceæ‰§è¡Œå¯ä»¥ä¸ç»è¿‡ç­‰å¾…ç«‹åˆ»æ‰§è¡Œ,ä¸ç„¶ä¼šæœ‰å€’è®¡æ—¶10ç§’åæ‰§è¡Œ</span></span><br><span class="line">Starting balance without any filters.</span><br><span class="line">Done, had to relocate <span class="number">3</span> out of <span class="number">3</span> chunks</span><br><span class="line"><span class="comment"># btrfs device delete /dev/sdh /btr1      //æŠŠ/dev/sdhè®¾å¤‡ä»æŒ‚è½½åœ¨/btr1ç›®å½•çš„btrfsæ–‡ä»¶ç³»ç»Ÿä¸­ç§»é™¤ï¼ˆç§»é™¤æ—¶ä¼šè‡ªåŠ¨æŠŠè¦ç§»é™¤çš„è®¾å¤‡ä¸­çš„æ•°æ®ç§»åŠ¨åˆ°å…¶ä»–çš„å±äºè¯¥åŸæœ¬btrfsæ–‡ä»¶ç³»ç»Ÿçš„è®¾å¤‡ä¸­å»ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># df -hT /btr1</span></span><br><span class="line">Filesystem     <span class="built_in">Type</span>   Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdf       btrfs   <span class="number">40</span>G   <span class="number">18</span>M   <span class="number">40</span>G   <span class="number">1</span>% /btr1</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹æ•°æ®å’Œå…ƒæ•°æ®çš„RAIDçº§åˆ«(åŠ¨æ€æ›´æ–°)</span><br><span class="line"><span class="comment"># btrfs balance start -mconvert=raid(0,1,5,6,10,dup.single) /btr1  //ä¿®æ”¹æŒ‚è½½åœ¨/btr1çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®RAIDçº§åˆ«(ä¸€å®šè¦è¾¾åˆ°æœ¬æ¥RAIDçº§åˆ«æ‰€éœ€è¦çš„æœ€å°‘ç£ç›˜ä¸ªæ•°)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># btrfs balance start -dconvert=raid(0,1,5,6,10,dup.single) /btr1  //ä¿®æ”¹æŒ‚è½½åœ¨/btr1çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®RAIDçº§åˆ«(ä¸€å®šè¦è¾¾åˆ°æœ¬æ¥RAIDçº§åˆ«æ‰€éœ€è¦çš„æœ€å°‘ç£ç›˜ä¸ªæ•°)</span></span><br><span class="line"></span><br><span class="line">åˆ›å»ºå­å·</span><br><span class="line"><span class="comment"># btrfs subvolume create /btrfs/logs</span></span><br><span class="line">æŸ¥çœ‹æŒ‚è½½åœ¨/btr1ç›®å½•ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„å­å·</span><br><span class="line"><span class="comment"># btrfs subvolume list /btrfs</span></span><br><span class="line"><span class="comment"># btrfs subvolume create /btrfs/cache</span></span><br><span class="line"><span class="comment"># ls /btr1</span></span><br><span class="line">cache  logs</span><br><span class="line"><span class="comment"># cp /etc/passwd /btr1/logs/</span></span><br><span class="line"><span class="comment"># mount -o subvol=logs(å¯ä»¥æ¢æˆå·ID) /dev/sdf /mnt     //æŠŠ/dev/sdfä¸­çš„å­å·logsæŒ‚è½½åˆ°/mntç›®å½•ä¸‹</span></span><br><span class="line"><span class="comment"># df -Th </span></span><br><span class="line">/dev/sdf                btrfs      <span class="number">60</span>G   <span class="number">17</span>M   <span class="number">58</span>G   <span class="number">1</span>% /mnt</span><br><span class="line">/dev/sdf                btrfs      <span class="number">60</span>G   <span class="number">17</span>M   <span class="number">58</span>G   <span class="number">1</span>% /btr1</span><br><span class="line"><span class="comment"># ls /mnt</span></span><br><span class="line">passwd</span><br><span class="line"></span><br><span class="line">åˆ é™¤å­å·</span><br><span class="line"><span class="comment"># btrfs subvolume delete /btr1/cache        //æŠŠæŒ‚è½½åœ¨/btr1ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„cacheå­å·åˆ é™¤</span></span><br><span class="line">Delete subvolume (no<span class="literal">-commit</span>): <span class="string">&#x27;/btr1/cache&#x27;</span></span><br><span class="line"></span><br><span class="line">åˆ›å»ºå­å·å¿«ç…§(å­å·çš„å¿«ç…§å¿…é¡»åœ¨æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç›®å½•ä¸‹)</span><br><span class="line"><span class="comment"># btrfs subvolume snapshot /btr1/logs /btr1/logs_snapshot      //åˆ›å»ºæŒ‚è½½åœ¨/btr1ä¸‹çš„btrfsæ–‡ä»¶ç³»ç»Ÿçš„logså­å·çš„å¿«ç…§ä¸ºlogs_snapshot</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¯æŒå•æ–‡ä»¶å¿«ç…§</span></span><br><span class="line"><span class="comment"># cp --reflink /btr1/passwd /btr1/passwd_snapshot</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>æŠŠext4æ–‡ä»¶ç³»ç»Ÿè½¬æ¢ä¸ºbtrfsæ–‡ä»¶ç³»ç»Ÿ</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mke2fs -t ext4 /dev/sdj</span></span><br><span class="line"><span class="comment"># mount /dev/sdj /mnt</span></span><br><span class="line"><span class="comment"># cp /etc/passwd /mnt/</span></span><br><span class="line"><span class="comment"># umount /mnt</span></span><br><span class="line"><span class="comment"># e2fsck -f /dev/sdj æˆ–è€… # fsck -f /dev/sdj</span></span><br><span class="line"><span class="comment"># btrfs-convert /dev/sdj</span></span><br><span class="line"><span class="comment"># mount /dev/sdj /mnt</span></span><br><span class="line"><span class="comment"># ls /mnt</span></span><br><span class="line">ext2_saved  passwd  lost+found</span><br><span class="line">*è¿™ä¸ªext2_savedæ–‡ä»¶å¤¹ä¸èƒ½åˆ é™¤</span><br><span class="line"></span><br><span class="line">è¿˜å¯ä»¥é‡æ–°æŠŠæ–‡ä»¶ç³»ç»Ÿå›æ»šåˆ°ext4(ä½†æ˜¯è½¬æ¢ä¸ºbtrfsä¹‹åæ“ä½œçš„æ–‡ä»¶ä¸ä¼šä¿®æ”¹å’Œä¿ç•™,ç±»ä¼¼äºå›æ»šå¿«ç…§)</span><br><span class="line"><span class="comment"># umount /mnt</span></span><br><span class="line"><span class="comment"># btrfs-convert -r /dev/sdj</span></span><br><span class="line">rollback complete</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pxe-cobbler</title>
      <link href="/posts/d2d1d8fb.html"/>
      <url>/posts/d2d1d8fb.html</url>
      
        <content type="html"><![CDATA[<h2 id="Pxe-Cobbler"><a href="#Pxe-Cobbler" class="headerlink" title="Pxe-Cobbler"></a>Pxe-Cobbler</h2><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>ç¯å¢ƒ</p></div></div><div class="table-container"><table><thead><tr><th style="text-align:center">IP</th><th style="text-align:center">HOSTNAME</th><th style="text-align:center">ROLE</th></tr></thead><tbody><tr><td style="text-align:center">dhcp</td><td style="text-align:center">t1</td><td style="text-align:center">dhcp</td></tr><tr><td style="text-align:center">dhcp</td><td style="text-align:center">t2</td><td style="text-align:center">c1</td></tr><tr><td style="text-align:center">192.168.222.30,dhcp(192.168.222.201)</td><td style="text-align:center">t3</td><td style="text-align:center">c2</td></tr></tbody></table></div><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>ä¸€ã€dhcp</p></div></div><div class="note default orange simple"><p>dhcpæ˜¯åŸºäºrarpï¼Œå’Œarpç›¸åï¼Œarpæ˜¯é€šè¿‡å¯¹IPæ¥è¯†åˆ«ç‰©ç†ç½‘å¡macåœ°å€ï¼Œè€Œdhcpæ˜¯é€šè¿‡è¯†åˆ«å®¢æˆ·ç«¯æœºå™¨çš„ç‰©ç†ç½‘å¡macåœ°å€æ¥åˆ¤æ–­ç»™äºˆå®¢æˆ·ç«¯çš„IPåœ°å€</p></div><div class="note default orange simple"><p>ç›‘å¬åœ¨67ç«¯å£</p></div><p>Server: 67/UDP</p><p>Client: 68/UDP</p><p>arp: address resolving protocol</p><p>â€‹    IP  â€”&gt; MAC</p><p>rarp: reverse arp</p><p>â€‹    MAC â€”&gt; IP</p><div class="note default orange simple"><p>å·¥ä½œæµç¨‹:</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>) Client: dhcp discover</span><br><span class="line">(<span class="number">2</span>) Server: dhcp offer (IP/mask,gw...)</span><br><span class="line">lease time: ç§Ÿçº¦æœŸé™</span><br><span class="line">(<span class="number">3</span>) Client: dhcp request</span><br><span class="line">(<span class="number">4</span>) Sever: dhcp ack</span><br><span class="line">ç»­ç§Ÿï¼š</span><br><span class="line"><span class="number">50</span>%,<span class="number">75</span>%,<span class="number">87.5</span>%,</span><br><span class="line"></span><br><span class="line">å•æ’­ç»™æœåŠ¡ï¼š</span><br><span class="line">dhcp request</span><br><span class="line">dhcp ack   //å¯ä»¥ç»§ç»­ç”¨</span><br><span class="line"></span><br><span class="line">dhcp request</span><br><span class="line">dhcp nak   //ä¸å¯ä»¥ç»§ç»­ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">dhcp discover</span><br><span class="line">(<span class="number">5</span>) Server</span><br><span class="line">dhcp:</span><br><span class="line">dhcpd: dhcp æœåŠ¡</span><br><span class="line">dhcrelay: ä¸­ç»§,åœ¨ä¸¤ä¸ªç½‘æ®µä¸­éƒ½èµ·åˆ†å‘IPä½œç”¨çš„dhcpæœåŠ¡å™¨</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>é…ç½®æ–‡ä»¶,ä½¿ç”¨dhcpæœåŠ¡</p></div><div class="note default orange simple"><p>dhcpçš„é…ç½®æ¨¡æ¿æ–‡ä»¶åœ¨/usr/share/doc/dhcp-4.2.5ä¸‹é¢</p></div><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">dhcp</span>]<span class="comment"># yum install -y dhcp</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">dhcp</span>]<span class="comment"># cp /usr/share/doc/dhcp-4.2.5/dhcpd.conf<span class="doctag">.example</span> /etc/dhcp/dhcpd.conf //æ¨¡æ¿æ–‡ä»¶æ‹·è´</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">dhcp</span>]<span class="comment"># vim /etc/dhcp/dhcpd.conf</span></span><br><span class="line"><span class="comment"># å…¶ä½™æ²¡æœ‰æ˜¾ç¤ºçš„æˆ‘æš‚æ—¶æ³¨é‡Šæ‰äº†</span></span><br><span class="line">option domain<span class="literal">-name</span> <span class="string">&quot;linjiangyu.com&quot;</span>;   //æŒ‡å®šé»˜è®¤çš„DNSåŸŸå </span><br><span class="line">option domain<span class="literal">-name-servers</span> <span class="number">119.29</span>.<span class="number">29.29</span>;  //æŒ‡å®šé»˜è®¤çš„DNSæœåŠ¡å™¨IP</span><br><span class="line">default<span class="literal">-lease-time</span> <span class="number">43200</span>;            //é»˜è®¤ç§Ÿçº¦æ—¶é—´</span><br><span class="line">max<span class="literal">-lease-time</span> <span class="number">86400</span>;                //æœ€å¤§ç§Ÿçº¦æ—¶é—´</span><br><span class="line">log<span class="literal">-facility</span> local7;//æŒ‡å®šæ—¥å¿—æ–‡ä»¶ä¸éœ€è¦ä¿®æ”¹</span><br><span class="line">subnet <span class="number">10.10</span>.<span class="number">0.0</span> netmask <span class="number">255.255</span>.<span class="number">255.0</span> &#123;   //å£°æ˜è¦åˆ†é…çš„ç½‘æ®µåœ°å€</span><br><span class="line">        range <span class="number">10.10</span>.<span class="number">0.150</span> <span class="number">10.10</span>.<span class="number">0.240</span>;       //åˆ†é…åœ°å€æ± </span><br><span class="line">        option routers  <span class="number">10.10</span>.<span class="number">0.202</span>;//æŒ‡å®šé»˜è®¤ç½‘å…³</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@ t2]# dhclient -d    //-dæ˜¯å‰å°è¿è¡Œï¼Œä¸ç”¨-dæ˜¯åå°è¿è¡Œ</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯ä»¥çœ‹åˆ°IPåœ°å€æ˜¯10.10.0.151,å¯èƒ½æ˜¯ç¬¬ä¸€ä¸ª10.10.0.150è¢«æˆ‘åˆšå¼€å§‹æ›´æ”¹ä¸ºdhcpçš„ä»…ä¸»æœºæ¨¡å¼çš„t1æœåŠ¡å™¨ç»™å äº†,ç½‘å…³æ˜¯è®¾ç½®çš„10.10.0.202</span></span><br></pre></td></tr></table></figure><p>æŒç»­æ›´æ–°ä¸­â€¦<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NFSçš„ä½¿ç”¨</title>
      <link href="/posts/1309af80.html"/>
      <url>/posts/1309af80.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>ä¸€ã€NFSçš„ä½¿ç”¨</p></div></div><div class="note default orange simple"><p>nfsæ˜¯å¯¹æœåŠ¡å™¨çš„æ–‡ä»¶å¤¹å…±äº«ï¼Œå±äºNASä¸­çš„ä¸€ä¸­ï¼Œå¯ä»¥å®ç°å¤šä¸ªæœåŠ¡å™¨è¯»å†™å…±äº«æ–‡ä»¶</p></div><h4 id="1-ç¯å¢ƒ"><a href="#1-ç¯å¢ƒ" class="headerlink" title="1.ç¯å¢ƒ"></a>1.ç¯å¢ƒ</h4><div class="table-container"><table><thead><tr><th style="text-align:center">IP</th><th style="text-align:center">HOSTNAME</th><th style="text-align:center">ROLE</th></tr></thead><tbody><tr><td style="text-align:center">10.10.0.1</td><td style="text-align:center">nfs</td><td style="text-align:center">server</td></tr><tr><td style="text-align:center">10.10.0.2</td><td style="text-align:center">client</td><td style="text-align:center">client</td></tr></tbody></table></div><h4 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2.ä½¿ç”¨"></a>2.ä½¿ç”¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@ nfs,client]# cat &gt; /etc/hosts &lt;&lt;END</span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">10.10.0.1nfs</span><br><span class="line">10.10.0.2client</span><br><span class="line">END</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">nfs</span>]<span class="comment"># yum install -y nfs-utils rpcbind</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># yum install -y nfs-utils</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">nfs</span>]<span class="comment"># mkdir /nfs         //åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨äºæµ‹è¯•</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">nfs</span>]<span class="comment"># echo &#x27;nfs test&#x27; &gt; /nfs/t1</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">nfs</span>]<span class="comment"># vim /etc/exports   //nfsæœåŠ¡çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œnfsçš„ä¸‹è½½ä¸ä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªæ–‡ä»¶</span></span><br><span class="line">/nfs/<span class="keyword">data</span>*(rw,sync,no_root_squash)     //*ä»£è¡¨æ‰€æœ‰çš„IPéƒ½å¯ä»¥è®¿é—®æŒ‚è½½</span><br><span class="line"><span class="comment">#æ–‡ä»¶çš„ç¼–å†™</span></span><br><span class="line">å…±äº«ä¸»æœºï¼š</span><br><span class="line">*   ï¼šä»£è¡¨æ‰€æœ‰ä¸»æœº</span><br><span class="line"><span class="number">10.10</span>.<span class="number">0.0</span>/<span class="number">24</span>ï¼šä»£è¡¨å…±äº«ç»™æŸä¸ªç½‘æ®µ<span class="number">10.10</span>.<span class="number">0.1</span> ~ <span class="number">10.10</span>.<span class="number">0.254</span></span><br><span class="line"><span class="number">10.10</span>.<span class="number">0.0</span>/<span class="number">24</span>(rw) <span class="number">10.10</span>.<span class="number">1.0</span>/<span class="number">24</span>(ro) :ä»£è¡¨å…±äº«ç»™ä¸åŒç½‘æ®µ</span><br><span class="line"><span class="number">10.10</span>.<span class="number">0.10</span>ï¼šå…±äº«ç»™æŸä¸ªIP</span><br><span class="line">*.linjiangyu.com:ä»£è¡¨å…±äº«ç»™æŸä¸ªåŸŸä¸‹çš„æ‰€æœ‰ä¸»æœº</span><br><span class="line"></span><br><span class="line">å…±äº«é€‰é¡¹ï¼š</span><br><span class="line">roï¼šåªè¯»</span><br><span class="line">rwï¼šè¯»å†™</span><br><span class="line">syncï¼šå®æ—¶åŒæ­¥ï¼Œç›´æ¥å†™å…¥ç£ç›˜(å®‰å…¨æ€§æœ€é«˜)</span><br><span class="line">asyncï¼šå¼‚æ­¥ï¼Œå…ˆç¼“å­˜æ•°æ®åœ¨å†…å­˜ç„¶åå†åŒæ­¥ç£ç›˜(æ•ˆç‡æœ€é«˜ï¼Œä½†æ˜¯æœ‰ä¸¢å¤±æ–‡ä»¶é£é™©)</span><br><span class="line">anonuidï¼šè®¾ç½®è®¿é—®nfsæœåŠ¡çš„ç”¨æˆ·çš„uidï¼Œuidéœ€è¦åœ¨/etc/passwdä¸­å­˜åœ¨</span><br><span class="line">anongidï¼šè®¾ç½®è®¿é—®nfsæœåŠ¡çš„ç”¨æˆ·çš„gid</span><br><span class="line">root_squash ï¼šé»˜è®¤é€‰é¡¹ rootç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„éƒ½å˜æˆnfsnobody,å…¶ä»–äººnfs<span class="literal">-server</span>ç«¯æ˜¯å®ƒè‡ªå·±ï¼Œclientç«¯æ˜¯nobodyã€‚(è®¿é—®NFSæœåŠ¡å™¨æ—¶ï¼Œæ˜ å°„ä¸ºåŒ¿åè´¦å·)</span><br><span class="line">no_root_squashï¼šrootç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶å±ä¸»å’Œå±ç»„è¿˜æ˜¯rootï¼Œå…¶ä»–äººserverç«¯æ˜¯å®ƒè‡ªå·±uidï¼Œclientç«¯æ˜¯nobodyã€‚(è®¿é—®NFSæœåŠ¡å™¨æ—¶ï¼Œæ˜ å°„ä¸ºrootç®¡ç†å‘˜è´¦å·)</span><br><span class="line">all_squashï¼š ä¸ç®¡æ˜¯rootè¿˜æ˜¯å…¶ä»–æ™®é€šç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„éƒ½æ˜¯nfsnobody</span><br><span class="line"></span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line">anonuidå’Œanongidå‚æ•°å’Œall_squashä¸€èµ·ä½¿ç”¨ã€‚</span><br><span class="line">all_squashè¡¨ç¤ºä¸ç®¡æ˜¯rootè¿˜æ˜¯å…¶ä»–æ™®é€šç”¨æˆ·ä»å®¢æˆ·ç«¯æ‰€åˆ›å»ºçš„æ–‡ä»¶åœ¨æœåŠ¡å™¨ç«¯çš„æ‹¥æœ‰è€…å’Œæ‰€å±ç»„éƒ½æ˜¯nfsnobodyï¼›æœåŠ¡ç«¯ä¸ºäº†å¯¹æ–‡ä»¶åšç›¸åº”ç®¡ç†ï¼Œå¯ä»¥è®¾ç½®anonuidå’Œanongidè¿›è€ŒæŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…å’Œæ‰€å±ç»„</span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">nfs</span>]<span class="comment"># exportfs -rv  //æ˜¾ç¤ºå½“å‰nfsçš„å…±äº«</span></span><br><span class="line">exporting *:/nfs/<span class="keyword">data</span></span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># showmount -e nfs   //æŸ¥çœ‹ä¸»æœºçš„å…±äº«æ–‡ä»¶å¤¹</span></span><br><span class="line">Export list <span class="keyword">for</span> nfs:</span><br><span class="line">/nfs *</span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># mkdir /nfs/data </span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># mount.nfs nfs:/nfs/data /nfs  //æŠŠnfsæœåŠ¡å™¨çš„æ–‡ä»¶å¤¹æŒ‚è½½åœ¨/nfsä¸Š</span></span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># df -Th /nfs   //æŸ¥çœ‹æŒ‚è½½</span></span><br><span class="line">Filesystem     <span class="built_in">Type</span>  Size  Used Avail Use% Mounted on</span><br><span class="line">nfs:/nfs/<span class="keyword">data</span>       nfs4   <span class="number">15</span>G   <span class="number">66</span>M   <span class="number">15</span>G   <span class="number">1</span>% /nfs</span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># ls /nfs</span></span><br><span class="line">t1</span><br><span class="line">[<span class="type">root</span><span class="selector-tag">@</span> <span class="type">client</span>]<span class="comment"># cat /nfs/t1</span></span><br><span class="line">nfs test</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>æ¯æ¬¡çš„é‡å¯æœåŠ¡å™¨éƒ½è¦é‡æ–°æŒ‚è½½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å†™åœ¨/etc/fstabæ–‡ä»¶ä¸­å®ç°è‡ªåŠ¨å¼€æœºæŒ‚è½½</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@ nfs]# vim /etc/fstab</span><br><span class="line">nfs:/nfs/data/nfsnfsrw,sync,no_root_squash0 0</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>äºŒã€è‡ªåŠ¨æŒ‚å¸è½½çš„å®ç°</p></div></div><h4 id="autofsçš„ä½¿ç”¨"><a href="#autofsçš„ä½¿ç”¨" class="headerlink" title="autofsçš„ä½¿ç”¨"></a>autofsçš„ä½¿ç”¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@ client]# yum install autofs -y </span><br><span class="line">[root@ client]# mkdir /nfs</span><br><span class="line">[root@ client]# vim /etc/exports</span><br><span class="line">/nfs/data*(rw,sync,no_root_squash)</span><br><span class="line">[root@ client]# vim /etc/auto.master</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ </span></span><br><span class="line">/nfs    /etc/auto.nfs -t 120    //-t 120æ˜¯è¡¨ç¤ºåœ¨120ç§’å†…æ— æ“ä½œè‡ªåŠ¨å¸è½½</span><br><span class="line">[root@ client]# cp /etc/auto.misc /etc/auto.nfs</span><br><span class="line">[root@ client]# vim /etc/auto.nfs</span><br><span class="line">data-fstype=nfs,rw,sync,no_root_squashnfs:/nfs/data</span><br><span class="line">[root@ client]# systemctl start autofs</span><br><span class="line">[root@ client]# df -Th   </span><br><span class="line">Filesystem               Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                 898M     0  898M   0% /dev</span><br><span class="line">tmpfs                    910M     0  910M   0% /dev/shm</span><br><span class="line">tmpfs                    910M  9.6M  901M   2% /run</span><br><span class="line">tmpfs                    910M     0  910M   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root   15G   66M   15G   1% /</span><br><span class="line">/dev/mapper/centos-usr    24G  1.6G   22G   7% /usr</span><br><span class="line">/dev/sr0                 9.5G  9.5G     0 100% /iso</span><br><span class="line">/dev/sda1                759M  151M  609M  20% /boot</span><br><span class="line">/dev/mapper/centos-home   15G   33M   15G   1% /home</span><br><span class="line">/dev/mapper/centos-tmp   3.8G   33M  3.7G   1% /tmp</span><br><span class="line">/dev/mapper/centos-var    15G  890M   15G   6% /var</span><br><span class="line">tmpfs                    182M     0  182M   0% /run/user/0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¯ä¸ä¼šå‡ºç°nfsçš„æŒ‚è½½çš„</span></span><br><span class="line">[root@ client]# cd /nfs</span><br><span class="line">[root@ client]# ls</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘ç°æ˜¯æ— å†…å®¹çš„</span></span><br><span class="line">[root@ client]# cd data //è¿›å»äº†</span><br><span class="line">[root@ client]# ls </span><br><span class="line">t1</span><br><span class="line">[root@ client]# df -Th ./</span><br><span class="line">nfs:/nfs/data  nfs4   15G   66M   15G   1% /nfs/data</span><br><span class="line">[root@ client]# cd</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç­‰å¾…120åˆ†é’Ÿ,<span class="built_in">df</span> -Thï¼Œä¼šå‘ç°å·²ç»å¸è½½</span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>ä¸‰ã€ä½¿ç”¨ansible-playbookçš„è‡ªåŠ¨åŒ–æ­å»º</p></div></div><div class="note default orange simple"><p>ç¯å¢ƒ:</p></div><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[root@ master]</span># vim /etc/hosts</span><br><span class="line"><span class="number">127.0.0.1</span>   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::<span class="number">1</span>         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line"><span class="number">192.168.222.150</span> master</span><br><span class="line"><span class="number">192.168.222.151</span> node1</span><br><span class="line"><span class="number">192.168.222.152</span> node2</span><br><span class="line"><span class="string">[root@ master]</span># yum install -y ansible</span><br><span class="line"><span class="string">[root@ master]</span># for i in master node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do ssh-copy-id $i;done</span><br><span class="line"><span class="string">[root@ master]</span># vim /etc/ansible/hosts</span><br><span class="line"><span class="string">[demo]</span></span><br><span class="line">master</span><br><span class="line">node1</span><br><span class="line">node2</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>example:</p></div><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">[root@ master]# vim ./t1.yaml</span></span><br><span class="line"><span class="attribute">- hosts</span><span class="punctuation">:</span> <span class="string">master</span></span><br><span class="line">  <span class="attribute">remote_user</span><span class="punctuation">:</span> <span class="string">root</span></span><br><span class="line">  <span class="attribute">tasks</span><span class="punctuation">:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: install nfs packages</span></span><br><span class="line">    <span class="attribute">yum</span><span class="punctuation">:</span> <span class="string">name=&#123;&#123; item &#125;&#125; state=latest</span></span><br><span class="line">    <span class="attribute">with_items</span><span class="punctuation">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">nfs-utils</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rpcbind</span></span><br><span class="line">    <span class="attribute">when</span><span class="punctuation">:</span> <span class="string">ansible_os_family == &quot;RedHat&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: mkdir /nfs</span></span><br><span class="line">    <span class="attribute">file</span><span class="punctuation">:</span> <span class="string">path=/nfs state=directory</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: nfs conf setting</span></span><br><span class="line">    <span class="attribute">copy</span><span class="punctuation">:</span> <span class="string">content=&quot;/nfs *(rw,sync,no_root_squash)&quot; dest=/etc/exports</span></span><br><span class="line">    <span class="attribute">notify</span><span class="punctuation">:</span> <span class="string">restart nfs.service</span></span><br><span class="line">  <span class="attribute">handlers</span><span class="punctuation">:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: restart nfs.service</span></span><br><span class="line">    <span class="attribute">service</span><span class="punctuation">:</span> <span class="string">name=&#123;&#123; item &#125;&#125; state=restarted</span></span><br><span class="line">    <span class="attribute">with_items</span><span class="punctuation">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">nfs</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rpcbind</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hosts: node</span></span><br><span class="line">  <span class="attribute">remote_user</span><span class="punctuation">:</span> <span class="string">root</span></span><br><span class="line">  <span class="attribute">tasks</span><span class="punctuation">:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: /etc/hosts file</span></span><br><span class="line">    <span class="attribute">copy</span><span class="punctuation">:</span> <span class="string">src=/etc/hosts dest=/etc/hosts force=yes</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: install nfs client package</span></span><br><span class="line">    <span class="attribute">yum</span><span class="punctuation">:</span> <span class="string">name=nfs-utils state=latest</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: mkdir mount directory</span></span><br><span class="line">    <span class="attribute">file</span><span class="punctuation">:</span> <span class="string">path=/nfs state=directory</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">name: client nfs-server</span></span><br><span class="line">    <span class="attribute">command</span><span class="punctuation">:</span> <span class="string">&quot;mount.nfs master:/nfs /nfs&quot;</span></span><br><span class="line">[root@ master]# ansible-playbook ./t1.yaml</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å·²ç»æ˜¯æ­å»ºå¥½äº†ï¼Œåˆ°å„å·¥ä½œèŠ‚ç‚¹æŸ¥çœ‹</p></div><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@ node1,<span class="number">2</span>]<span class="comment"># df -h /nfs</span></span><br><span class="line">master:<span class="regexp">/nfs               15G  465M   15G   4% /</span>nfs</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vsftpdçš„ç®€å•æ­å»º</title>
      <link href="/posts/d38cd35f.html"/>
      <url>/posts/d38cd35f.html</url>
      
        <content type="html"><![CDATA[<h3 id="vsftpdæœåŠ¡å™¨æ­å»º"><a href="#vsftpdæœåŠ¡å™¨æ­å»º" class="headerlink" title="vsftpdæœåŠ¡å™¨æ­å»º"></a>vsftpdæœåŠ¡å™¨æ­å»º</h3><h4 id="1-ç¯å¢ƒ"><a href="#1-ç¯å¢ƒ" class="headerlink" title="1.ç¯å¢ƒ"></a>1.ç¯å¢ƒ</h4><div class="table-container"><table><thead><tr><th style="text-align:center">IP</th><th style="text-align:center">HOTSNAME</th><th style="text-align:center">RULE</th></tr></thead><tbody><tr><td style="text-align:center">192.168.222.100</td><td style="text-align:center">vsftpd</td><td style="text-align:center">server</td></tr><tr><td style="text-align:center">192.168.222.101</td><td style="text-align:center">client</td><td style="text-align:center">client</td></tr></tbody></table></div><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat &gt; /etc/hosts&lt;&lt;END</span><br><span class="line"><span class="number">127.0.0.1</span>   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::<span class="number">1</span>         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line"><span class="number">192.168.222.100</span> vsftpd</span><br><span class="line"><span class="number">192.168.222.101</span> client</span><br><span class="line">END</span><br></pre></td></tr></table></figure><h4 id="2-é…ç½®"><a href="#2-é…ç½®" class="headerlink" title="2.é…ç½®"></a>2.é…ç½®</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># yum install -y vsftpd</span></span><br><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># useradd test</span></span><br><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># echo 123 | passwd --stdin test</span></span><br><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># mkdir -p /data/test</span></span><br><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># cp -a /etc/passwd /data/test/</span></span><br><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># chown -R test. /data</span></span><br><span class="line"><span class="section">[root@ vsftpd]</span><span class="comment"># cat /etc/vsftpd/vsftpd.conf</span></span><br><span class="line"><span class="attr">local_enable</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#å†™æ€»å¼€å…³</span></span><br><span class="line"><span class="attr">write_enable</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#file:644 dircovrty:755ï¼ˆmaskï¼‰</span></span><br><span class="line"><span class="attr">local_umask</span>=<span class="number">022</span></span><br><span class="line"><span class="comment">#æŒ‡å®šç”¨æˆ·è®¿é—®ç›®å½•</span></span><br><span class="line"><span class="attr">local_root</span>=/data/test</span><br><span class="line"><span class="comment">#é™å®šç”¨æˆ·åªèƒ½åœ¨/data/ltç›®å½•ä¸‹æ´»åŠ¨</span></span><br><span class="line"><span class="attr">chroot_local_user</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#ç»™é™å®šç”¨æˆ·å†™å…¥çš„æƒé™</span></span><br><span class="line"><span class="attr">allow_writeable_chroot</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#å¯ç”¨æ¶ˆæ¯åŠŸèƒ½</span></span><br><span class="line"><span class="attr">dirmessage_enable</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#å¯ç”¨xferlogæ—¥å¿—</span></span><br><span class="line"><span class="attr">xferlog_enable</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#æ”¯æŒä¸»åŠ¨æ¨¡å¼(é»˜è®¤è¢«åŠ¨)</span></span><br><span class="line"><span class="attr">connect_from_port_20</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#xferlogæ—¥å¿—æ ¼å¼</span></span><br><span class="line"><span class="attr">xferlog_std_format</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#ftpæœåŠ¡ç‹¬ç«‹æ¨¡å¼ä¸‹çš„ç›‘å¬</span></span><br><span class="line"><span class="attr">listen</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#æ˜¯å¦æ”¯æŒIPv6(ä¸æ”¯æŒçš„è¯ä¸€å®šè¦æ³¨é‡Šæˆ–è€…NO)</span></span><br><span class="line"><span class="comment">#listen_ipv6=YES</span></span><br><span class="line"><span class="comment">#æŒ‡å®šè®¤è¯æ–‡ä»¶</span></span><br><span class="line"><span class="attr">pam_service_name</span>=vsftpd</span><br><span class="line"><span class="comment">#å¯ç”¨ç”¨æˆ·åˆ—è¡¨</span></span><br><span class="line"><span class="attr">userlist_enable</span>=<span class="literal">YES</span></span><br><span class="line"><span class="comment">#æ”¯æŒtcp_wrappersåŠŸèƒ½(ä¼ è¾“é™é€Ÿ)</span></span><br><span class="line"><span class="attr">tcp_wrappers</span>=<span class="literal">YES</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸Šæ˜¯æˆ‘é…ç½®å®Œäº†çš„</p></div><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@ clinet]# yum install -<span class="keyword">y</span> ftp</span><br><span class="line">[root@client ~]# ftp vsftpd</span><br><span class="line">Connected <span class="keyword">to</span> <span class="number">192.168</span>.<span class="number">222.100</span> (<span class="number">192.168</span>.<span class="number">222.100</span>).</span><br><span class="line"><span class="number">220</span> (vsFTPd <span class="number">3.0</span>.<span class="number">2</span>)</span><br><span class="line">Name (<span class="number">192.168</span>.<span class="number">222.100</span>:root): test</span><br><span class="line"><span class="number">331</span> Please specify the password.</span><br><span class="line">Password:</span><br><span class="line"><span class="number">230</span> Login successful.</span><br><span class="line">Remote <span class="built_in">system</span> <span class="built_in">type</span> <span class="keyword">is</span> UNIX.</span><br><span class="line">Using binary <span class="keyword">mode</span> <span class="keyword">to</span> transfer <span class="keyword">files</span>.</span><br><span class="line">ftp&gt; ? //ï¼Ÿæˆ–è€…<span class="keyword">help</span>å¯ä»¥æ˜¾ç¤ºå‘½ä»¤å¸®åŠ©</span><br><span class="line">ftp&gt; <span class="built_in">get</span> passwd   //è·å–å½“å‰ç›®å½•çš„passwdæ–‡ä»¶åˆ°æœ¬åœ°</span><br></pre></td></tr></table></figure><p>æŒç»­æ›´æ–°â€¦<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DNSæœåŠ¡å™¨æ­å»º</title>
      <link href="/posts/37824039.html"/>
      <url>/posts/37824039.html</url>
      
        <content type="html"><![CDATA[<h3 id="DNSæœåŠ¡å™¨æ­å»º"><a href="#DNSæœåŠ¡å™¨æ­å»º" class="headerlink" title="DNSæœåŠ¡å™¨æ­å»º"></a>DNSæœåŠ¡å™¨æ­å»º</h3><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h4 id="1-ç¯å¢ƒå‡†å¤‡"><a href="#1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="1.ç¯å¢ƒå‡†å¤‡"></a>1.ç¯å¢ƒå‡†å¤‡</h4></div></div><div class="table-container"><table><thead><tr><th style="text-align:center">HOSTNAME</th><th style="text-align:center">HOSTNAME</th><th style="text-align:center">AUTH</th></tr></thead><tbody><tr><td style="text-align:center">192.168.222.219</td><td style="text-align:center">node1.com</td><td style="text-align:center">master</td></tr><tr><td style="text-align:center">192.168.222.220</td><td style="text-align:center">node2.com</td><td style="text-align:center">work</td></tr><tr><td style="text-align:center">192.168.222.221</td><td style="text-align:center">node3.com</td><td style="text-align:center">work</td></tr><tr><td style="text-align:center">192.168.222.222</td><td style="text-align:center">node4.com</td><td style="text-align:center">NFS,DNS</td></tr></tbody></table></div><div class="note default orange simple"><p>ç¯å¢ƒæˆ‘æ˜¯åŸºäºk8sæ­å»ºzookeeperçš„ï¼Œæ‡’å¾—æ”¹</p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ nodeX</span>]<span class="meta"># sed -ri &#x27;s/(DNS.*)=.*/\1=192.168.222.222/g&#x27; /etc/sysconfig/ifcfg-ens33</span></span><br><span class="line">[<span class="meta">root@ nodeX</span>]<span class="meta"># systemctl restart ens33</span></span><br><span class="line">[<span class="meta">root@ nodeX</span>]<span class="meta"># yum install -y bind-utils</span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h4 id="2-DNSæœåŠ¡å™¨çš„é…ç½®"><a href="#2-DNSæœåŠ¡å™¨çš„é…ç½®" class="headerlink" title="2.DNSæœåŠ¡å™¨çš„é…ç½®"></a>2.DNSæœåŠ¡å™¨çš„é…ç½®</h4></div></div><h4 id="2-1-æ­£å‘è§£æ"><a href="#2-1-æ­£å‘è§£æ" class="headerlink" title="2.1 æ­£å‘è§£æ"></a>2.1 æ­£å‘è§£æ</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@ node4]# yum install -y bind</span><br><span class="line">[root@ node4]# vim /etc/named.conf    #ä¿®æ”¹ä¸¤é¡¹</span><br><span class="line"><span class="keyword">listen</span>-<span class="keyword">on</span> port <span class="number">53</span> &#123; <span class="keyword">any</span>; &#125;;</span><br><span class="line">allow-query&#123; <span class="keyword">any</span>; &#125;;</span><br><span class="line">[root@ node4]# cat /etc/named.rfc1912.zone</span><br><span class="line"><span class="type">zone</span> &quot;0.in-addr.arpa&quot; <span class="keyword">IN</span> &#123;</span><br><span class="line">        <span class="keyword">type</span> master;</span><br><span class="line">        file &quot;named.empty&quot;;</span><br><span class="line">        allow-<span class="keyword">update</span> &#123; <span class="keyword">none</span>; &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>æŠŠè¿™5è¡Œå¤åˆ¶åˆ°æœ€ä¸‹é¢4éã€‚</p></div><p>ä¿®æ”¹ä¸º</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">zone <span class="string">&quot;node1.com&quot;</span> IN &#123;</span><br><span class="line">        type master<span class="comment">;</span></span><br><span class="line">        file <span class="string">&quot;node1.com.zone&quot;</span><span class="comment">;</span></span><br><span class="line">        allow-update &#123; none<span class="comment">; &#125;;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;node2.com&quot;</span> IN &#123;</span><br><span class="line">        type master<span class="comment">;</span></span><br><span class="line">        file <span class="string">&quot;node2.com.zone&quot;</span><span class="comment">;</span></span><br><span class="line">        allow-update &#123; none<span class="comment">; &#125;;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;node3.com&quot;</span> IN &#123;</span><br><span class="line">        type master<span class="comment">;</span></span><br><span class="line">        file <span class="string">&quot;node3.com.zone&quot;</span><span class="comment">;</span></span><br><span class="line">        allow-update &#123; none<span class="comment">; &#125;;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;node4.com&quot;</span> IN &#123;</span><br><span class="line">        type master<span class="comment">;</span></span><br><span class="line">        file <span class="string">&quot;node4.com.zone&quot;</span><span class="comment">;</span></span><br><span class="line">        allow-update &#123; none<span class="comment">; &#125;;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">[root@ node4]# cd /var/named</span><br><span class="line">[root@ node4]# cp -a named.localhost ./&#123;node1.com.zone,node2.com.zone,node3.com.zone,node4.com.zone&#125;</span><br><span class="line">åˆ†åˆ«æ”¹ä¸º</span><br><span class="line">[root@ node4]# cat node*.com.zone</span><br><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line"><span class="code">                                        0       ; serial</span></span><br><span class="line"><span class="code">                                        1D      ; refresh</span></span><br><span class="line"><span class="code">                                        1H      ; retry</span></span><br><span class="line"><span class="code">                                        1W      ; expire</span></span><br><span class="line"><span class="code">                                        3H )    ; minimum</span></span><br><span class="line"><span class="code">        NS      @</span></span><br><span class="line"><span class="section">@A   192.168.222.219</span></span><br><span class="line"><span class="section">----------------------------------------------------------</span></span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line"><span class="code">                                        0       ; serial</span></span><br><span class="line"><span class="code">                                        1D      ; refresh</span></span><br><span class="line"><span class="code">                                        1H      ; retry</span></span><br><span class="line"><span class="code">                                        1W      ; expire</span></span><br><span class="line"><span class="code">                                        3H )    ; minimum</span></span><br><span class="line"><span class="code">        NS      @</span></span><br><span class="line"><span class="section">www     A       192.168.222.220</span></span><br><span class="line"><span class="section">----------------------------------------------------------</span></span><br><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line"><span class="code">                                        0       ; serial</span></span><br><span class="line"><span class="code">                                        1D      ; refresh</span></span><br><span class="line"><span class="code">                                        1H      ; retry</span></span><br><span class="line"><span class="code">                                        1W      ; expire</span></span><br><span class="line"><span class="code">                                        3H )    ; minimum</span></span><br><span class="line"><span class="code">        NS      @</span></span><br><span class="line"><span class="section">www     A       192.168.222.221</span></span><br><span class="line"><span class="section">----------------------------------------------------------</span></span><br><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  @ rname.invalid. (</span><br><span class="line"><span class="code">                                        0       ; serial</span></span><br><span class="line"><span class="code">                                        1D      ; refresh</span></span><br><span class="line"><span class="code">                                        1H      ; retry</span></span><br><span class="line"><span class="code">                                        1W      ; expire</span></span><br><span class="line"><span class="code">                                        3H )    ; minimum</span></span><br><span class="line"><span class="code">        NS      @</span></span><br><span class="line">@       A       192.168.222.222</span><br></pre></td></tr></table></figure><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å¯ä»¥ä½¿ç”¨named-checkconf <span class="regexp">/etc/</span>named.conf <span class="regexp">/etc/</span>named.conf (<span class="regexp">/etc/</span>named.rfc1912.zone <span class="regexp">/etc/</span>named.rfc1912.zone) æ£€æµ‹é…ç½®æ–‡ä»¶</span><br><span class="line"># name-checkzone node(<span class="number">1</span>-<span class="number">4</span>).com.zone node(<span class="number">1</span>-<span class="number">4</span>).com.zone</span><br><span class="line"># systemctl restart named  <span class="comment">//é‡å¯æœåŠ¡ï¼Œè®©é…ç½®ç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># nslookup node1.com</span></span><br><span class="line"><span class="symbol">Server:</span>         <span class="number">192.168</span><span class="number">.222</span><span class="number">.222</span></span><br><span class="line"><span class="symbol">Address:</span>        <span class="number">192.168</span><span class="number">.222</span><span class="number">.222</span><span class="meta">#53</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">Name:</span>   node1.com</span><br><span class="line"><span class="symbol">Address:</span> <span class="number">192.168</span><span class="number">.222</span><span class="number">.219</span></span><br><span class="line"><span class="meta">#å…¶ä½™ä¹Ÿæ˜¯ä¸€æ ·</span></span><br></pre></td></tr></table></figure><h4 id="2-2-åå‘è§£æ"><a href="#2-2-åå‘è§£æ" class="headerlink" title="2.2 åå‘è§£æ"></a>2.2 åå‘è§£æ</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@ node4]# cat /etc/named.rpc1912.zone</span><br><span class="line"><span class="type">zone</span> &quot;1.0.0.127.in-addr.arpa&quot; <span class="keyword">IN</span> &#123;</span><br><span class="line">        <span class="keyword">type</span> master;</span><br><span class="line">        file &quot;named.loopback&quot;;</span><br><span class="line">        allow-<span class="keyword">update</span> &#123; <span class="keyword">none</span>; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">#è¿˜æ˜¯æŠŠè¿™<span class="number">5</span>è¡Œå¤åˆ¶<span class="number">4</span>æ¬¡</span><br></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@ node4]# cat /etc/named.rpc1912.zone</span><br><span class="line"><span class="type">zone</span> &quot;219.222.168.192.in-addr.arpa&quot; <span class="keyword">IN</span> &#123;</span><br><span class="line">        <span class="keyword">type</span> master;</span><br><span class="line">        file &quot;192.168.222.219.zone&quot;;</span><br><span class="line">        allow-<span class="keyword">update</span> &#123; <span class="keyword">none</span>; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">zone</span> &quot;220.222.168.192.in-addr.arpa&quot; <span class="keyword">IN</span> &#123;</span><br><span class="line">        <span class="keyword">type</span> master;</span><br><span class="line">        file &quot;192.168.222.220.zone&quot;;</span><br><span class="line">        allow-<span class="keyword">update</span> &#123; <span class="keyword">none</span>; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">zone</span> &quot;221.222.168.192.in-addr.arpa&quot; <span class="keyword">IN</span> &#123;</span><br><span class="line">        <span class="keyword">type</span> master;</span><br><span class="line">        file &quot;192.168.222.221.zone&quot;;</span><br><span class="line">        allow-<span class="keyword">update</span> &#123; <span class="keyword">none</span>; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">zone</span> &quot;222.222.168.192.in-addr.arpa&quot; <span class="keyword">IN</span> &#123;</span><br><span class="line">        <span class="keyword">type</span> master;</span><br><span class="line">        file &quot;192.168.222.222.zone&quot;;</span><br><span class="line">        allow-<span class="keyword">update</span> &#123; <span class="keyword">none</span>; &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">[root@ node4]# cd /var/named</span><br><span class="line">[root@ node4]# cp ./named.loopback ./<span class="number">192.168.222.219</span>.zone</span><br><span class="line">[root@ node4]# cp ./named.loopback ./<span class="number">192.168.222.220</span>.zone</span><br><span class="line">[root@ node4]# cp ./named.loopback ./<span class="number">192.168.222.221</span>.zone</span><br><span class="line">[root@ node4]# cp ./named.loopback ./<span class="number">192.168.222.222</span>.zone</span><br><span class="line">[root@ node4]# cat ./<span class="number">192.168.222.2</span>*.zone</span><br><span class="line"><span class="meta">$TTL</span> <span class="number">1</span>D</span><br><span class="line">@       <span class="keyword">IN</span> <span class="keyword">SOA</span>  @ rname.invalid. (</span><br><span class="line">                                        <span class="number">0</span>       <span class="comment">; serial</span></span><br><span class="line">                                        <span class="number">1</span>D      <span class="comment">; refresh</span></span><br><span class="line">                                        <span class="number">1</span>H      <span class="comment">; retry</span></span><br><span class="line">                                        <span class="number">1</span>W      <span class="comment">; expire</span></span><br><span class="line">                                        <span class="number">3</span>H )    <span class="comment">; minimum</span></span><br><span class="line">        <span class="keyword">NS</span>      @</span><br><span class="line">        <span class="keyword">A</span>       <span class="number">127.0.0.1</span></span><br><span class="line">        <span class="keyword">AAAA</span>    <span class="number">::1</span></span><br><span class="line">        <span class="keyword">PTR</span>     node1.com.</span><br><span class="line"><span class="number">19</span>      <span class="keyword">PTR</span>     node1.com.</span><br><span class="line">---------------------------------------------------------</span><br><span class="line"><span class="meta">$TTL</span> <span class="number">1</span>D</span><br><span class="line">@       <span class="keyword">IN</span> <span class="keyword">SOA</span>  @ rname.invalid. (</span><br><span class="line">                                        <span class="number">0</span>       <span class="comment">; serial</span></span><br><span class="line">                                        <span class="number">1</span>D      <span class="comment">; refresh</span></span><br><span class="line">                                        <span class="number">1</span>H      <span class="comment">; retry</span></span><br><span class="line">                                        <span class="number">1</span>W      <span class="comment">; expire</span></span><br><span class="line">                                        <span class="number">3</span>H )    <span class="comment">; minimum</span></span><br><span class="line">        <span class="keyword">NS</span>      @</span><br><span class="line">        <span class="keyword">A</span>       <span class="number">127.0.0.1</span></span><br><span class="line">        <span class="keyword">AAAA</span>    <span class="number">::1</span></span><br><span class="line">        <span class="keyword">PTR</span>     node2.com.</span><br><span class="line"><span class="number">20</span>      <span class="keyword">PTR</span>     node2.com.</span><br><span class="line">---------------------------------------------------------</span><br><span class="line"><span class="meta">$TTL</span> <span class="number">1</span>D</span><br><span class="line">@       <span class="keyword">IN</span> <span class="keyword">SOA</span>  @ rname.invalid. (</span><br><span class="line">                                        <span class="number">0</span>       <span class="comment">; serial</span></span><br><span class="line">                                        <span class="number">1</span>D      <span class="comment">; refresh</span></span><br><span class="line">                                        <span class="number">1</span>H      <span class="comment">; retry</span></span><br><span class="line">                                        <span class="number">1</span>W      <span class="comment">; expire</span></span><br><span class="line">                                        <span class="number">3</span>H )    <span class="comment">; minimum</span></span><br><span class="line">        <span class="keyword">NS</span>      @</span><br><span class="line">        <span class="keyword">A</span>       <span class="number">127.0.0.1</span></span><br><span class="line">        <span class="keyword">AAAA</span>    <span class="number">::1</span></span><br><span class="line">        <span class="keyword">PTR</span>     node3.com.</span><br><span class="line"><span class="number">21</span>      <span class="keyword">PTR</span>     node3.com.</span><br><span class="line">---------------------------------------------------------</span><br><span class="line"><span class="meta">$TTL</span> <span class="number">1</span>D</span><br><span class="line">@       <span class="keyword">IN</span> <span class="keyword">SOA</span>  @ rname.invalid. (</span><br><span class="line">                                        <span class="number">0</span>       <span class="comment">; serial</span></span><br><span class="line">                                        <span class="number">1</span>D      <span class="comment">; refresh</span></span><br><span class="line">                                        <span class="number">1</span>H      <span class="comment">; retry</span></span><br><span class="line">                                        <span class="number">1</span>W      <span class="comment">; expire</span></span><br><span class="line">                                        <span class="number">3</span>H )    <span class="comment">; minimum</span></span><br><span class="line">        <span class="keyword">NS</span>      @</span><br><span class="line">        <span class="keyword">A</span>       <span class="number">127.0.0.1</span></span><br><span class="line">        <span class="keyword">AAAA</span>    <span class="number">::1</span></span><br><span class="line">        <span class="keyword">PTR</span>     node4.com.</span><br><span class="line"><span class="number">22</span>      <span class="keyword">PTR</span>     node4.com.</span><br></pre></td></tr></table></figure><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[root@ node4]</span># systemctl restart named</span><br><span class="line"><span class="string">[root@ nodeX]</span># nslookup <span class="number">192</span>.<span class="number">168</span>.<span class="number">222</span>.<span class="number">219</span></span><br><span class="line"><span class="number">219.222.168.192</span>.in-addr.arpa    name = node1.com.</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šã€‚<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerè¯¦è§£</title>
      <link href="/posts/e58e69dc.html"/>
      <url>/posts/e58e69dc.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="ä¸€ã€Dockerç‰¹æ€§ã€‚"><a href="#ä¸€ã€Dockerç‰¹æ€§ã€‚" class="headerlink" title="ä¸€ã€Dockerç‰¹æ€§ã€‚"></a>ä¸€ã€Dockerç‰¹æ€§ã€‚</h3></div></div><p><strong>æ–‡ä»¶ç³»ç»Ÿéš”ç¦»</strong>ï¼šæ¯ä¸ªè¿›ç¨‹å®¹å™¨è¿è¡Œåœ¨ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ ¹æ–‡ä»¶ç³»ç»Ÿé‡Œã€‚</p><p><strong>èµ„æºéš”ç¦»</strong>ï¼šç³»ç»Ÿèµ„æºï¼ŒåƒCPUå’Œå†…å­˜ç­‰å¯ä»¥åˆ†é…åˆ°ä¸åŒçš„å®¹å™¨ä¸­ï¼Œä½¿ç”¨cgroupã€‚<br><strong>ç½‘ç»œéš”ç¦»</strong>ï¼šæ¯ä¸ªè¿›ç¨‹å®¹å™¨è¿è¡Œåœ¨è‡ªå·±çš„ç½‘è·¯ç©ºé—´ï¼Œè™šæ‹Ÿæ¥å£å’ŒIPåœ°å€ã€‚</p><p><strong>æ—¥å¿—è®°å½•</strong>ï¼šDockerå°†æ”¶é›†åˆ°å’Œè®°å½•çš„æ¯ä¸ªè¿›ç¨‹å®¹å™¨çš„æ ‡å‡†æµï¼ˆstdout/stderr/stdinï¼‰ï¼Œç”¨äºå®æ—¶æ£€ç´¢æˆ–è€…æ‰¹é‡æ£€ç´¢</p><p><strong>å˜æ›´ç®¡ç†</strong>ï¼šå®¹å™¨æ–‡ä»¶ç³»ç»Ÿçš„å˜æ›´å¯ä»¥æäº¤åˆ°æ–°çš„é•œåƒä¸­ï¼Œå¹¶å¯é‡å¤ä½¿ç”¨ä»¥åˆ›å»ºæ›´å¤šçš„å®¹å™¨ã€‚æ— éœ€ä½¿ç”¨æ¨¡æ¿æˆ–è€…æ‰‹åŠ¨é…ç½®ã€‚</p><p><strong>äº¤äº’å¼shell</strong>ï¼šDockerå¯ä»¥åˆ†é…ä¸€ä¸ªè™šæ‹Ÿç»ˆç«¯å¹¶ä¸”å…³è”åˆ°ä»»ä½•å®¹å™¨çš„æ ‡å‡†è¾“å‡ºä¸Šï¼Œä¾‹å¦‚è¿è¡Œä¸€ä¸ªä¸€æ¬¡æ€§äº¤äº’shellã€‚</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="äºŒã€Dockerçš„å®‰è£…ã€‚"><a href="#äºŒã€Dockerçš„å®‰è£…ã€‚" class="headerlink" title="äºŒã€Dockerçš„å®‰è£…ã€‚"></a>äºŒã€Dockerçš„å®‰è£…ã€‚</h3></div></div><h4 id="1ã€dockerå®‰è£…èƒŒæ™¯ã€‚"><a href="#1ã€dockerå®‰è£…èƒŒæ™¯ã€‚" class="headerlink" title="1ã€dockerå®‰è£…èƒŒæ™¯ã€‚"></a>1ã€dockerå®‰è£…èƒŒæ™¯ã€‚</h4><p>ä½ ä»¬çŸ¥é“dockeræœ‰å‡ ç§å®‰è£…æ–¹å¼å—ï¼Ÿ<br>å®ƒä»¬åˆæœ‰é‚£äº›åŒºåˆ«å‘¢ï¼Ÿ<br>==Dockerå®‰è£…ï¼š==<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€yum -y install docker</span><br><span class="line"><span class="number">2</span>ã€yum -y install docker-engine</span><br><span class="line"><span class="number">3</span>ã€yum -y install docker-ce</span><br></pre></td></tr></table></figure></p><p>æ˜¯çš„ï¼Œæœ‰ä¸‰ç§å®‰è£…æ–¹å¼ï¼Œè€Œä¸”ï¼Œå®ƒä»¬éƒ½æ˜¯æ­£ç¡®çš„ï¼<br>å› ä¸ºDockeræœ€æ—©çš„ç‰ˆæœ¬åæ˜¯dockerå’Œdocker-enginï¼Œç°åœ¨çš„åå­—æ˜¯docker-ceå’Œdocker-eeã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥é€šè¿‡ä¸‹æ–¹é“¾æ¥å»å®˜ç½‘æŸ¥çœ‹ã€‚</p><p>==https//docs.docker.com/install/linux/docker-ce/centos==<br>2017å¹´åˆï¼Œdockerå…¬å¸å°†åŸå…ˆçš„dockerå¼€æºé¡¹ç›®æ”¹åä¸º<strong>mobyã€‚</strong><br>mobyæ˜¯é›†æˆäº†åŸå…ˆçš„dockeré¡¹ç›®ï¼Œæ˜¯ç¤¾åŒºç»´æŠ¤çš„å¼€æºé¡¹ç›®ï¼Œè°éƒ½å¯ä»¥åœ¨mobyçš„åŸºç¡€æ‰“é€ è‡ªå·±çš„å®¹å™¨äº§å“ã€‚<br><strong>docker-ce æ˜¯dockerå…¬å¸ç»´æŠ¤çš„å¼€æºé¡¹ç›®</strong>ï¼Œæ˜¯ä¸€ä¸ªåŸºäºmobyé¡¹ç›®çš„å…è´¹å®¹å™¨äº§å“ã€‚<br><strong>docker-ee æ˜¯dockerå…¬å¸ç»´æŠ¤çš„é—­æºäº§å“</strong>ï¼Œæ˜¯dockerå…¬å¸çš„å•†ä¸šæ˜Œå¹³ã€‚<br>æ³¨ï¼šmobyæ˜¯æºä»£ç ï¼Œdocker-ce å’Œdocker-ee æ˜¯äº§å“å®¹å™¨ï¼ŒrpmåŒ…ã€‚<br>æ‰€ä»¥ï¼Œç›®å‰æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ç‰ˆæœ¬å½“ç„¶æ˜¯docker-ceå•¦ï¼</p><h4 id="2ã€éƒ¨ç½²dockerå®¹å™¨è™šæ‹ŸåŒ–å¹³å°å¹¶ä¸”é…ç½®dockeré•œåƒåŠ é€Ÿåœ°å€ã€‚"><a href="#2ã€éƒ¨ç½²dockerå®¹å™¨è™šæ‹ŸåŒ–å¹³å°å¹¶ä¸”é…ç½®dockeré•œåƒåŠ é€Ÿåœ°å€ã€‚" class="headerlink" title="2ã€éƒ¨ç½²dockerå®¹å™¨è™šæ‹ŸåŒ–å¹³å°å¹¶ä¸”é…ç½®dockeré•œåƒåŠ é€Ÿåœ°å€ã€‚"></a>2ã€éƒ¨ç½²dockerå®¹å™¨è™šæ‹ŸåŒ–å¹³å°å¹¶ä¸”é…ç½®dockeré•œåƒåŠ é€Ÿåœ°å€ã€‚</h4><p>å®éªŒç¯å¢ƒï¼šcentos7.6    64ä½ã€‚ç½‘ç»œè¦æ±‚èƒ½ä¸Šå¤–ç½‘ã€‚</p><h4 id="3ã€å®‰è£…dockerä¾èµ–ç¯å¢ƒã€‚"><a href="#3ã€å®‰è£…dockerä¾èµ–ç¯å¢ƒã€‚" class="headerlink" title="3ã€å®‰è£…dockerä¾èµ–ç¯å¢ƒã€‚"></a>3ã€å®‰è£…dockerä¾èµ–ç¯å¢ƒã€‚</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½œè€…å·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æç¤ºNothing to doã€‚</p><h4 id="4ã€é…ç½®å›½å†…docker-ceçš„yumæºï¼ˆè¿™é‡Œé‡‡ç”¨çš„æ˜¯é˜¿é‡Œäº‘ï¼‰"><a href="#4ã€é…ç½®å›½å†…docker-ceçš„yumæºï¼ˆè¿™é‡Œé‡‡ç”¨çš„æ˜¯é˜¿é‡Œäº‘ï¼‰" class="headerlink" title="4ã€é…ç½®å›½å†…docker-ceçš„yumæºï¼ˆè¿™é‡Œé‡‡ç”¨çš„æ˜¯é˜¿é‡Œäº‘ï¼‰"></a>4ã€é…ç½®å›½å†…docker-ceçš„yumæºï¼ˆè¿™é‡Œé‡‡ç”¨çš„æ˜¯é˜¿é‡Œäº‘ï¼‰</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo http:<span class="comment">//mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span><br></pre></td></tr></table></figure><p>yum-config-managerå‘½ä»¤ä½œç”¨æ˜¯æ·»åŠ yumæºã€‚<br>æ•²å®Œå‘½ä»¤ä¹‹åå¤§å®¶æ‰§è¡Œä¸€ä¸‹å‘½ä»¤å»çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰é…ç½®æˆåŠŸã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d</span><br><span class="line">ls</span><br></pre></td></tr></table></figure><br>çœ‹åˆ°ä¸Šå›¾ä¸­çš„æ¡†æ¡†é‡Œçš„å†…å®¹å°±ä»£è¡¨é…ç½®æˆåŠŸäº†ã€‚</p><h4 id="5ã€å®‰è£…dockerã€‚"><a href="#5ã€å®‰è£…dockerã€‚" class="headerlink" title="5ã€å®‰è£…dockerã€‚"></a>5ã€å®‰è£…dockerã€‚</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install docker-ce doker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><p>å®‰è£…é€Ÿåº¦å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚<br>docker-ce:dockerç¨‹åº<br>docker-ce-cli:<br>å¦‚æœä¸çŸ¥é“åŒ…åçš„ä½œç”¨ï¼Œå¯ä»¥ä½¿ç”¨yum info  ç¨‹åº å‘½ä»¤æŸ¥çœ‹</p><h2 id="6ã€å¼€å¯ç½‘ç»œè½¬å‘åŠŸèƒ½ã€‚"><a href="#6ã€å¼€å¯ç½‘ç»œè½¬å‘åŠŸèƒ½ã€‚" class="headerlink" title="6ã€å¼€å¯ç½‘ç»œè½¬å‘åŠŸèƒ½ã€‚"></a>6ã€å¼€å¯ç½‘ç»œè½¬å‘åŠŸèƒ½ã€‚</h2><p>é»˜è®¤ä¼šè‡ªåŠ¨å¼€å¯ã€‚<br>è·¯å¾„ ï¼š==/proc/sys/net/ipv4/ip_forward==<br>æ‰‹åŠ¨å¼€å¯ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysctl.conf   #æ’å…¥ä»¥ä¸‹å†…å®¹</span><br><span class="line">net.ipv4.forward =<span class="number">1</span></span><br><span class="line">-------------------------</span><br><span class="line">sysctl -p   #ç”Ÿæ•ˆ</span><br><span class="line">cat /proc/sys/net/ipv4/ip_forward  #æŸ¥çœ‹ç»“æœï¼Œä¸º<span class="number">1</span>å¼€å¯æˆåŠŸã€‚</span><br></pre></td></tr></table></figure><br><strong>å¦‚æœæ²¡æœ‰å¼€å¯ç½‘ç»œè½¬å‘ï¼Œæˆ‘ä»¬å¯åŠ¨å®ä¾‹çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼ï¼ï¼</strong></p><p>å…³é—­é˜²ç«å¢™ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">iptables -nL #æŸ¥çœ‹ä¸€ä¸‹iptableè§„åˆ™ï¼Œå…³é—­é˜²ç«å¢™åä¼šè‡ªåŠ¨æ’å…¥æ–°è§„åˆ™</span><br><span class="line"></span><br><span class="line">systemctl stop firewalld &amp;&amp; systemctl disable firewalld  #å…³é—­é˜²ç«å¢™</span><br><span class="line"></span><br><span class="line">sysctlrem restart docker # å…³é—­é˜²ç«å¢™è¦æŠŠdockeré‡å¯ä¸€ä¸‹ï¼Œä¸ç„¶docker</span><br><span class="line">çš„ipåŒ…è½¬å‘åŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚å³ä¾¿é˜²ç«å¢™å…³é—­äº†ï¼Œdockerä¾æ—§ä¼šè°ƒç”¨å†…æ ¸æ¨¡å—netfilterå¢åŠ è§„åˆ™ï¼Œæ‰€ä»¥ä¼šæ–°å¢iptablesè§„åˆ™</span><br><span class="line"></span><br><span class="line">iptables -nL #å†æŸ¥çœ‹ä¸€ä¸‹iptableè§„åˆ™ï¼Œä¼šå‘ç°å¤šå‡ºå¾ˆå¤šè§„åˆ™</span><br></pre></td></tr></table></figure><br>==iptables -nL==</p><h4 id="7ã€å¯åŠ¨æœåŠ¡ã€‚"><a href="#7ã€å¯åŠ¨æœåŠ¡ã€‚" class="headerlink" title="7ã€å¯åŠ¨æœåŠ¡ã€‚"></a>7ã€å¯åŠ¨æœåŠ¡ã€‚</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker &amp;&amp; systemctl enable docker</span><br></pre></td></tr></table></figure><p>å¯åŠ¨å®Œæˆåä¼šè¯¥ç½‘ç»œå‚æ•°ï¼Œè¿™ä¸ªæ˜¯ipè½¬å‘ä¼šæ”¹æˆ1ã€‚é»˜è®¤0<br>è¿™é‡Œç®€å•æ•™å¤§å®¶ç¬¬ä¸€ä¸ªdockerå‘½ä»¤ï¼Œ==docker version==æŸ¥çœ‹dockerç‰ˆæœ¬ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker version #æŸ¥çœ‹dockerç‰ˆæœ¬</span><br></pre></td></tr></table></figure><br>è¿™é‡Œæˆ‘ä»¬å¾ˆæ¸…æ™°çš„å¯ä»¥çœ‹åˆ°dockeræ˜¯ä¸€ä¸ªC/Sæ¶æ„çš„æ¨¡å¼ã€‚å®¢æˆ·ç«¯æ˜¯æˆ‘ä»¬çš„å‘½ä»¤è¡Œæ“ä½œï¼ŒæœåŠ¡ç«¯æ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info  #æŸ¥çœ‹dockeråŸºæœ¬ä¿¡æ¯</span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬å¯ä»¥é€šè¿‡==docker info==çœ‹åˆ°æœºå™¨å­˜æ”¾dockeré•œåƒå¾—åœ°å€ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°dockerä»“åº“çš„åœ°å€ã€‚</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="ä¸‰ã€dockerå…¥é—¨å‘½ä»¤ã€‚"><a href="#ä¸‰ã€dockerå…¥é—¨å‘½ä»¤ã€‚" class="headerlink" title="ä¸‰ã€dockerå…¥é—¨å‘½ä»¤ã€‚"></a>ä¸‰ã€dockerå…¥é—¨å‘½ä»¤ã€‚</h3></div></div><h4 id="1ã€æœç´¢é•œåƒ"><a href="#1ã€æœç´¢é•œåƒ" class="headerlink" title="1ã€æœç´¢é•œåƒ"></a>1ã€æœç´¢é•œåƒ</h4><p>==docker search==<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search centos #ä»docker hubä¸­æœç´¢dockeråä¸ºcentosçš„é•œåƒ</span><br></pre></td></tr></table></figure><br>å¤§å®¶å¯ä»¥çœ‹åˆ°æœç´¢å‡ºæ¥çš„æœ€ä¸Šä¸€è¡Œæœ‰å‡ ä¸ªè¡¨å¤´ï¼Œè¿™é‡Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹<br><strong>name</strong>:ä»£è¡¨æ­¤é•œåƒçš„åç§°</p><p><strong>description</strong>ï¼šæ­¤é•œåƒçš„æè¿°</p><p><strong>stars</strong>ï¼šä¸‹è½½æ¬¡æ•°</p><p><strong>official</strong>ï¼šæ˜¯å¦ç”±å®˜æ–¹æä¾›ï¼ˆå®˜æ–¹æä¾›å¯æ”¾å¿ƒä¸‹è½½ï¼Œå¯ä»¥åŸºäºæ­¤é•œåƒåšè‡ªå·±çš„é•œåƒï¼‰</p><h3 id="2ã€æ‹‰å–é•œåƒã€‚"><a href="#2ã€æ‹‰å–é•œåƒã€‚" class="headerlink" title="2ã€æ‹‰å–é•œåƒã€‚"></a>2ã€æ‹‰å–é•œåƒã€‚</h3><p>docker pull== ï¼Œé»˜è®¤æ˜¯æ‹‰å»docker hubä¸Šæœç´¢åˆ°çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆç¬¬ä¸€ä¸ªï¼‰ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull centos</span><br></pre></td></tr></table></figure><br>æ³¨æ„ï¼Œå¦‚æœè¿™é‡ŒæŠ¥é”™ï¼ŒTLS handshake timeoutï¼Œé‚£å°±æ˜¯ç½‘ç»œåŸå› å¯¼è‡´è¶…æ—¶ï¼Œå°è¯•å¤špullå‡ æ¬¡ã€‚ä¸‹é¢ä»‹ç»é…ç½®é•œåƒåŠ é€Ÿã€‚</p><p>==ä½¿ç”¨é˜¿é‡Œäº‘dockeré•œåƒåŠ é€Ÿå™¨ã€‚==<br>åœ°å€:<strong><a href="https://cr.console.aliyun.com">https://cr.console.aliyun.com</a></strong>çš„æ§åˆ¶å°ï¼Œä½¿ç”¨æ”¯ä»˜å®è´¦å·ç™»å½•ï¼Œå·¦ä¾§åŠ é€Ÿå™¨å¸®åŠ©é¡µé¢ä¼šä¸ºä½ æ˜¾ç¤º<strong>ç‹¬ç«‹çš„åŠ é€Ÿåœ°å€</strong>ï¼Œè¿™ä¸ªåŠ é€Ÿåœ°å€æ¯ä¸ªäººçš„éƒ½ä¸åŒã€‚<br><strong>å¯ä»¥é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨ã€‚<br>æŠŠè‡ªå·±çš„ä¸“å±åŠ é€Ÿåœ°å€æ”¾åˆ°ä¸‹é¢çš„åœ°å€æ”¹ä¸€ä¸‹ï¼Œå†™å…¥æ–‡ä»¶å°±å¯ä»¥äº†ã€‚</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://eu5rxjvf.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload  #å¯åŠ¨é…ç½®</span><br><span class="line">systemctl restart docker  #é‡å¯dockeræœåŠ¡</span><br></pre></td></tr></table></figure><br>é…ç½®å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¹‹å‰å­¦çš„å‘½ä»¤ï¼Œdocker infoæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦æ–°å¢äº†é˜¿é‡Œäº‘çš„åœ°å€ã€‚<br>å¯ä»¥çœ‹åˆ°æ­¤åœ°å€ï¼Œä»£è¡¨é…ç½®æˆåŠŸã€‚</p><p>ç„¶åç»§ç»­ä½¿ç”¨docker pull centosï¼Œä¸‹è½½é€Ÿåº¦ä¼šå¾ˆå¿«ã€‚(ç”±äºä½œè€…å·²ç»ä¸‹è½½äº†centosï¼Œè¿™é‡Œä½¿ç”¨tomcaté•œåƒæ¼”ç¤º)</p><h4 id="3ã€æŸ¥çœ‹é•œåƒã€‚"><a href="#3ã€æŸ¥çœ‹é•œåƒã€‚" class="headerlink" title="3ã€æŸ¥çœ‹é•œåƒã€‚"></a>3ã€æŸ¥çœ‹é•œåƒã€‚</h4><p>æ‹‰å»ä¹‹åæˆ‘ä»¬è¦å¦‚ä½•çœ‹åˆ°æˆ‘ä»¬ä¸‹è½½ä¸‹æ¥çš„é•œåƒå‘¢ï¼Œè¿™é‡Œæˆ‘ä»¬å°±éœ€è¦å­¦ä¹ ä¸€ä¸ªæ–°å‘½ä»¤ã€‚==docker images==ï¼ŒæŸ¥çœ‹å·²ä¸‹è½½é•œåƒã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images  #æŸ¥çœ‹å·²ä¸‹è½½é•œåƒã€‚</span><br></pre></td></tr></table></figure><br>å¥½äº†ï¼Œè¿™æ ·å°±æ‹‰å–ä¸‹æ¥äº†ã€‚</p><h4 id="4ã€ä½¿ç”¨Uç›˜çš„æ–¹å¼å¯¼å…¥é•œåƒã€‚"><a href="#4ã€ä½¿ç”¨Uç›˜çš„æ–¹å¼å¯¼å…¥é•œåƒã€‚" class="headerlink" title="4ã€ä½¿ç”¨Uç›˜çš„æ–¹å¼å¯¼å…¥é•œåƒã€‚"></a>4ã€ä½¿ç”¨Uç›˜çš„æ–¹å¼å¯¼å…¥é•œåƒã€‚</h4><p>æ¯”å¦‚æŠŠdocker-centos-httpd.taré•œåƒä¸Šä¼ åˆ°linuxä¸Šï¼Œå°±éœ€è¦ç”¨åˆ°==docker load -i ==å‘½ä»¤ã€‚(è®°å¾—å¸¦ä¸Šè·¯å¾„ï¼Œè¿™é‡Œä½œè€…æ²¡æœ‰é’±ä¹°Uç›˜ï¼Œå°±ä¸æ¼”ç¤ºäº†)<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i /root/docker-centos-httpd.tar</span><br></pre></td></tr></table></figure><br>å¯¼å…¥ä¹‹åå¯ä»¥ä½¿ç”¨docker imagesæŸ¥çœ‹ã€‚<br>æ³¨æ„ä¸Šå›¾ï¼Œtagä»£è¡¨æ ‡ç­¾ï¼Œimage idä»£è¡¨é•œåƒIDã€‚è¿™æ˜¯æˆ‘ä»¬åŒºåˆ«é•œåƒçš„æ–¹å¼ã€‚<br>å¦å¤–æä¸€ä¸‹ï¼Œè¿˜æœ‰ä¸€ç§ç›´æ¥ä¸‹è½½å…¶ä»–ç«™ç‚¹é•œåƒçš„æ–¹æ³•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull hub.c<span class="number">.163</span>.com/library/tomcat:latest</span><br></pre></td></tr></table></figure></p><p>==æ³¨ï¼šdockeré•œåƒç›¸å½“äºï¼Œå¯¹ç¨‹åº+ç¨‹åºä¾èµ–çš„åº“ç›´æ¥æ‰“åŒ…ï¼ˆåæœŸè¯¦ç»†è§£é‡Šï¼‰ã€‚==</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="å››ã€Dockerå¹³å°çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚"><a href="#å››ã€Dockerå¹³å°çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚" class="headerlink" title="å››ã€Dockerå¹³å°çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚"></a>å››ã€Dockerå¹³å°çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚</h3></div></div><p>å¾ˆå¼€å¿ƒå¤§å®¶è€å¿ƒçš„çœ‹åˆ°äº†è¿™é‡Œï¼Œæ¥ä¸‹æ¥æˆ‘å°±ä¼šè¯¦ç»†è®²è§£dockerçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><h4 id="1ã€å¸®åŠ©å‘½ä»¤ã€‚"><a href="#1ã€å¸®åŠ©å‘½ä»¤ã€‚" class="headerlink" title="1ã€å¸®åŠ©å‘½ä»¤ã€‚"></a>1ã€å¸®åŠ©å‘½ä»¤ã€‚</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dockr version     #æ˜¾ç¤ºdockerè¯¦ç»†ä¿¡æ¯</span><br><span class="line">docker info       #æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨çš„æ•°é‡</span><br><span class="line">docker --helo     <span class="meta">#dockerå¸®åŠ©å‘½ä»¤æ‰‹å†Œ</span></span><br></pre></td></tr></table></figure><h4 id="2ã€é•œåƒå‘½ä»¤ã€‚"><a href="#2ã€é•œåƒå‘½ä»¤ã€‚" class="headerlink" title="2ã€é•œåƒå‘½ä»¤ã€‚"></a>2ã€é•œåƒå‘½ä»¤ã€‚</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">docker images  #æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºçš„é•œåƒ</span><br><span class="line">docker search é•œåƒå           #æœç´¢é•œåƒ</span><br><span class="line">docker pull é•œåƒå [æ ‡ç­¾]      #ä¸‹è½½é•œåƒï¼ˆå¦‚æœä¸å†™tagï¼Œé»˜è®¤æ˜¯latestï¼‰</span><br><span class="line">docker rmi é•œåƒå [æ ‡ç­¾]       #åˆ é™¤é•œåƒ    docker rmi -f $(docker images -aq)  åˆ é™¤å…¨éƒ¨é•œåƒ</span><br><span class="line">docker tag  é•œåƒå:ç‰ˆæœ¬   æ–°é•œåƒå:ç‰ˆæœ¬    #å¤åˆ¶é•œåƒå¹¶ä¸”ä¿®æ”¹åç§°</span><br><span class="line">docker commit  -a <span class="string">&quot;xxx&quot;</span>  -c <span class="string">&quot;xxx&quot;</span> é•œåƒID åå­—ï¼šç‰ˆæœ¬   #æäº¤é•œåƒ </span><br><span class="line">-a :æäº¤çš„é•œåƒä½œè€…ï¼›</span><br><span class="line">-c :ä½¿ç”¨DockerfileæŒ‡ä»¤æ¥åˆ›å»ºé•œåƒï¼›</span><br><span class="line">-m :æäº¤æ—¶çš„è¯´æ˜æ–‡å­—ï¼›</span><br><span class="line"></span><br><span class="line">docker load -i    /xxx/xxx.tar         #å¯¼å…¥é•œåƒ</span><br><span class="line">docker save -o   /xxx/xxx.tar          #ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ªtaråŒ…</span><br></pre></td></tr></table></figure><h4 id="3ã€å®¹å™¨å‘½ä»¤ã€‚"><a href="#3ã€å®¹å™¨å‘½ä»¤ã€‚" class="headerlink" title="3ã€å®¹å™¨å‘½ä»¤ã€‚"></a>3ã€å®¹å™¨å‘½ä»¤ã€‚</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">docker run [å¯é€‰å‚æ•°] image å‘½ä»¤ #å¯åŠ¨å®¹å™¨ï¼ˆæ— é•œåƒä¼šå…ˆä¸‹è½½é•œåƒï¼‰</span><br><span class="line">#å‚æ•°è¯´æ˜</span><br><span class="line">--name = <span class="string">&quot;Name&quot;</span>   å®¹å™¨åå­—</span><br><span class="line">-c   åé¢è·Ÿå¾…å®Œæˆçš„å‘½ä»¤</span><br><span class="line">-d   ä»¥åå°æ–¹å¼è¿è¡Œå¹¶ä¸”è¿”å›IDï¼Œå¯åŠ¨å®ˆæŠ¤è¿›ç¨‹å¼å®¹å™¨</span><br><span class="line">-i   ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸tåŒæ—¶ä½¿ç”¨</span><br><span class="line">-t   ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ã€‚ä¹Ÿå³å¯åŠ¨äº¤äº’å¼å®¹å™¨</span><br><span class="line">-p   æŒ‡å®šå®¹å™¨ç«¯å£    -p å®¹å™¨ç«¯å£:ç‰©ç†æœºç«¯å£  æ˜ å°„ç«¯å£</span><br><span class="line">-P   éšæœºæŒ‡å®šç«¯å£</span><br><span class="line">-v   ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·</span><br><span class="line"></span><br><span class="line">docker build  #åˆ›å»ºé•œåƒ        -fï¼šæŒ‡å®šdockerfileæ–‡ä»¶è·¯å¾„   -tï¼šé•œåƒåå­—ä»¥åŠæ ‡ç­¾</span><br><span class="line">docker logs å®¹å™¨å®ä¾‹çš„ID          #æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span><br><span class="line">docker rename æ—§åå­—  æ–°åå­—      # ç»™å®¹å™¨é‡æ–°å‘½å</span><br><span class="line">docker top    å®¹å™¨å®ä¾‹çš„ID                  #æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹</span><br><span class="line">docker ps -a                    #åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆä¸åŠ -aå°±æ˜¯åœ¨è¿è¡Œçš„ï¼‰</span><br><span class="line">docker rm      å®¹å™¨å®ä¾‹çš„ID                 #åˆ é™¤å®¹å™¨ï¼ˆæ­£åœ¨è¿è¡Œå®¹å™¨ä¸èƒ½åˆ é™¤ï¼Œé™¤éåŠ -fé€‰é¡¹ï¼‰</span><br><span class="line">docker kill  å®¹å™¨å®ä¾‹çš„ID        #æ€æ‰å®¹å™¨</span><br><span class="line">docker history   å®¹å™¨å®ä¾‹çš„ID    #æŸ¥çœ‹dockeré•œåƒçš„å˜æ›´å†å²</span><br><span class="line">docker start å®¹å™¨å®ä¾‹çš„ID        #å¯åŠ¨å®¹å™¨</span><br><span class="line">docke restart å®¹å™¨å®ä¾‹çš„ID       #é‡å¯å®¹å™¨</span><br><span class="line">docker stop å®¹å™¨å®ä¾‹çš„ID         #åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker attach /docker exec  å®¹å™¨å®ä¾‹çš„ID   #åŒä¸ºè¿›å…¥å®¹å™¨å‘½ä»¤ï¼Œä¸åŒçš„æ˜¯attachè¿æ¥ç»ˆæ­¢ä¼šè®©å®¹å™¨é€€å‡ºåå°è¿è¡Œï¼Œè€Œexecä¸ä¼šã€‚å¹¶ä¸”ï¼Œdocker attachæ˜¯è¿›å…¥æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šæƒ…åŠ¨æ–°çš„è¿›ç¨‹ï¼Œè€Œdocker execåˆ™ä¼šå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œã€‚</span><br><span class="line">docker image inspect  å®¹å™¨åç§°ï¼šå®¹å™¨æ ‡ç­¾       #æŸ¥çœ‹å®¹å™¨å†…æºæ•°æ®</span><br><span class="line">docker cp  å®¹å™¨idï¼šå®¹å™¨å†…è·¯å¾„   ç›®çš„ä¸»æœºè·¯å¾„           #ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºï¼ˆå¸¸ç”¨ï¼‰æˆ–è€…ä»ä¸»æœºæ‹·è´åˆ°å®¹å™¨ï¼ˆä¸€èˆ¬ç”¨æŒ‚è½½ï¼‰</span><br><span class="line"><span class="built_in">exit</span>                           #ç›´æ¥é€€å‡ºå®¹å™¨ </span><br><span class="line">crlt + P + Q                   #é€€å‡ºå®¹å™¨ä½†æ˜¯ä¸ç»ˆæ­¢è¿è¡Œ</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="äº”ã€å®æˆ˜æµ‹è¯•ï¼šéƒ¨ç½²Nginxã€‚"><a href="#äº”ã€å®æˆ˜æµ‹è¯•ï¼šéƒ¨ç½²Nginxã€‚" class="headerlink" title="äº”ã€å®æˆ˜æµ‹è¯•ï¼šéƒ¨ç½²Nginxã€‚"></a>äº”ã€å®æˆ˜æµ‹è¯•ï¼šéƒ¨ç½²Nginxã€‚</h3></div></div><h4 id="1ã€æœç´¢é•œåƒã€‚"><a href="#1ã€æœç´¢é•œåƒã€‚" class="headerlink" title="1ã€æœç´¢é•œåƒã€‚"></a>1ã€æœç´¢é•œåƒã€‚</h4><p>==docker search nginx==<br>æœç´¢åˆ°çš„è¿™äº›é•œåƒä»£è¡¨ä»€ä¹ˆæ„æ€ä¹‹å‰å·²ç»è®²è¿‡äº†ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥é€‰ç”¨æœ€æ–°ç‰ˆæœ¬çš„ã€‚</p><h4 id="2ã€ä¸‹è½½é•œåƒã€‚"><a href="#2ã€ä¸‹è½½é•œåƒã€‚" class="headerlink" title="2ã€ä¸‹è½½é•œåƒã€‚"></a>2ã€ä¸‹è½½é•œåƒã€‚</h4><p>==docker pull nginx==<br>æœªæŒ‡å®šnginxåˆ™ç›´æ¥ä¸‹è½½æœ€æ–°ç‰ˆæœ¬</p><h4 id="3ã€æŸ¥çœ‹é•œåƒã€‚-1"><a href="#3ã€æŸ¥çœ‹é•œåƒã€‚-1" class="headerlink" title="3ã€æŸ¥çœ‹é•œåƒã€‚"></a>3ã€æŸ¥çœ‹é•œåƒã€‚</h4><p>==docker images==<br>è¿™é‡Œæœ‰ä½œè€…ä¸‹è½½çš„å…¶ä»–é•œåƒã€‚ç¬¬ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„é•œåƒã€‚</p><h4 id="4ã€å¯åŠ¨å®¹å™¨ã€‚"><a href="#4ã€å¯åŠ¨å®¹å™¨ã€‚" class="headerlink" title="4ã€å¯åŠ¨å®¹å™¨ã€‚"></a>4ã€å¯åŠ¨å®¹å™¨ã€‚</h4><p>==docker run -d â€”name nginx01 -p 80:80 nginx==<br>e56å¼€å¤´é‚£ä¸ªå°±æ˜¯å®¹å™¨ID</p><h4 id="5ã€æŸ¥çœ‹å®¹å™¨ã€‚"><a href="#5ã€æŸ¥çœ‹å®¹å™¨ã€‚" class="headerlink" title="5ã€æŸ¥çœ‹å®¹å™¨ã€‚"></a>5ã€æŸ¥çœ‹å®¹å™¨ã€‚</h4><p>==docker ps==</p><h4 id="6ã€æµ‹è¯•è®¿é—®ã€‚"><a href="#6ã€æµ‹è¯•è®¿é—®ã€‚" class="headerlink" title="6ã€æµ‹è¯•è®¿é—®ã€‚"></a>6ã€æµ‹è¯•è®¿é—®ã€‚</h4><p>==curl 127.0.0.1:80==<br>127.0.0.1æ˜¯æœ¬åœ°å›ç¯ipï¼Œå°±æ˜¯æœ¬æœºå•¦ï¼Œå¯ä»¥ç”¨localhostä»£æ›¿ã€‚</p><h4 id="7ã€è¿›å…¥å®¹å™¨ä¿®æ”¹é¡µé¢ã€‚"><a href="#7ã€è¿›å…¥å®¹å™¨ä¿®æ”¹é¡µé¢ã€‚" class="headerlink" title="7ã€è¿›å…¥å®¹å™¨ä¿®æ”¹é¡µé¢ã€‚"></a>7ã€è¿›å…¥å®¹å™¨ä¿®æ”¹é¡µé¢ã€‚</h4><p>==docker exec -it å®¹å™¨ID /bin/bash==<br>whereisæ˜¯ä¸€ä¸ªæœç´¢æ–‡ä»¶çš„å°å‘½ä»¤ï¼Œä¸å¦‚findå¥½ç”¨ä½†æ˜¯ç®€æ´ã€‚</p><h4 id="8ã€å¤–ç½‘è®¿é—®ã€‚"><a href="#8ã€å¤–ç½‘è®¿é—®ã€‚" class="headerlink" title="8ã€å¤–ç½‘è®¿é—®ã€‚"></a>8ã€å¤–ç½‘è®¿é—®ã€‚</h4><p>ç”¨å…¬ç½‘IPï¼Œè¿™é‡Œä½œè€…æœ‰åŸŸåï¼ˆé¡ºä¾¿ç»™è‡ªå·±çš„ç½‘ç«™æ‰“ä¸ªå¹¿å‘Šï¼Œä½œè€…å–œæ¬¢å†™ä¸œè¥¿ï¼Œå¦‚æœæœ‰æŠ•ç¨¿ä¹‹ç±»çš„å¯ä»¥ç•™è¨€ï¼Œæˆ‘ä¼šç­›é€‰ä¹‹åæ”¾åˆ°æˆ‘çš„åšå®¢ç½‘ç«™ï¼Œå½“ç„¶ä¹Ÿæ¬¢è¿å¤§å®¶åŠ å…¥æˆ‘ï¼Œä¸€èµ·åˆ›å»ºæ–‡å­—ç¤¾åŒºã€‚<br>åœ°å€<a href="http://xiaodengzhp.xyz/wordpress/ï¼‰ï¼Œæ‰€ä»¥ç”¨åŸŸåä»£æ›¿äº†ã€‚ï¼ˆæ³¨æ„ï¼Œå¤–ç½‘IPéœ€è¦åœ¨äº‘å¹³å°æ‰“å¼€ç«¯å£ï¼Œç”±äºä½œè€…å·æ‡’æ˜ å°„çš„80ï¼Œæ‰€ä»¥æ²¡æœ‰å»æ‰“å¼€ï¼Œå¦‚æœæ˜¯å…¶ä»–ç«¯å£ï¼Œå°±è¦å»æ‰“å¼€ã€‚ï¼‰">http://xiaodengzhp.xyz/wordpress/ï¼‰ï¼Œæ‰€ä»¥ç”¨åŸŸåä»£æ›¿äº†ã€‚ï¼ˆæ³¨æ„ï¼Œå¤–ç½‘IPéœ€è¦åœ¨äº‘å¹³å°æ‰“å¼€ç«¯å£ï¼Œç”±äºä½œè€…å·æ‡’æ˜ å°„çš„80ï¼Œæ‰€ä»¥æ²¡æœ‰å»æ‰“å¼€ï¼Œå¦‚æœæ˜¯å…¶ä»–ç«¯å£ï¼Œå°±è¦å»æ‰“å¼€ã€‚ï¼‰</a><br>å¦å¤–ï¼Œåƒdocker top ã€docker cpã€ docker stopç­‰ç­‰å‘½ä»¤è¿™é‡Œå°±ä¸å†æ¼”ç¤ºäº†ï¼Œå¤§å®¶æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œæµ‹è¯•ã€‚<br>åˆ°äº†è¿™é‡Œï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹dockeræœ‰äº†ä¸€å®šçš„ç†è§£ï¼Œåº”è¯¥èƒ½å°è¯•ç€è‡ªå·±å¯åŠ¨å®¹å™¨äº†å§ã€‚</p><h4 id="9ã€å®æˆ˜æ€»ç»“ã€‚"><a href="#9ã€å®æˆ˜æ€»ç»“ã€‚" class="headerlink" title="9ã€å®æˆ˜æ€»ç»“ã€‚"></a>9ã€å®æˆ˜æ€»ç»“ã€‚</h4><p>æœ‰çš„å°ä¼™ä¼´ä¸ç†è§£ä¸ºä»€ä¹ˆè¦åŠ /bin/bash,æˆ–è€…ä»€ä¹ˆæ—¶å€™è¯¥åŠ ä»€ä¹ˆæ—¶å€™ä¸åŠ ï¼Œè¿™é‡Œæˆ‘ç»™å¤§å®¶è§£é‡Šä¸€ä¸‹ã€‚<br>æˆ‘ä»¬å…ˆçœ‹docker runçš„å‘½ä»¤å‚æ•°ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run [å¯é€‰å‚æ•°] image å‘½ä»¤ #å¯åŠ¨å®¹å™¨ï¼ˆæ— é•œåƒä¼šå…ˆä¸‹è½½é•œåƒï¼‰</span><br><span class="line">#å‚æ•°è¯´æ˜</span><br><span class="line">--name = <span class="string">&quot;Name&quot;</span>   å®¹å™¨åå­—</span><br><span class="line">-c   åé¢è·Ÿå¾…å®Œæˆçš„å‘½ä»¤</span><br><span class="line">-d   ä»¥åå°æ–¹å¼è¿è¡Œå¹¶ä¸”è¿”å›IDï¼Œå¯åŠ¨å®ˆæŠ¤è¿›ç¨‹å¼å®¹å™¨</span><br><span class="line">-i   ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸tåŒæ—¶ä½¿ç”¨</span><br><span class="line">-t   ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ã€‚ä¹Ÿå³å¯åŠ¨äº¤äº’å¼å®¹å™¨</span><br><span class="line">-p   æŒ‡å®šå®¹å™¨ç«¯å£    -p å®¹å™¨ç«¯å£:ç‰©ç†æœºç«¯å£  æ˜ å°„ç«¯å£</span><br><span class="line">-P   éšæœºæŒ‡å®šç«¯å£</span><br><span class="line">-v   ç»™å®¹å™¨æŒ‚è½½å­˜å‚¨å·</span><br></pre></td></tr></table></figure><br>å¤§å®¶æ³¨æ„-i  ã€ -t ã€  -dè¿™å‡ ä¸ªå‚æ•°ã€‚ä¸€èˆ¬itè¿ç”¨è¡¨ç¤ºç»™æˆ‘ä¸€ä¸ªå¯ä»¥æ“ä½œçš„å‰å°ç»ˆç«¯ã€‚ç¬¬äºŒä¸ªå‘¢å°±æ˜¯idï¼Œä»¥åå°å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œå®¹å™¨ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ€»ç»“å‡ºä¸¤ç§è¿è¡Œå®¹å™¨çš„å‘½ä»¤æ¨¡å¼ã€‚</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€ç§ï¼šäº¤äº’æ–¹å¼åˆ›å»ºå®¹å™¨ï¼Œé€€å‡ºåå®¹å™¨å…³é—­ã€‚</span><br><span class="line">docker <span class="built_in">run</span> -<span class="keyword">it</span> é•œåƒåç§°:æ ‡ç­¾ /bin/bash</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒç§ï¼šå®ˆæŠ¤è¿›ç¨‹æ–¹å¼åˆ›å»ºå®¹å™¨ã€‚</span><br><span class="line">docker <span class="built_in">run</span> -<span class="built_in">id</span> é•œåƒåç§°:æ ‡ç­¾</span><br><span class="line">é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„å®¹å™¨ï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥è¿›å…¥åˆ°å®¹å™¨ç•Œé¢ï¼Œè€Œæ˜¯åœ¨åå°è¿è¡Œäº†å®¹å™¨ï¼Œ</span><br><span class="line">å¦‚æœæˆ‘ä»¬éœ€è¦è¿›å»ï¼Œåˆ™è¿˜éœ€è¦ä¸€ä¸ªå‘½ä»¤ã€‚</span><br><span class="line">docker exec -<span class="keyword">it</span>  é•œåƒåç§°:æ ‡ç­¾  /bin/bash</span><br><span class="line">é€šè¿‡è¿™ç§æ–¹å¼è¿è¡Œçš„å®¹å™¨ï¼Œå°±ä¸ä¼šè‡ªåŠ¨é€€å‡ºäº†ã€‚</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="å…­ã€é•œåƒåŸç†ã€‚"><a href="#å…­ã€é•œåƒåŸç†ã€‚" class="headerlink" title="å…­ã€é•œåƒåŸç†ã€‚"></a>å…­ã€é•œåƒåŸç†ã€‚</h3></div></div><h4 id="1ã€é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1ã€é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1ã€é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ"></a>1ã€é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§çš„ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ã€‚ç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒçš„å¼€å‘è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€è¦çš„å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p><h4 id="2ã€Dockeré•œåƒåŠ è½½åŸç†ã€‚"><a href="#2ã€Dockeré•œåƒåŠ è½½åŸç†ã€‚" class="headerlink" title="2ã€Dockeré•œåƒåŠ è½½åŸç†ã€‚"></a>2ã€Dockeré•œåƒåŠ è½½åŸç†ã€‚</h4><p>==UnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰==<br>UnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šUnionFSæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚ä¸€å±‚çš„å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚Unionæ–‡ä»¶ç³»ç»Ÿæ˜¯Dockeré•œåƒçš„åŸºç¡€ã€‚é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ï¼ŒåŸºäºåŸºç¡€é•œåƒï¼Œå¯ä»¥åˆ¶ä½œå„ç§å„æ ·çš„åº”ç”¨é•œåƒã€‚</p><p>ç‰¹æ€§ï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†æ˜¯ä»å¤–é¢å¼€èµ·æ¥ï¼Œåªèƒ½çœ‹ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œæœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰çš„åº•å±‚æ–‡ä»¶å’Œç›®å½•ã€‚</p><p>==Dockeré•œåƒåŠ è½½åŸç†==<br>dockerçš„é•œåƒå®é™…ä¸Šæ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§å…³ç³»å°±å«<strong>UnionFS</strong>ã€‚<br><strong>bootfs</strong>ï¼ˆboot file systemï¼‰ä¸»è¦åŒ…æ‹¬bootloaderå’Œkernelï¼Œbootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernelï¼ŒLinuxåˆšå¯åŠ¨æ—¶ä¼šåŠ è½½bootfsæ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨Dockeré•œåƒçš„æœ€åº•å±‚æ˜¯bootfsã€‚è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„Linux/Unixç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¼šå¸è½½bootfsã€‚</p><p><strong>rootfs</strong>ï¼ˆroot file systemï¼‰ï¼Œåœ¨bootfsä¹‹ä¸Šã€‚åŒ…å«çš„å°±æ˜¯å…¸å‹Linuxç³»ç»Ÿçš„/dev, /proc, /bin, /etcç­‰ç­‰æ ‡å‡†æ–‡ä»¶ã€‚rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆæœ¬ï¼Œæ¯”å¦‚Ubuntuã€CentOSç­‰ã€‚</p><p>å¦‚ä¸‹å›¾ï¼š<br>å¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼Œrootfså¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤ã€å·¥å…·å’Œç¨‹åºå³å¯ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ç”¨Hostçš„kernelï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså³å¯ã€‚ç”±æ­¤å¯è§ä¸åŒçš„Linuxå‘è¡Œç‰ˆæœ¬ï¼ŒbootfsåŸºæœ¬ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œrootfsä¼šæœ‰å·®åˆ«ï¼Œæ‰€ä»¥ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…¬ç”¨bootfsï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªé•œåƒä»…æœ‰å‡ ç™¾MBçš„åŸå› ã€‚</p><h4 id="3ã€åˆ†å±‚ç†è§£ã€‚"><a href="#3ã€åˆ†å±‚ç†è§£ã€‚" class="headerlink" title="3ã€åˆ†å±‚ç†è§£ã€‚"></a>3ã€åˆ†å±‚ç†è§£ã€‚</h4><p>è¿™é‡Œæˆ‘ç”¨docker pull nginxå‘½ä»¤ï¼Œä¸‹è½½æ¥ä¸€ä¸ªé•œåƒç»™å¤§å®¶çœ‹çœ‹ï¼Œæ¡†èµ·æ¥çš„æ˜¯ä¸æ˜¯ä¸€å±‚ä¸€å±‚ä¸‹è½½çš„ã€‚<br>é‚£ä¹ˆdockerä¸ºä»€ä¹ˆä¼šä½¿ç”¨è¿™ç§æ–¹æ³•å‘¢ï¼Ÿæœ€å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯==èµ„æºå…±äº«==ã€‚æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„Baseé•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€è¦åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½baseé•œåƒï¼ŒåŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½baseé•œåƒï¼Œè¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰å®¹å™¨æä¾›æœåŠ¡äº†ï¼Œè€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚</p><p>æˆ‘ä»¬é€šè¿‡==docker image inspect ngixn:latest==æŸ¥çœ‹ä¸€ä¸‹ã€‚<br>è¿™é‡Œç»™å¤§å®¶ä¸¾ä¸ªæ —å­ï¼š<br>æ‰€æœ‰çš„dockeré•œåƒéƒ½èµ·å§‹äºä¸€ä¸ª<strong>åŸºç¡€é•œåƒå±‚</strong>ï¼Œå½“è¿›è¡Œä¿®æ”¹æˆ–è€…å¢åŠ æ–°çš„å†…å®¹æ—¶ï¼Œå°±ä¼šåœ¨å½“å‰é•œåƒå±‚ä¹‹ä¸Šï¼Œåˆ›å»ºæ–°çš„é•œåƒå±‚ã€‚å‡å¦‚åŸºäºUbuntu Linux 16.04åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œè¿™å°±æ˜¯æ–°é•œåƒçš„<strong>ç¬¬ä¸€å±‚</strong>ï¼›å¦‚æœåœ¨è¯¥é•œåƒä¸­æ·»åŠ PythonåŒ…ï¼Œå°±ä¼šåœ¨åŸºç¡€é•œåƒä¹‹ä¸Šåˆ›å»º<strong>ç¬¬äºŒä¸ªé•œåƒå±‚</strong>ï¼›å¦‚æœç»§ç»­æ·»åŠ å®‰å…¨è¡¥ä¸ï¼Œå°±ä¼šåˆ›å»º<strong>ç¬¬ä¸‰ä¸ªé•œåƒå±‚</strong>ã€‚å¦‚ä¸‹å›¾ï¼š<br>åœ¨æ·»åŠ é¢å¤–çš„é•œåƒçš„åŒæ—¶ï¼Œ==é•œåƒå§‹ç»ˆæ˜¯å½“å‰æ‰€æœ‰é•œåƒçš„ç»„åˆ==ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨æ·»åŠ ç¬¬ä¸‰å±‚å®‰å…¨è¡¥ä¸çš„æ—¶å€™ï¼ŒUbuntuå’ŒPythonè§†ä¸ºä¸€ä¸ªé•œåƒå±‚ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå†æ·»åŠ å®‰å…¨è¡¥ä¸é•œåƒå±‚ã€‚<br>dockeré•œåƒéƒ½æ˜¯<strong>åªè¯»</strong>çš„ï¼Œå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ã€‚è¿™ä¸€å±‚å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„==å®¹å™¨å±‚==ï¼Œå®¹å™¨ä¹‹ä¸‹éƒ½å«é•œåƒå±‚ã€‚</p><h4 id="4ã€æäº¤é•œåƒã€‚"><a href="#4ã€æäº¤é•œåƒã€‚" class="headerlink" title="4ã€æäº¤é•œåƒã€‚"></a>4ã€æäº¤é•œåƒã€‚</h4><p>è¿™é‡Œå¤§å®¶çœ‹ä¸€ä¸‹</p><h5 id="1ã€å‘½ä»¤ã€‚"><a href="#1ã€å‘½ä»¤ã€‚" class="headerlink" title="1ã€å‘½ä»¤ã€‚"></a>1ã€å‘½ä»¤ã€‚</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker commit æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„å‰¯æœ¬</span><br><span class="line">docker commit -m=<span class="string">&quot;æäº¤çš„æè¿°ä¿¡æ¯&quot;</span>  -a=<span class="string">&quot;ä½œè€…&quot;</span>  å®¹å™¨id  ç›®æ ‡é•œåƒå:[TAG]</span><br></pre></td></tr></table></figure><h5 id="2ã€å®éªŒã€‚"><a href="#2ã€å®éªŒã€‚" class="headerlink" title="2ã€å®éªŒã€‚"></a>2ã€å®éªŒã€‚</h5><p>1ã€ä¸‹è½½ä¸€ä¸ªé»˜è®¤çš„tomcatï¼Œè¿™é‡Œä½œè€…å·²ç»ä¸‹è½½å¥½äº†ï¼Œå°±ä¸ç”¨å†ä¸‹è½½äº†ã€‚<br>2ã€å¯åŠ¨tomcatã€‚<br>docker run -itd -p 8080:8080  tomcat:latest   /bin/bash<br>ç„¶åè¿›å…¥æ­¤å®¹å™¨<br>docker exiec -it [å®¹å™¨ID] /bin/bash<br>3ã€é»˜è®¤tomcaté•œåƒçš„webappç½‘é¡µæ–‡ä»¶é‡Œæ˜¯æ²¡æœ‰ä¸œè¥¿çš„ï¼Œæˆ‘ä»¬è¦ä»webapps.distä¸­æŠŠå®ƒæ‹·è´å‡ºæ¥ã€‚<br>4ã€æ‰“å¼€8080ç«¯å£ï¼Œåœ¨æµè§ˆå™¨è®¿é—®tomcat dockerã€‚<br><img src="https://img-blog.csdnimg.cn/f0585cc487fb4a12ae022d5e53036310.png#pic_center" alt="tomcat"><br>5ã€æäº¤é•œåƒã€‚<br>==docker commit -a=â€This my create tomcatâ€ -m=â€add webapps appâ€ 81 tomcat02:1.0==<br>è¿™é‡Œæˆ‘ä»¬å°±åˆ¶ä½œäº†æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé•œåƒï¼Œä¹‹åæˆ‘è¿˜ä¼šæ•™å¤§å®¶æ€ä¹ˆå°†é•œåƒå‘å¸ƒåˆ°docker hubä¸Šã€‚</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="ä¸ƒã€Dockerå®¹å™¨æ•°æ®å·ã€‚"><a href="#ä¸ƒã€Dockerå®¹å™¨æ•°æ®å·ã€‚" class="headerlink" title="ä¸ƒã€Dockerå®¹å™¨æ•°æ®å·ã€‚"></a>ä¸ƒã€Dockerå®¹å™¨æ•°æ®å·ã€‚</h3></div></div><h4 id="1ã€å®¹å™¨æ•°æ®å·ä»‹ç»ã€‚"><a href="#1ã€å®¹å™¨æ•°æ®å·ä»‹ç»ã€‚" class="headerlink" title="1ã€å®¹å™¨æ•°æ®å·ä»‹ç»ã€‚"></a>1ã€å®¹å™¨æ•°æ®å·ä»‹ç»ã€‚</h4><p>dockerå®¹å™¨åœ¨äº§ç”Ÿæ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœä¸é€šè¿‡docker  commitç”Ÿæˆæ–°çš„é•œåƒï¼Œä½¿å¾—æ•°æ®ä½œä¸ºé•œåƒçš„ä¸€éƒ¨åˆ†ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆå½“å®¹å™¨åˆ é™¤ä¹‹åï¼Œæ•°æ®è‡ªç„¶è€Œç„¶çš„ä¹Ÿä¼šæ¶ˆå¤±ã€‚ä¸ºäº†èƒ½ä¿å­˜æ•°æ®ï¼Œå®¹å™¨ä¸­å¼•ç”¨äº†<strong>æ•°æ®å·</strong>çš„æ¦‚å¿µã€‚</p><h4 id="2ã€ä½œç”¨ä»¥åŠç‰¹ç‚¹ã€‚"><a href="#2ã€ä½œç”¨ä»¥åŠç‰¹ç‚¹ã€‚" class="headerlink" title="2ã€ä½œç”¨ä»¥åŠç‰¹ç‚¹ã€‚"></a>2ã€ä½œç”¨ä»¥åŠç‰¹ç‚¹ã€‚</h4><p>å·å°±æ˜¯<strong>ç›®å½•æˆ–è€…æ–‡ä»¶</strong>ï¼Œå­˜åœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ä¹‹ä¸­ï¼Œç”±dockeræŒ‚è½½åˆ°å®¹å™¨ï¼Œä½†æ˜¯ä¸å±äºè”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤èƒ½å¤Ÿç»•è¿‡Union File Systemæä¾›ä¸€äº›ç”¨äºæŒç»­å­˜å‚¨æˆ–è€…å…±äº«æ•°æ®çš„ç‰¹æ€§ã€‚</p><p>å·çš„è®¾è®¡ç›®çš„å°±æ˜¯<strong>æ•°æ®çš„æŒä¹…åŒ–</strong>ï¼Œå®Œå…¨<strong>ç‹¬ç«‹äºå®¹å™¨çš„ç”Ÿå­˜å‘¨æœŸ</strong>ï¼Œå› æ­¤dockerä¸ä¼šå†å®¹å™¨åˆ é™¤æ—¶åˆ é™¤å…¶æŒ‚è½½çš„æ•°æ®å·ã€‚</p><p>å®ƒè¿˜å­˜åœ¨ä»¥ä¸‹å‡ ç§==ç‰¹ç‚¹==ï¼š</p><p>1ã€æ•°æ®å·å¯åœ¨å®¹å™¨ä¹‹é—´å…±äº«æˆ–è€…é‡ç”¨æ•°æ®ã€‚<br>2ã€å·ä¸­çš„æ›´æ”¹å¯ä»¥ç›´æ¥ç”Ÿæ•ˆã€‚<br>3ã€æ•°æ®å·ä¸­çš„æ›´æ”¹ä¸ä¼šåŒ…å«åœ¨é•œåƒçš„æ›´æ–°ä¸­ã€‚<br>4ã€æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ã€‚</p><h4 id="3ã€ä½¿ç”¨æ•°æ®å·ã€‚"><a href="#3ã€ä½¿ç”¨æ•°æ®å·ã€‚" class="headerlink" title="3ã€ä½¿ç”¨æ•°æ®å·ã€‚"></a>3ã€ä½¿ç”¨æ•°æ®å·ã€‚</h4><p>æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æŒ‚è½½ ï¼Œ  -v<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v ä¸»æœºç›®å½•:å®¹å™¨ç›®å½• /bin/bash</span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬åœ¨åˆ›å»ºå®¹å™¨ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹æŒ‚è½½è·¯å¾„ä¸Šæœ‰æ²¡æœ‰test01è¿™ä¸ªç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ˜¯æ²¡æœ‰çš„ã€‚æ‰§è¡Œå‘½ä»¤ä¹‹åè¿›å…¥åˆ°å®¹å™¨å†…ï¼Œæˆ‘ä»¬lsçœ‹ä¸€ä¸‹å®¹å™¨çš„homeç›®å½•ï¼Œæ˜¯ç©ºçš„ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v /home/test01:/home centos /bin/bash</span><br></pre></td></tr></table></figure><br>å¦å¤–æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œcd /homeç›®å½•ï¼Œè¿™ä¸‹æˆ‘ä»¬å‘ç°å¤šå‡ºæ¥äº†ä¸€ä¸ªtest01ç›®å½•ï¼Œè¿™ä¸ªtest01ç›®å½•ï¼Œå°±æ˜¯æˆ‘ä»¬åˆšåˆšå¯åŠ¨çš„å®¹å™¨å†…éƒ¨çš„homeç›®å½•ï¼Œå¹¶ä¸”ï¼Œæ­¤æ—¶è¿™ä¸¤ä¸ªç›®å½•æ˜¯åŒæ­¥çš„çŠ¶æ€ï¼Œæˆ‘ä»¬åœ¨homeç›®å½•ä¸­å†™å…¥ä»»ä½•æ–°çš„æ–‡ä»¶ï¼Œéƒ½ä¼šåŒæ­¥åˆ°ä¸»æœºhomeç›®å½•ä¸‹çš„test01ç›®å½•ã€‚</p><p>æˆ‘ä»¬åœ¨è¿™é‡Œæµ‹è¯•ä¸€ä¸‹ï¼Œechoè¿›å»ä¸€ä¸ªa.txtæ–‡ä»¶ã€‚<br>ç„¶åæ¥åˆ°å®¿ä¸»æœºä¸Šï¼Œçœ‹ä¸€çœ¼æ˜¯ä¸æ˜¯test01ç›®å½•ä¸‹ä¹Ÿå‡ºç°äº†a.txtã€‚(åŒå‘ç»‘å®š)<br>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´ç®€å•çš„æ–¹æ³•æŸ¥çœ‹æ˜¯å¦æŒ‚è½½æˆåŠŸï¼Œå¤§å®¶è¿˜è®°å¾—æ˜¯é‚£æ¡å‘½ä»¤å—ï¼Ÿæ²¡é”™ï¼Œæ˜¯<strong>docker inspect  å®¹å™¨ID</strong>ã€‚æˆ‘ä»¬æ‰¾åˆ°è¿™ä¸ª==Mounts==ï¼Œå®ƒä»£è¡¨ç€æŒ‚è½½ï¼Œ<strong>type</strong>æ˜¯ç±»å‹ï¼ˆç»‘å®šï¼‰ï¼Œ<strong>source</strong>æ˜¯æºï¼ˆ/home/test01ï¼‰ï¼Œä¹Ÿå°±æ˜¯æŠŠä»€ä¹ˆæŒ‚è½½åˆ°å“ªé‡Œã€‚<strong>destination</strong>ï¼ˆhomeï¼‰å°±æ˜¯æŒ‚è½½çš„ç›®æ ‡è·¯å¾„äº†ã€‚<br>è¿™é‡Œä½œè€…åªæ¼”ç¤ºäº†ä¿®æ”¹å®¹å™¨å†…æ–‡ä»¶åŒæ­¥åˆ°å®¿ä¸»æœºæŒ‚è½½æ–‡ä»¶ã€‚å…¶å®åè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚ä¹‹åå¦‚æœè¦ä¿®å®¹å™¨å†…æŒ‚è½½æ–‡ä»¶ï¼Œåªéœ€åœ¨æˆ‘ä»¬æœ¬åœ°æŒ‚è½½ç‚¹ä¿®æ”¹å°±å¥½äº†ï¼Œå®ƒä¼šè‡ªåŠ¨åŒæ­¥åˆ°dockerã€‚</p><h4 id="4ã€å…·åæŒ‚è½½ä¸åŒ¿åæŒ‚è½½ã€‚"><a href="#4ã€å…·åæŒ‚è½½ä¸åŒ¿åæŒ‚è½½ã€‚" class="headerlink" title="4ã€å…·åæŒ‚è½½ä¸åŒ¿åæŒ‚è½½ã€‚"></a>4ã€å…·åæŒ‚è½½ä¸åŒ¿åæŒ‚è½½ã€‚</h4><p>è¿™é‡Œå…ˆæ•™ç»™å¤§å®¶ä¸€ä¸ªæ–°æ­¦å™¨ã€‚<br>==docker volum ls==    #æŸ¥çœ‹æ‰€æœ‰å·çš„æƒ…å†µã€‚</p><h5 id="1ã€åŒ¿åæŒ‚è½½"><a href="#1ã€åŒ¿åæŒ‚è½½" class="headerlink" title="1ã€åŒ¿åæŒ‚è½½"></a>1ã€åŒ¿åæŒ‚è½½</h5><p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨åŒ¿åæŒ‚è½½çš„å‘½ä»¤å¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P --name=nginxt01 -v /etc/nginx nginx</span><br></pre></td></tr></table></figure><br>ç„¶åä½¿ç”¨åˆšåˆšæ•™ç»™å¤§å®¶çš„æ–°æ­¦å™¨æŸ¥çœ‹å·ã€‚<br>è¿™é‡Œ84å¼€å¤´çš„é‚£ä¸€é•¿ä¸²å°±æ˜¯æŒ‚è½½åˆ°å®¿ä¸»æœºçš„åå­—ã€‚<br>æˆ‘ä»¬ç»§ç»­è¿½æŸ¥ä¸‹å»ã€‚è¿™é‡Œæ•™ç»™å¤§å®¶ä¸€ä¸ªå¾ˆç®€å•çš„å‘½ä»¤ï¼Œlessã€‚å¦‚æœè¾“å‡ºçš„ä¿¡æ¯å¤ªå¤šäº†ï¼Œæˆ‘ä»¬æ‰¾ä¸åˆ°ï¼Œå°±å¯ä»¥è¿™æ ·ä½¿ç”¨<br>cmd   |  less         æ —å­ï¼š   docker inspect 84ï¼ˆå®¹å™¨IDï¼‰  | less<br>ç„¶åè¾“å…¥/name, nameæ˜¯ä½ æƒ³æŸ¥åˆ°çš„å†…å®¹ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„æ‰¾åˆ°å•¦ã€‚<br>å¤§å®¶ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯/etc/nginxå°±æ˜¯å«84å¼€å¤´çš„é‚£ä¸€é•¿ä¸²ï¼ŒæŒ‚è½½åˆ°äº†æˆ‘/var/libâ€¦.è·¯å¾„ä¸‹ï¼Œæˆ‘ä»¬å¤åˆ¶è¿™ä¸ªè·¯å¾„ç»§ç»­å»æŸ¥çœ‹ã€‚<br>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯åœ¨æˆ‘ä»¬çš„å®¿ä¸»æœºå°±å‘ç°äº†è¿™æ ·çš„ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿè¿™å°±æ˜¯æ‰€è°“çš„åŒ¿åæŒ‚è½½ï¼æ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚</p><h5 id="2ã€å…·åæŒ‚è½½ã€‚"><a href="#2ã€å…·åæŒ‚è½½ã€‚" class="headerlink" title="2ã€å…·åæŒ‚è½½ã€‚"></a>2ã€å…·åæŒ‚è½½ã€‚</h5><p>å…·åæŒ‚è½½å°±å¾ˆç®€å•äº†ï¼Œè·Ÿæˆ‘ä»¬ä¹‹å‰æ¼”ç¤ºçš„æŒ‡å®šè·¯å¾„æŒ‚è½½å¾ˆç›¸ä¼¼ï¼Œè¿™é‡Œç»™å¤§å®¶ç®€å•åœ°æ¼”ç¤ºä¸€ä¸‹ã€‚</p><p>åŒæ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨å…·åæŒ‚è½½çš„æ–¹å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P --name=nginxt02 -v jumingguazai:/etc/nginx nginx</span><br></pre></td></tr></table></figure><br>docker volume ls æŸ¥çœ‹å·<br>docker inspect ID | less æ‰¾åˆ°æŒ‚è½½ç‚¹ã€‚<br>æˆ‘ä»¬å†å¤åˆ¶ä¸€ä¸‹è·¯å¾„ï¼Œæ‰¾åˆ°nginxçš„é…ç½®æ–‡ä»¶ã€‚</p><p>è¿™å°±æ˜¯å…·åæŒ‚è½½ã€‚</p><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¦‚ä½•ç¡®å®šæ˜¯å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½ï¼š</span><br><span class="line"><span class="literal">-</span>v  å®¹å™¨å†…è·¯å¾„               <span class="comment">#åŒ¿åæŒ‚åœ¨</span></span><br><span class="line"><span class="literal">-</span>v  å·åï¼šå®¹å™¨å†…è·¯å¾„          <span class="comment">#å…·åæŒ‚åœ¨</span></span><br><span class="line"><span class="literal">-</span>v  /å®¿ä¸»æœºè·¯å¾„ï¼šå®¹å™¨å†…è·¯å¾„    <span class="comment"># æŒ‡å®šè·¯å¾„æŒ‚è½½</span></span><br></pre></td></tr></table></figure><p>tipsï¼š<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">é€šè¿‡ -v å®¹å™¨å†…è·¯å¾„  :ro   rw   å¯ä»¥æ”¹å˜è¯»å†™æƒé™</span><br><span class="line">ro  readonly   <span class="comment">#åªè¯»</span></span><br><span class="line">rw  readwrite  <span class="comment">#å¯å†™å¯è¯»</span></span><br><span class="line">ä¾‹ï¼š docker <span class="built_in">run</span> -d <span class="comment">--name nginx01 -v test01:/etc/nginx:ro nginx</span></span><br><span class="line">    docker <span class="built_in">run</span> -d <span class="comment">--name nginx01 -v test01:/etc/nginx:rw nginx</span></span><br></pre></td></tr></table></figure></p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="å…«ã€Dockerfileã€‚"><a href="#å…«ã€Dockerfileã€‚" class="headerlink" title="å…«ã€Dockerfileã€‚"></a>å…«ã€Dockerfileã€‚</h3></div></div><h4 id="1ã€ä»€ä¹ˆæ˜¯Dockerfileï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯Dockerfileï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯Dockerfileï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯Dockerfileï¼Ÿ</h4><p><strong>Dockerfile</strong>æ˜¯ä¸€ä¸ªåˆ›å»ºé•œåƒæ‰€æœ‰å‘½ä»¤çš„æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«äº†ä¸€æ¡æ¡æŒ‡ä»¤å’Œè¯´æ˜, æ¯æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚,ï¼Œé€šè¿‡==docker build==å‘½ä»¤ï¼Œæ ¹æ®Dockerfileçš„å†…å®¹æ„å»ºé•œåƒï¼Œå› æ­¤æ¯ä¸€æ¡æŒ‡ä»¤çš„å†…å®¹, å°±æ˜¯æè¿°è¯¥å±‚å¦‚ä½•æ„å»ºã€‚æœ‰äº†Dockefile,ï¼Œå°±å¯ä»¥åˆ¶å®šè‡ªå·±çš„dockeré•œåƒè§„åˆ™,åªéœ€è¦åœ¨Dockerfileä¸Šæ·»åŠ æˆ–è€…ä¿®æ”¹æŒ‡ä»¤,ï¼Œå°±å¯ç”Ÿæˆdocker é•œåƒã€‚</p><h4 id="2ã€Dockerfileæ„å»ºè¿‡ç¨‹ã€‚"><a href="#2ã€Dockerfileæ„å»ºè¿‡ç¨‹ã€‚" class="headerlink" title="2ã€Dockerfileæ„å»ºè¿‡ç¨‹ã€‚"></a>2ã€Dockerfileæ„å»ºè¿‡ç¨‹ã€‚</h4><p>dockerfileçš„å…³é”®å­—==å»ºè®®ä½¿ç”¨==å¤§å†™ï¼Œå®ƒæ˜¯ä»ä¸Šå¾€ä¸‹æŒ‰ç…§å¾ªåºæ‰§è¡Œçš„ï¼Œåœ¨dockerfileä¸­ï¼Œ#ä»£è¡¨æ³¨é‡Šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªè„šæœ¬æ¥ç”Ÿæˆé•œåƒï¼Œè„šæœ¬ä¸­çš„æ¯ä¸€ä¸ªå‘½ä»¤ï¼Œéƒ½æ˜¯ä¸€å±‚é•œåƒã€‚</p><p>æˆ‘ä»¬å…ˆé€šè¿‡ä¸‹é¢è¿™å¼ å›¾ç‰‡æ¥ç†è§£ä¸€ä¸‹é•œåƒçš„æ„æˆä»¥åŠè¿è¡Œè¿‡ç¨‹ã€‚<br>åœ¨è¿™é‡Œæˆ‘ä»¬æ¥æ•´ç†ä¸€ä¸‹dockerå®¹å™¨ã€dockerfileã€dockeré•œåƒçš„å…³ç³»ï¼š</p><p><strong>dockerfile</strong>æ˜¯é¢å‘å¼€å‘çš„ï¼Œå‘å¸ƒé¡¹ç›®åšé•œåƒçš„æ—¶å€™å°±è¦ç¼–å†™dockerfileæ–‡ä»¶ã€‚<br><strong>dockerfile</strong>ï¼šæ„å»ºæ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€åˆ‡çš„æ­¥éª¤ï¼Œæºä»£ç ã€‚<br><strong>dockerImanges</strong>ï¼šé€šè¿‡dockerfileæ„å»ºç”Ÿæˆçš„é•œåƒï¼Œæœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“ã€‚<br><strong>dockerå®¹å™¨</strong>ï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡çš„ã€‚</p><h4 id="3ã€Dockerfile-æŒ‡ä»¤é€‰é¡¹ã€‚"><a href="#3ã€Dockerfile-æŒ‡ä»¤é€‰é¡¹ã€‚" class="headerlink" title="3ã€Dockerfile æŒ‡ä»¤é€‰é¡¹ã€‚"></a>3ã€Dockerfile æŒ‡ä»¤é€‰é¡¹ã€‚</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Dockerfile æŒ‡ä»¤é€‰é¡¹:</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span>                  <span class="comment">#åŸºç¡€é•œåƒ ã€‚ ï¼ˆcentosï¼‰</span></span><br><span class="line"><span class="keyword">MAINTAINER</span>            <span class="comment">#é•œåƒçš„ä½œè€…å’Œé‚®ç®±ã€‚ï¼ˆå·²è¢«å¼ƒç”¨ï¼Œç»“å°¾ä»‹ç»ä»£æ›¿è¯ï¼‰</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash">                   <span class="comment">#é•œåƒæ„å»ºçš„æ—¶å€™éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash">                   <span class="comment">#ç±»ä¼¼äº RUN æŒ‡ä»¤ï¼Œç”¨äºè¿è¡Œç¨‹åºï¼ˆåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£ï¼‰</span></span></span><br><span class="line"><span class="keyword">EXPOSE</span>                <span class="comment">#å¯¹å¤–å¼€æ”¾çš„ç«¯å£ã€‚</span></span><br><span class="line"><span class="keyword">ENV</span>                   <span class="comment">#è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå®šä¹‰äº†ç¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆåœ¨åç»­çš„æŒ‡ä»¤ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash">                   <span class="comment"># æ­¥éª¤ï¼štomcaté•œåƒï¼Œè¿™ä¸ªtomcatå‹ç¼©åŒ…ã€‚æ·»åŠ å†…å®¹ã€‚</span></span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash">                  <span class="comment">#å¤åˆ¶æŒ‡ä»¤ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­ã€‚</span></span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash">                <span class="comment">#è®¾ç½®å·ï¼ŒæŒ‚è½½çš„ä¸»æœºç›®å½•ã€‚</span></span></span><br><span class="line"><span class="keyword">USER</span>                  <span class="comment">#ç”¨äºæŒ‡å®šæ‰§è¡Œåç»­å‘½ä»¤çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œ</span></span><br><span class="line">                       è¿™è¾¹åªæ˜¯åˆ‡æ¢åç»­å‘½ä»¤æ‰§è¡Œçš„ç”¨æˆ·ï¼ˆç”¨æˆ·å’Œç”¨æˆ·ç»„å¿…é¡»æå‰å·²ç»å­˜åœ¨ï¼‰ã€‚</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash">               <span class="comment">#å·¥ä½œç›®å½•ï¼ˆç±»ä¼¼CDå‘½ä»¤ï¼‰ã€‚</span></span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash">            <span class="comment">#ç±»ä¼¼äº CMD æŒ‡ä»¤ï¼Œä½†å…¶ä¸ä¼šè¢« docker run </span></span></span><br><span class="line">                       çš„å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šçš„æŒ‡ä»¤æ‰€è¦†ç›–ï¼Œä¼šè¿½åŠ å‘½ä»¤ã€‚</span><br><span class="line"><span class="keyword">ONBUILD</span>               <span class="comment">#å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿Dokcerfileï¼Œå°±ä¼šè¿è¡ŒONBUILDçš„æŒ‡ä»¤ã€‚å‡ºå‘æ‰§è¡Œã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š<span class="keyword">CMD</span><span class="language-bash">ç±»ä¼¼äº RUN æŒ‡ä»¤ï¼Œç”¨äºè¿è¡Œç¨‹åºï¼Œä½†äºŒè€…è¿è¡Œçš„æ—¶é—´ç‚¹ä¸åŒ:</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> åœ¨docker run æ—¶è¿è¡Œã€‚</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> æ˜¯åœ¨ docker buildã€‚</span></span><br><span class="line">ä½œç”¨ï¼šä¸ºå¯åŠ¨çš„å®¹å™¨æŒ‡å®šé»˜è®¤è¦è¿è¡Œçš„ç¨‹åºï¼Œç¨‹åºè¿è¡Œç»“æŸï¼Œå®¹å™¨ä¹Ÿå°±ç»“æŸã€‚</span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºå¯è¢« docker run å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šè¦è¿è¡Œçš„ç¨‹åºæ‰€è¦†ç›–ã€‚</span></span><br><span class="line">å¦‚æœ Dockerfile ä¸­å¦‚æœå­˜åœ¨å¤šä¸ª <span class="keyword">CMD</span><span class="language-bash"> æŒ‡ä»¤ï¼Œä»…æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash">ï¼ˆMAINTALNERå·²ç»è¢«å¼ƒç”¨äº†ï¼Œç›®å‰æ˜¯ä½¿ç”¨LABELä»£æ›¿ï¼‰</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> æŒ‡ä»¤ç”¨æ¥ç»™é•œåƒæ·»åŠ ä¸€äº›å…ƒæ•°æ®ï¼ˆmetadataï¼‰ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</span></span><br><span class="line">æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æ·»åŠ é•œåƒçš„ä½œè€…ï¼š</span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> org.opencontainers.image.authors=<span class="string">&quot;runoob&quot;</span></span></span><br></pre></td></tr></table></figure><p>Tipsï¼šæ„å»ºé•œåƒ99%éƒ½æ˜¯ä»==scratch==å¼€å§‹çš„ï¼Œä½†æ˜¯è¿™ä¸ªé•œåƒæ˜¯ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µï¼Œå¹¶ä¸å®é™…å­˜åœ¨ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºç™½çš„é•œåƒã€‚</p><p>è¿™é‡Œå¸¦å¤§å®¶å›é¡¾ä¸€ä¸‹<strong>docker history</strong>å‘½ä»¤ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦ç”¨dockfileåˆ¶ä½œå±äºè‡ªå·±çš„é•œåƒäº†ã€‚<br>é€šè¿‡è¿™ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°dockerfileåˆ¶ä½œé•œåƒæ‰€æ‰§è¡Œçš„æ­¥éª¤ï¼Œä¹Ÿå°±å¯ä»¥çŸ¥é“è¿™ä¸ªé•œåƒæ˜¯æ€ä¹ˆåˆ¶ä½œçš„äº†ã€‚</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="ä¹ã€å®æˆ˜æµ‹è¯•ï¼šåˆ¶ä½œé•œåƒå¹¶ä¸”å‘å¸ƒå¤–ç½‘ã€‚"><a href="#ä¹ã€å®æˆ˜æµ‹è¯•ï¼šåˆ¶ä½œé•œåƒå¹¶ä¸”å‘å¸ƒå¤–ç½‘ã€‚" class="headerlink" title="ä¹ã€å®æˆ˜æµ‹è¯•ï¼šåˆ¶ä½œé•œåƒå¹¶ä¸”å‘å¸ƒå¤–ç½‘ã€‚"></a>ä¹ã€å®æˆ˜æµ‹è¯•ï¼šåˆ¶ä½œé•œåƒå¹¶ä¸”å‘å¸ƒå¤–ç½‘ã€‚</h3></div></div><h4 id="1ã€æ³¨å†Œdocker-hub-è´¦å·ã€‚"><a href="#1ã€æ³¨å†Œdocker-hub-è´¦å·ã€‚" class="headerlink" title="1ã€æ³¨å†Œdocker hub è´¦å·ã€‚"></a>1ã€æ³¨å†Œdocker hub è´¦å·ã€‚</h4><p>ç½‘å€ï¼š==<a href="https://hub.docker.com/==">https://hub.docker.com/==</a></p><h2 id="2ã€æœåŠ¡å™¨ä¸Šä½¿ç”¨å‘½ä»¤è¡Œç™»é™†ã€‚"><a href="#2ã€æœåŠ¡å™¨ä¸Šä½¿ç”¨å‘½ä»¤è¡Œç™»é™†ã€‚" class="headerlink" title="2ã€æœåŠ¡å™¨ä¸Šä½¿ç”¨å‘½ä»¤è¡Œç™»é™†ã€‚"></a>2ã€æœåŠ¡å™¨ä¸Šä½¿ç”¨å‘½ä»¤è¡Œç™»é™†ã€‚</h2><p>å‘½ä»¤<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker login -u [è´¦å·åå­—]   #ç™»é™†å‘½ä»¤</span><br><span class="line">docker out                  #é€€å‡ºå‘½ä»¤</span><br><span class="line">docker push è´¦å·/å®¹å™¨åå­—ï¼šç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure><br>çœ‹åˆ°Lgin Succeededï¼Œå°±è¡¨ç¤ºæˆ‘ä»¬ç™»é™†æˆåŠŸäº†ã€‚</p><h4 id="3ã€æ„å»ºé•œåƒã€‚"><a href="#3ã€æ„å»ºé•œåƒã€‚" class="headerlink" title="3ã€æ„å»ºé•œåƒã€‚"></a>3ã€æ„å»ºé•œåƒã€‚</h4><h5 id="1ã€åˆ›å»ºå·¥ä½œç›®å½•ã€‚"><a href="#1ã€åˆ›å»ºå·¥ä½œç›®å½•ã€‚" class="headerlink" title="1ã€åˆ›å»ºå·¥ä½œç›®å½•ã€‚"></a>1ã€åˆ›å»ºå·¥ä½œç›®å½•ã€‚</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir dockerfile</span><br><span class="line">cd dockerfile</span><br><span class="line">ls</span><br></pre></td></tr></table></figure><h5 id="2ã€ç¼–å†™dockerfileã€‚"><a href="#2ã€ç¼–å†™dockerfileã€‚" class="headerlink" title="2ã€ç¼–å†™dockerfileã€‚"></a>2ã€ç¼–å†™dockerfileã€‚</h5><p>é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“å®˜æ–¹é»˜è®¤çš„é•œåƒï¼Œæ¯”å¦‚centosé•œåƒé‡Œé¢ï¼Œæ²¡æœ‰vimã€ipconfigç­‰å‘½ä»¤ï¼Œæˆ‘ä»¬å°±åŸºäºæ­¤ï¼Œåˆ›å»ºæ­¤é•œåƒã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim mydockerfile</span><br></pre></td></tr></table></figure><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FORM centos</span><br><span class="line"><span class="keyword">MAINTAINER</span> ydk&lt;<span class="number">123</span>@qq.com&gt;</span><br><span class="line"><span class="keyword">ENV</span> MYPATH /usr/local</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> <span class="variable">$MYPATH</span></span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> yum -y install vim-enhanced</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> yum -y install net-tools</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="built_in">echo</span> <span class="comment">#MYPATH</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;------------END-------------&quot;</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> /bin/bash</span></span><br></pre></td></tr></table></figure><h5 id="3ã€æ„å»ºdockerfileã€‚"><a href="#3ã€æ„å»ºdockerfileã€‚" class="headerlink" title="3ã€æ„å»ºdockerfileã€‚"></a>3ã€æ„å»ºdockerfileã€‚</h5><p>docker build å‘½ä»¤ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -f mydockerfile-t mycentos:<span class="number">1.0</span> .</span><br></pre></td></tr></table></figure></p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±åˆ¶ä½œå¥½äº†æˆ‘ä»¬è‡ªå·±çš„é•œåƒï¼Œè™½ç„¶å®ƒå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚<br>è¿™é‡Œæˆ‘ä»¬å†å¯åŠ¨æˆ‘ä»¬è‡ªå·±åˆ¶ä½œçš„é•œåƒï¼Œè¿›å»çœ‹çœ‹æˆ‘ä»¬å†™çš„dockerfileéƒ½ç”Ÿæ•ˆäº†æ²¡æœ‰ã€‚<br>æ³¨ï¼šä¸åŠ æ ‡ç­¾<strong>é»˜è®¤æ˜¯latest</strong>ï¼Œæ‰€ä»¥docker runçš„æ—¶å€™è¦å¸¦ä¸Šé•œåƒæ ‡ç­¾ã€‚<br>åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<strong>docker history</strong>å‘½ä»¤æ¥è¿›ä¸€æ­¥éªŒè¯dockerfileçš„æ„å»ºè¿‡ç¨‹ã€‚</p><h5 id="4ã€æ¨é€é•œåƒè‡³docker-hubã€‚"><a href="#4ã€æ¨é€é•œåƒè‡³docker-hubã€‚" class="headerlink" title="4ã€æ¨é€é•œåƒè‡³docker hubã€‚"></a>4ã€æ¨é€é•œåƒè‡³docker hubã€‚</h5><p>å®˜æ–¹æ–‡æ¡£è¦æ±‚ï¼Œæˆ‘ä»¬æ¨é€çš„é•œåƒåå­—å¿…é¡»æ˜¯<strong>YOUR_DOCKER_HUB_ID/XXXX</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™é•œåƒæ¢ä¸€ä¸ªåå­—<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker tag  mycentos/<span class="number">1.0</span> è‡ªå·±çš„è´¦å·åå­—/mytomcat </span><br><span class="line">docker push è‡ªå·±çš„è´¦å·åå­—/mytomcat </span><br></pre></td></tr></table></figure><br>é•œåƒæœ‰ç‚¹å¤§ï¼Œæ‰€ä»¥è¯·è€å¿ƒç­‰å¾…ä¸€ä¸‹ã€‚ç­‰äº†å‡ åˆ†é’Ÿä¹‹åï¼Œæˆ‘ä»¬ç™»é™†docker hubå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšæ¨é€ä¸Šå»çš„é•œåƒå•¦ï¼Œè¿™ä¸ªé•œåƒå¯æ˜¯å…¨ä¸–ç•Œäººæ°‘éƒ½çœ‹å¾—åˆ°çš„å“¦ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å°æ¿€åŠ¨å‘¢ï¼</p><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><h3 id="åã€Dockerç½‘ç»œã€‚"><a href="#åã€Dockerç½‘ç»œã€‚" class="headerlink" title="åã€Dockerç½‘ç»œã€‚"></a>åã€Dockerç½‘ç»œã€‚</h3></div></div><h3 id="1ã€æœ¬æœºç½‘ç»œç†è§£ã€‚"><a href="#1ã€æœ¬æœºç½‘ç»œç†è§£ã€‚" class="headerlink" title="1ã€æœ¬æœºç½‘ç»œç†è§£ã€‚"></a>1ã€æœ¬æœºç½‘ç»œç†è§£ã€‚</h3><p>æˆ‘ä»¬ä½¿ç”¨ifconfigå¯ä»¥çœ‹åˆ°ä¸‰ç»„ç½‘ç»œã€‚<br>é¦–å…ˆæ˜¯docker0ï¼Œè¿™æ˜¯æˆ‘ä»¬æœ¬èŠ‚çš„é‡ç‚¹ï¼Œdockerçš„ç½‘ç»œã€‚ä¹‹åæ˜¯eth0ï¼Œæœ¬æœºçš„å¤–ç½‘åœ°å€ã€‚loå£ï¼Œæœ¬åœ°ç¯å›åœ°å€ï¼Œå¯ä»¥ä»£è¡¨localhostã€‚<br>å…³äºdocker0å‘¢ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå«docker0çš„è™šæ‹Ÿç½‘æ¡¥ã€‚æˆ‘ä»¬ä½¿ç”¨brctlå‘½ä»¤æ¥æŸ¥çœ‹ä¸€ä¸‹ã€‚ï¼ˆæ²¡æœ‰è¿™ä¸ªå‘½ä»¤çš„ä¸‹è½½<strong>yum -y install bridge-utils</strong>ï¼‰<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brctl show </span><br></pre></td></tr></table></figure></p><h3 id="2ã€æ¸…ç©ºæœ¬æœºdockerç¯å¢ƒã€‚"><a href="#2ã€æ¸…ç©ºæœ¬æœºdockerç¯å¢ƒã€‚" class="headerlink" title="2ã€æ¸…ç©ºæœ¬æœºdockerç¯å¢ƒã€‚"></a>2ã€æ¸…ç©ºæœ¬æœºdockerç¯å¢ƒã€‚</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f $(docker ps -aq)</span><br><span class="line">docker rmi -f $(docker images -aq)</span><br></pre></td></tr></table></figure><h3 id="3ã€veth-pairæŠ€æœ¯ã€‚"><a href="#3ã€veth-pairæŠ€æœ¯ã€‚" class="headerlink" title="3ã€veth-pairæŠ€æœ¯ã€‚"></a>3ã€veth-pairæŠ€æœ¯ã€‚</h3><p>ä»€ä¹ˆæ˜¯veth-pairæŠ€æœ¯ï¼Ÿè¦ç†è§£å®ƒï¼Œæˆ‘ä»¬é¦–å…ˆæ¥å¯åŠ¨ä¸¤ä¸ªtomcatå®¹å™¨ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P --name=tomcat01 tomcat:<span class="number">7</span></span><br><span class="line">docker run -d -P --name=tomcat02 tomcat:<span class="number">7</span></span><br><span class="line">æç¤ºï¼šé€‰æ‹©tomcat7æ˜¯å› ä¸ºè¿™ä¸ªé•œåƒåŒ…å«äº†ip addr ç­‰å¸¸ç”¨å‘½ä»¤ï¼</span><br></pre></td></tr></table></figure><br>å¯åŠ¨æœºå™¨ä¹‹åï¼Œæˆ‘ä»¬æŸ¥çœ‹å®¹å™¨ipï¼Œé€šè¿‡å®¹å™¨çš„ip  å»pingå®¿ä¸»æœºipï¼Œå‘ç°æ˜¯é€šçš„ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it tomcat01 ip addr</span><br></pre></td></tr></table></figure><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping <span class="number">172.17</span><span class="number">.0</span><span class="number">.3</span></span><br></pre></td></tr></table></figure><br>ç†è§£ï¼šæˆ‘ä»¬æ¯å¯åŠ¨ä¸€ä¸ªdockerå®¹å™¨ï¼Œdockerå°±ä¼šç»™dockerå®¹å™¨åˆ†é…ä¸€ä¸ªipï¼Œå®‰è£…dockerä¹‹åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå«docker0çš„ç½‘å¡ï¼Œè¿™é‡Œä½¿ç”¨çš„å°±æ˜¯<strong>veth-pairæŠ€æœ¯</strong>ã€‚</p><p>ä½¿ç”¨ip addrå‘½ä»¤ï¼ŒæŸ¥çœ‹æˆ‘ä»¬çš„ç½‘å¡ã€‚<br>æˆ‘ä»¬å‘ç°å¤šå‡ºæ¥äº†ä¸¤ä¸ªç½‘å¡ï¼Œåˆ°äº†è¿™é‡Œï¼Œä½ å·²ç»çŸ¥é“è¿™ä¸¤å¼ ç½‘å¡æ˜¯é‚£é‡Œæ¥çš„äº†å§ã€‚æ²¡é”™ï¼Œæ˜¯å¯åŠ¨å®¹å™¨ä¹‹åäº§ç”Ÿçš„ï¼æˆ‘ä»¬å›è¿‡å¤´æ¥æŸ¥çœ‹æˆ‘ä»¬åœ¨å¯åŠ¨çš„å®¹å™¨IPï¼Œå°±ä¼šå¾ˆæ¸…æ™°çš„å‘ç°ï¼Œè¿™ä¸ªç½‘å¡æ˜¯æˆå¯¹å­˜åœ¨çš„ï¼å®¹å™¨å†…çš„64å¯¹åº”ç€å®¿ä¸»æœºçš„65ï¼Œå®¹å™¨å†…çš„66å¯¹åº”å®¿ä¸»æœºçš„67ã€‚</p><p>ä»€ä¹ˆæ˜¯==veth-pairï¼Ÿ==<br>veth-pair å°±æ˜¯ä¸€å †çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œä»–ä»¬éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¸€ç«¯è¿æ¥ç€åè®®ï¼Œä¸€ç«¯è¿æ¥ç€å½¼æ­¤ã€‚ä½¿å¾—å®ƒå……å½“äº†ä¸€ä¸ªæ¡¥æ¢çš„ä½œç”¨ã€‚</p><h3 id="4ã€dockerç½‘ç»œè¯¦è§£ã€‚"><a href="#4ã€dockerç½‘ç»œè¯¦è§£ã€‚" class="headerlink" title="4ã€dockerç½‘ç»œè¯¦è§£ã€‚"></a>4ã€dockerç½‘ç»œè¯¦è§£ã€‚</h3><p>æˆ‘ä»¬æ¥ç»˜åˆ¶ä¸€ä¸ªç®€å•çš„ç½‘ç»œæ¨¡å‹ï¼Œè¿™æ ·veth-pairçš„ä½œç”¨å°±æ¸…æ™°æ˜äº†äº†ã€‚<br>ä¸éš¾çœ‹å‡ºï¼Œtomcat01å’Œtomcat02æ˜¯å…±ç”¨çš„åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œå³docker0ã€‚æ‰€æœ‰çš„å®¹å™¨åœ¨ä¸æŒ‡å®šæˆ‘ç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯docker0è·¯ç”±çš„ï¼Œdocekrä¼šç»™æˆ‘ä»¬çš„å®¹å™¨åˆ†é…ä¸€ä¸ªé»˜è®¤IPã€‚<br>dockerç½‘ç»œå°±æ˜¯ä¸‹é¢è¿™ä¸ªç½‘ç»œæ¨¡å‹æ‰€æè¿°çš„ã€‚ï¼ˆdockeræ‰€æœ‰çš„ç½‘ç»œæ¥å£éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œè™šæ‹Ÿçš„è½¬å‘æ•ˆç‡é«˜ï¼‰</p><h4 id="5ã€dockerç½‘ç»œæ¨¡å¼ã€‚"><a href="#5ã€dockerç½‘ç»œæ¨¡å¼ã€‚" class="headerlink" title="5ã€dockerç½‘ç»œæ¨¡å¼ã€‚"></a>5ã€dockerç½‘ç»œæ¨¡å¼ã€‚</h4><h5 id="1ã€dockerç½‘ç»œæ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š"><a href="#1ã€dockerç½‘ç»œæ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š" class="headerlink" title="1ã€dockerç½‘ç»œæ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š"></a>1ã€dockerç½‘ç»œæ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</h5><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Host</span>ï¼šå®¹å™¨ä¸ä¼šè™šæ‹Ÿå‡ºè‡ªå·±çš„ç½‘å¡ï¼Œé…ç½®ä¸»æœºçš„<span class="built_in">IP</span>ç­‰,è€Œæ˜¯ä½¿ç”¨å®¿ä¸»æœºçš„<span class="built_in">IP</span>å’Œç«¯å£</span><br><span class="line"></span><br><span class="line"><span class="symbol">Container:</span> åˆ›å»ºçš„å®¹å™¨ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ç½‘å¡ï¼Œé…ç½®è‡ªå·±çš„<span class="built_in">IP</span>ï¼Œè€Œæ˜¯å’Œä¸€ä¸ªæŒ‡å®šçš„å®¹å™¨å…±äº«<span class="built_in">IP</span>ã€‚ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="symbol">None:</span> è¯¥æ¨¡å¼å…³é—­äº†å®¹å™¨çš„ç½‘ç»œåŠŸèƒ½ã€‚ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="symbol">Bridge</span>ï¼šé»˜è®¤ä¸ºè¯¥æ¨¡å¼ï¼ˆæ¡¥æ¥ï¼Œè‡ªå·±åˆ›å»ºä¹Ÿæ˜¯ç”¨å®ƒï¼‰ï¼Œæ­¤æ¨¡å¼ä¼šä¸ºæ¯ä¸€ä¸ªå®¹å™¨åˆ†é…ï¼Œè®¾ç½®<span class="built_in">IP</span>ç­‰ï¼Œå¹¶å°†å®¹å™¨è¿æ¥åˆ°ä¸€ä¸ªdocker0 çš„è™šæ‹Ÿç½‘æ¡¥ï¼Œé€šè¿‡docker <span class="number">0</span> ç½‘æ¡¥ä»¥åŠiptables nat è¡¨é…ç½®ä¸å®¿ä¸»æœºé€šä¿¡ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network ls   #åˆ—å‡ºdockerç½‘å¡</span><br></pre></td></tr></table></figure><h5 id="2ã€åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œçš„å®¹å™¨ï¼š"><a href="#2ã€åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œçš„å®¹å™¨ï¼š" class="headerlink" title="2ã€åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œçš„å®¹å™¨ï¼š"></a>2ã€åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œçš„å®¹å™¨ï¼š</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘ä»¬ç›´æ¥å¯åŠ¨å‘½ä»¤ï¼Œ --net bridgeï¼Œå°±æ˜¯docker0ï¼ˆé»˜è®¤ï¼‰</span><br><span class="line">docker run -d -P --name=tomcat01 --net bridge tomcat</span><br><span class="line"></span><br><span class="line">docker0ç‰¹ç‚¹ï¼šé»˜è®¤ï¼ŒåŸŸåä¸èƒ½è®¿é—®ï¼Œ--linkä¸å»ºè®®ä½¿ç”¨</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬è‡ªå·±æ¥åˆ›å»ºä¸€ä¸ªbridgeã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker network create --driver bridge --subnet <span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">24</span> --gateway <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span> testnet</span><br><span class="line"></span><br><span class="line">docekr network ls</span><br></pre></td></tr></table></figure><br>åªéœ€è¦ä¸¤æ¡å‘½ä»¤ï¼Œä½ å°±åˆ›å»ºå®Œäº†è‡ªå·±çš„ç½‘ç»œï¼<br>è¿™é‡Œåœ¨æ•™å¤§å®¶ä¸€æ¡å‘½ä»¤ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network inspect ç½‘å¡åå­—  #æŸ¥çœ‹ç½‘å¡è¯¦ç»†ä¿¡æ¯</span><br></pre></td></tr></table></figure></p><h5 id="3ã€å‘å¸ƒä¸¤ä¸ªåœ¨è‡ªå·±åˆ›å»ºçš„ç½‘ç»œé‡Œçš„å®¹å™¨ã€‚"><a href="#3ã€å‘å¸ƒä¸¤ä¸ªåœ¨è‡ªå·±åˆ›å»ºçš„ç½‘ç»œé‡Œçš„å®¹å™¨ã€‚" class="headerlink" title="3ã€å‘å¸ƒä¸¤ä¸ªåœ¨è‡ªå·±åˆ›å»ºçš„ç½‘ç»œé‡Œçš„å®¹å™¨ã€‚"></a>3ã€å‘å¸ƒä¸¤ä¸ªåœ¨è‡ªå·±åˆ›å»ºçš„ç½‘ç»œé‡Œçš„å®¹å™¨ã€‚</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P --name=tomcat01-net --net=testnet tomcat:<span class="number">7</span></span><br><span class="line">docker run -d -P --name=tomcat02-net --net testnet tomcat:<span class="number">7</span></span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨docker network inspect testnetï¼Œå°±å¯ä»¥çœ‹åˆ°åˆšæ‰åˆ›å»ºçš„è¿™ä¸¤ä¸ªå®¹å™¨çš„IPäº†ã€‚<br>è¿˜è®°å¾—æˆ‘ä»¬å‰é¢è¯´çš„docker0çš„ç¼ºç‚¹ä¹‹ä¸€ï¼Œä¸èƒ½é€šè¿‡åŸŸåè®¿é—®å—ï¼Ÿè€Œæˆ‘ä»¬è‡ªå®šä¹‰çš„ç½‘ç»œï¼Œå°±ä¿®å¤äº†è¿™ä¸ªåŠŸèƒ½ï¼<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it tomcat01-net ping -c <span class="number">3</span> IP</span><br><span class="line">docker exec -it tomcat01-net ping -c <span class="number">3</span> tomcat02-net</span><br><span class="line"></span><br><span class="line">æç¤ºï¼Œping -cå¯ä»¥è‡ªå®šä¹‰pingçš„æ¬¡æ•°</span><br></pre></td></tr></table></figure></p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼“å­˜åŠ é€ŸæœåŠ¡å™¨Varnishçš„æ­å»ºä¼˜åŒ–</title>
      <link href="/posts/6373edb1.html"/>
      <url>/posts/6373edb1.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-å˜é‡ç±»å‹"><a href="#1-å˜é‡ç±»å‹" class="headerlink" title="1.å˜é‡ç±»å‹"></a>1.å˜é‡ç±»å‹</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å†…å»ºå˜é‡ï¼š</span><br><span class="line">req.*:requestè¡¨ç¤ºç”±å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚æŠ¥æ–‡</span><br><span class="line">req.http.*</span><br><span class="line">req.http.User-Agent,req.http.Rederer,...</span><br><span class="line"><span class="keyword">bereq.*</span>ç”±varnishå‘å¾€<span class="keyword">BEä¸»æœºçš„httpdè¯·æ±‚ç›¸å…³</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">bereq.http.*</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">beresp.*</span>ç”±<span class="keyword">BEä¸»æœºå“åº”ç»™varnishçš„å“åº”æŠ¥æ–‡ç›¸å…³</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">beresp.http.*</span></span><br><span class="line"><span class="keyword"></span>resp.*ç”±varnishå“åº”ç»™clientç›¸å…³</span><br><span class="line">obj.*å­˜å‚¨åœ¨ç¼“å­˜ç©ºé—´ä¸­çš„ç¼“å­˜å¯¹è±¡çš„å±æ€§(åªè¯»)</span><br></pre></td></tr></table></figure><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">å¸¸ç”¨å˜é‡ï¼š</span><br><span class="line"><span class="keyword">bereq.*, </span>req.*ï¼š</span><br><span class="line"><span class="keyword">bereq.http.HEADERS</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">bereq.requestï¼šè¯·æ±‚æ–¹æ³•ï¼›</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">bereq.urlï¼šè¯·æ±‚çš„urlï¼›</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">bereq.protoï¼šè¯·æ±‚çš„åè®®ç‰ˆæœ¬ï¼›</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">bereq.backendï¼šæŒ‡æ˜è¦è°ƒç”¨çš„åç«¯ä¸»æœºï¼›</span></span><br><span class="line">req.http.Cookieï¼šå®¢æˆ·ç«¯çš„è¯·æ±‚æŠ¥æ–‡ä¸­Cookieé¦–éƒ¨çš„å€¼ï¼› </span><br><span class="line">req.http.User-Agent ~ <span class="string">&quot;chrome&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">beresp.*, </span>resp.*ï¼š</span><br><span class="line"><span class="keyword">beresp.http.HEADERS</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">beresp.statusï¼šå“åº”çš„çŠ¶æ€ç ï¼›</span></span><br><span class="line"><span class="keyword"></span>reresp.protoï¼šåè®®ç‰ˆæœ¬ï¼›</span><br><span class="line"><span class="keyword">beresp.backend.nameï¼šBEä¸»æœºçš„ä¸»æœºåï¼›</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">beresp.ttlï¼šBEä¸»æœºå“åº”çš„å†…å®¹çš„ä½™ä¸‹çš„å¯ç¼“å­˜æ—¶é•¿ï¼›</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line">obj.*</span><br><span class="line">obj.hitsï¼šæ­¤å¯¹è±¡ä»ç¼“å­˜ä¸­å‘½ä¸­çš„æ¬¡æ•°ï¼›</span><br><span class="line">obj.ttlï¼šå¯¹è±¡çš„ttlå€¼</span><br><span class="line">server.*</span><br><span class="line">server.ip</span><br><span class="line">server.hostname</span><br><span class="line">client.*</span><br><span class="line">client.ip</span><br></pre></td></tr></table></figure><h3 id="Command"><a href="#Command" class="headerlink" title="Command."></a>Command.</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-s  [name=]type,[options]   <span class="regexp">//</span>è®¾ç½®varnishçš„ç¼“å­˜æœºåˆ¶(Storage Types):</span><br><span class="line"></span><br><span class="line">malloc[,size]   <span class="regexp">//</span>å†…å­˜å­˜å‚¨,[size]ç”¨äºå®šä¹‰ç©ºé—´å¤§å°(é‡å¯åæ‰€æœ‰ç¼“å­˜å¤±æ•ˆ)</span><br><span class="line"></span><br><span class="line">file[,path,[size[,granularlty]]] <span class="regexp">//</span>ç£ç›˜å­˜å‚¨,é»‘ç›’ï¼›(é‡å¯å¤±æ•ˆ)<span class="regexp">//</span>å»ºè®®</span><br><span class="line"></span><br><span class="line">perslstent,path,size  <span class="regexp">//</span>æ–‡ä»¶å­˜å‚¨,é»‘ç›’ï¼›(é‡å¯åç¼“å­˜æœ‰æ•ˆ) <span class="regexp">//</span>(å®éªŒ)</span><br></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">varnishç¨‹åºçš„é€‰é¡¹ï¼š</span><br><span class="line">ç¨‹åºé€‰é¡¹ï¼š /etc/varnish/varnish.paramsæ–‡ä»¶</span><br><span class="line">-<span class="selector-tag">a</span>  <span class="selector-tag">address</span><span class="selector-attr">[:port]</span><span class="selector-attr">[,address[:port]</span>]<span class="selector-attr">[...]</span> é»˜è®¤ç«¯å£ä¸º<span class="number">6081</span></span><br><span class="line">-T<span class="selector-tag">address</span><span class="selector-attr">[:port]</span> é»˜è®¤ç«¯å£ä¸º<span class="number">6082</span></span><br><span class="line">-s<span class="selector-attr">[name=]</span>type<span class="selector-attr">[,options]</span> å®šä¹‰ç¼“å­˜å­˜å‚¨æœºåˆ¶</span><br><span class="line">-uuser</span><br><span class="line">-ggroup</span><br><span class="line">-fconfigVCLé…ç½®æ–‡ä»¶</span><br><span class="line">-Fè¿è¡Œäºå‰å°</span><br><span class="line">...</span><br><span class="line">è¿è¡Œæ—¶å‚æ•°ï¼š /etc/varnish/varnish.paramsæ–‡ä»¶,DEAMON_OPTS</span><br><span class="line">DAEMON_OPTS=<span class="string">&quot;-p thread_pool_min=5 -p thread_pool_max=500 -p thread_pool_timeout=300&quot;</span></span><br><span class="line">-<span class="selector-tag">p</span>param=value:è®¾å®šè¿è¡Œå‚æ•°åŠå…¶å€¼ï¼›å¯é‡å¤ä½¿ç”¨å¤šæ¬¡</span><br><span class="line">-rparam<span class="selector-attr">[,param...]</span>:è®¾å®šæŒ‡å®šçš„å‚æ•°ä¸ºåªè¯»çŠ¶æ€</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">varnishadm -S /etc/varnish/secret -T 127.0.0.1:6082</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">&gt; vcl.list    <span class="comment">#æŸ¥çœ‹å·²æœ‰ç­–ç•¥ç»„</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">&gt; vcl.use xxx  <span class="comment">#ä½¿ç”¨å·²æœ‰çš„ç­–ç•¥ç»„</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">&gt; vcl.load ç»„å /etc/varnish/default.vcl  <span class="comment">#ä»æ–‡ä»¶åŠ è½½ç­–ç•¥ç»„</span></span></span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># yum install varnish -y</span></span><br><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># cd /etc/varnish</span></span><br><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># vim varnish.params</span></span><br><span class="line">VARNISH_LISTEN_PORT=<span class="number">80</span> <span class="meta">#æŠŠé»˜è®¤å€¼ä¿®æ”¹ä¸º80</span></span><br><span class="line"></span><br><span class="line">VARNISH_STORAGE=<span class="string">&quot;file,/data/varnish.db,10g&quot;</span>   <span class="meta">#ä¿®æ”¹ç¼“å­˜ç­–ç•¥,æŒ‡å®šç¼“å­˜æ–‡ä»¶ä¸º/data/varnish.dbï¼Œé™åˆ¶å†…å­˜ä¸º10g</span></span><br><span class="line"></span><br><span class="line">ä¿å­˜</span><br><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># systemctl enable --now varnish</span></span><br><span class="line"><span class="meta">#è¿™ä¸ªæ—¶å€™æœåŠ¡èµ·æ¥äº†ä½†æ˜¯è®¿é—®localhostæ˜¯ä¼šæ˜¾ç¤ºé”™è¯¯çš„ï¼Œå› ä¸ºvclè¿˜æ²¡è®¾ç½®</span></span><br><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># vim /etc/varnish/default.vcl</span></span><br><span class="line">backend <span class="literal">default</span> &#123;</span><br><span class="line">    .host = <span class="string">&quot;WEBæœåŠ¡å™¨çš„IP&quot;</span>;</span><br><span class="line">    .port = <span class="string">&quot;WEBæœåŠ¡å™¨ç«¯å£&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># varnish_reload_vcl</span></span><br><span class="line">[<span class="meta">root@ varnish</span>]<span class="meta"># varnishadm -S /etc/varnish/secret -T 127.0.0.1:6082 //è¿›å…¥å‘½ä»¤è¡Œ</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç­›é€‰è§„åˆ™å†™åœ¨default.vclä¸­çš„sub vcl_deliveræ®µ</p></div><h2 id="exampleï¼š"><a href="#exampleï¼š" class="headerlink" title="exampleï¼š"></a>exampleï¼š</h2><h4 id="1-ç®€å•cacheæœåŠ¡å™¨æ­å»º"><a href="#1-ç®€å•cacheæœåŠ¡å™¨æ­å»º" class="headerlink" title="1.ç®€å•cacheæœåŠ¡å™¨æ­å»º"></a>1.ç®€å•cacheæœåŠ¡å™¨æ­å»º</h4><div class="table-container"><table><thead><tr><th style="text-align:center">HOSTNAME</th><th style="text-align:center">IP</th><th style="text-align:center">GATEWAY</th></tr></thead><tbody><tr><td style="text-align:center">cache</td><td style="text-align:center">10.10.0.10,192.168.222.236</td><td style="text-align:center">10.10.0.2,192.168.222.2</td></tr><tr><td style="text-align:center">client</td><td style="text-align:center">10.10.0.20</td><td style="text-align:center">10.10.0.10</td></tr><tr><td style="text-align:center">web</td><td style="text-align:center">192.168.222.232</td><td style="text-align:center">192.168.222.236</td></tr></tbody></table></div><div class="note default orange simple"><p>cacheä¹Ÿç±»ä¼¼åšäº†ä¸€ä¸ªè·¯ç”±å™¨çš„ä½œç”¨ï¼ˆæ‰€ä»¥éœ€è¦æ‰“å¼€è·¯ç”±è½¬å‘åŠŸèƒ½ï¼‰</p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># sed -i &#x27;$anet.ipv4.ip_forward = 1&#x27; &gt;&gt; /etc/sysctl.conf</span></span><br><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># sysctl -p</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>é…ç½®ä¸€ä¸ªç®€å•çš„WebæœåŠ¡å™¨</p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ web</span>]<span class="meta"># yum install -y httpd</span></span><br><span class="line"><span class="meta"># éšä¾¿å¾€/var/www/htmlé‡Œé¢æ‰”ç‚¹ç½‘é¡µæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>é…ç½®cacheæœåŠ¡å™¨</p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># yum install -y varnish</span></span><br><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># mkdir -p /data/cache</span></span><br><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># cd /etc/varnish</span></span><br><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># vim varnish.params   //ä¿®æ”¹ä»¥ä¸‹ä¸¤é¡¹ä¸º</span></span><br><span class="line">VARNISH_LISTEN_PORT=<span class="number">80</span></span><br><span class="line">VARNISH_STORAGE=<span class="string">&quot;file,/data/cache,10g&quot;</span>   <span class="comment">//ç¼“å­˜ç­–ç•¥æ”¹ä¸ºfileå­˜å‚¨,æŒ‡å®šç›®å½•,å­˜å‚¨ç©ºé—´</span></span><br><span class="line">[<span class="meta">root@ cache</span>]<span class="meta"># vim /etc/varnish/default.vcl  //ä¿®æ”¹ä¸¤é¡¹ä¸º</span></span><br><span class="line">backend <span class="literal">default</span> &#123;</span><br><span class="line">    .host = <span class="string">&quot;web&quot;</span>;</span><br><span class="line">    .port = <span class="string">&quot;80&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#æ·»åŠ è¿”å›å“åº”åœ¨sub vcl_deliveræ®µ</span></span><br><span class="line">sub vcl_deliver &#123;</span><br><span class="line"><span class="keyword">if</span> (obj.hits&gt;<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">set</span> resp.http.X-Cache = <span class="string">&quot;HIT cache &quot;</span> + server.ip;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">set</span> resp.http.X-Cache = <span class="string">&quot;MISS cache &quot;</span> + server.ip;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@ cache]<span class="meta"># systemctl start varnish</span></span><br><span class="line">[root@ cache]<span class="meta"># varnishadm -S /etc/varnish/secret -T 127.0.0.1:6082</span></span><br><span class="line"><span class="meta">#&gt; vcl.list  <span class="comment">//æŸ¥çœ‹å½“å‰ä½¿ç”¨å’Œæ‹¥æœ‰çš„ç­–ç•¥ç»„</span></span></span><br><span class="line"><span class="meta">#&gt; vcl.load t1 /etc/varnish/default.vcl   <span class="comment">//ä»æ–‡ä»¶è½½å…¥ç­–ç•¥ç»„</span></span></span><br><span class="line"><span class="meta">#&gt; vcl.use t1   <span class="comment">//ä½¿ç”¨t1ç­–ç•¥ç»„</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å·²ç»å¯ä»¥å°è¯•æµè§ˆå™¨è®¿é—®10.10.0.10äº†ï¼Œä½¿ç”¨F12æŸ¥çœ‹ç¼“å­˜çš„å‘½ä¸­ï¼ŒçŠ¶æ€ç 304å³æ˜¯å·²ç¼“å­˜å“åº”ï¼Œç¬¬äºŒæ¬¡è®¿é—®å¯çœ‹åˆ°X-Cache: Hit cache 192.168.222.232</p></div><h4 id="2-è®¾ç½®ä¸è¢«å‘½ä¸­è§„åˆ™"><a href="#2-è®¾ç½®ä¸è¢«å‘½ä¸­è§„åˆ™" class="headerlink" title="2.è®¾ç½®ä¸è¢«å‘½ä¸­è§„åˆ™"></a>2.è®¾ç½®ä¸è¢«å‘½ä¸­è§„åˆ™</h4><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@ web]# mkdir <span class="regexp">/var/</span>www<span class="regexp">/html/</span>&#123;admin,login&#125;</span><br><span class="line">[root@ web]# echo <span class="string">&quot;login sucessful&quot;</span> &gt; <span class="regexp">/var/</span>www<span class="regexp">/html/</span>login/index.html</span><br><span class="line">[root@ web]# echo <span class="string">&quot;admin varnish test&quot;</span> &gt; <span class="regexp">/var/</span>www<span class="regexp">/html/</span>admin/index.html</span><br><span class="line"></span><br><span class="line">[root@ cache]# vim <span class="regexp">/etc/</span>varnish/<span class="keyword">default</span>.vcl</span><br><span class="line">#åœ¨sub vcl_recvæ®µåŠ ä¸Šå‘½ä¸­è§„åˆ™,è®©adminå’Œloginè·¯å¾„ä¸è¿›è¡Œç¼“å­˜</span><br><span class="line">sub vcl_recv &#123;</span><br><span class="line"><span class="keyword">if</span> (req.url ~ <span class="string">&quot;(?i)^/(login|admin)&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>(pass);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ cache]# varnishadm -S <span class="regexp">/etc/</span>varnish/secret -T <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">6082</span></span><br><span class="line">#&gt; vcl.load t2 <span class="regexp">/etc/</span>varnish/<span class="keyword">default</span>.vcl</span><br><span class="line">#&gt; vcl.use t2</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>è¿›å…¥æµè§ˆå™¨æ‰“å¼€F12è®¿é—®<a href="http://10.10.0.10/adminæˆ–è€…http://10.10.0.10/login,å¤šæ¬¡åˆ·æ–°å‘ç°éƒ½æ²¡æœ‰ç¼“å­˜">http://10.10.0.10/adminæˆ–è€…http://10.10.0.10/login,å¤šæ¬¡åˆ·æ–°å‘ç°éƒ½æ²¡æœ‰ç¼“å­˜</a></p></div><div class="note default orange simple"><p>æ˜¾ç¤ºX-Cache: MISS cache10.10.0.50  //æœªå‘½ä¸­</p></div><p>â€¦æŒç»­æ›´æ–°ä¸­<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LVSç®€å•æ­å»ºä½¿ç”¨</title>
      <link href="/posts/115d8f31.html"/>
      <url>/posts/115d8f31.html</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th style="text-align:center">192.168.222.236(DIP) ,10.10.0.10(VIP)</th><th style="text-align:center">lvs</th><th style="text-align:center">lvs</th></tr></thead><tbody><tr><td style="text-align:center">192.168.222.232(RIP)</td><td style="text-align:center">rs1</td><td style="text-align:center">ceph1</td></tr><tr><td style="text-align:center">192.168.222.233 (RIP)</td><td style="text-align:center">rs2</td><td style="text-align:center">ceph2</td></tr><tr><td style="text-align:center">192.168.222.237  ,10.10.0.20(CIP)</td><td style="text-align:center">client</td><td style="text-align:center">client</td></tr></tbody></table></div><div class="note default orange simple"><p>äº†è§£ï¼šLVSæ˜¯åŸºäºOSIæ¨¡å‹çš„å†…æ ¸å±‚çš„ä¸‹å››å±‚ï¼Œä¹Ÿæ˜¯é™„ç€ä¸netfilterçš„inputç»ƒä¸Š</p></div><h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>1.æœºå™¨å‡†å¤‡</p></div></div><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat &gt; /etc/hosts &lt;&lt;END</span><br><span class="line"><span class="number">192.168.222.232</span> ceph1</span><br><span class="line"><span class="number">192.168.222.233</span> ceph2</span><br><span class="line"><span class="number">192.168.222.236</span> lvs</span><br><span class="line"><span class="number">192.168.222.237</span> client</span><br><span class="line">END</span><br></pre></td></tr></table></figure><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨æ¯å°æœºå™¨ä¸Šä½¿ç”¨<span class="keyword">system</span>.shåˆå§‹åŒ–osç³»ç»Ÿè„šæœ¬ã€‚</span><br><span class="line"># git clone https:<span class="comment">//github.com/linjiangyu2/K.git </span></span><br><span class="line">cd K </span><br><span class="line">./<span class="keyword">system</span>.sh <span class="comment">//ä¾æ¬¡è¾“å…¥DEVICE,IP,HOSTNAME,yes</span></span><br><span class="line">æœ€ååœ¨rsæœºå™¨ä¸Š</span><br><span class="line"># sed -ri <span class="string">&#x27;s/^(GATEWAY=).*/\1192.168.222.236/g&#x27;</span> /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"># systemctl restart network</span><br><span class="line">åœ¨clientæœºå™¨ä¸Š</span><br><span class="line"># sed -ri <span class="string">&#x27;s/^(GATEWAY=).*/\110.10.0.10/g&#x27;</span> /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">åœ¨lvsæœåŠ¡å™¨ä¸Š</span><br><span class="line"># vim /etc/sysctl.conf</span><br><span class="line">net.ipv4.ip_forward = <span class="number">1</span> </span><br><span class="line"># sysctl -p</span><br><span class="line"># sysctl -a | grep <span class="string">&#x27;ip_forward&#x27;</span> <span class="comment">//å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹</span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>2.æ—¶é—´åŒæ­¥</p></div></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨lvsæœåŠ¡å™¨æ­å»ºä¸€ä¸ªntpæœåŠ¡å™¨æˆ–è€…ä½¿ç”¨xinetdæœåŠ¡å™¨ï¼ˆéœ€è¦åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šä¸‹è½½rdate,<span class="built_in">command</span>:rdata lvs)</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>3.åœ¨rsçœŸå®åç«¯æœåŠ¡å™¨ä¸Šæ­å»ºWebæœåŠ¡ç”¨äºæµ‹è¯•</p></div></div><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y nginx</span><br><span class="line">[root@ rs1]# echo <span class="string">&#x27;rs1&#x27;</span> &gt; <span class="regexp">/usr/</span>share<span class="regexp">/nginx/</span>html/index.html</span><br><span class="line">[root@ rs2]# echo <span class="string">&#x27;rs2&#x27;</span> &gt; <span class="regexp">/usr/</span>share<span class="regexp">/nginx/</span>html/index.html</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>4.å¼€å§‹ç®€å•çš„LVSé…ç½®</p></div></div><div class="note default orange simple"><p>å¦‚æœrså’Œclientçš„ç½‘ç»œæ— æ³•è¿é€šå¤–ç½‘çš„è¯ï¼Œéœ€è¦å…ˆifup ens33,è®©å¯è¿é€šå¤–ç½‘çš„lvsç½‘å¡çš„ç½‘å…³å…ˆæˆä¸ºé»˜è®¤çš„ç½‘å…³ï¼Œè®©èŠ‚ç‚¹çš„æœºå™¨å¯ä»¥yumå®‰è£…è½¯ä»¶</p></div><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#å¯ä»¥äº†è§£ä¸€ä¸‹lvsçš„æ¨¡å—ä»¥åŠæ”¯æŒçš„åè®®</span><br><span class="line"># <span class="keyword">grep</span> -i ipvs -C <span class="number">10</span> <span class="regexp">/boot/</span>config*</span><br></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ lvs</span>]<span class="meta"># yum install -y ipvsadm</span></span><br><span class="line">[<span class="meta">root@ lvs</span>]<span class="meta"># ipvsadm -A -t 10.10.0.10:80 -s rr</span></span><br><span class="line">[<span class="meta">root@ lvs</span>]<span class="meta"># ipvsadm -a -t 10.10.0.10:80 -r 192.168.222.232 -m</span></span><br><span class="line">[<span class="meta">root@ lvs</span>]<span class="meta"># ipvsadm -a -t 10.10.0.10:80 -r 192.168.222.233 -m</span></span><br><span class="line">[<span class="meta">root@ lvs</span>]<span class="meta"># ipvsadm -Ln //æŸ¥çœ‹</span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>5.æµ‹è¯•</p></div></div><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[root@ client]</span><span class="comment"># for i in `seq 1 10`;do curl 10.10.0.10;done</span></span><br><span class="line"><span class="comment">#å¯ä»¥çœ‹åˆ°æ˜¾ç¤º5ä¸ªrs1å’Œ5ä¸ªrs2,å®ç°äº†ä¸€ä¸ªå¹³å‡åˆ†é…çš„è´Ÿè½½å‡è¡¡</span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>6.åˆ†é…æƒé‡</p></div></div><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[root@ lvs]</span><span class="comment"># ipvsadm -E -t 10.10.0.10:80 -s wrr   //ä¿®æ”¹è°ƒåº¦ç­–ç•¥</span></span><br><span class="line"><span class="section">[root@ lvs]</span><span class="comment"># ipvsadm -e -t 10.10.0.10:80 -r 192.168.222.232 -m -w 8 //æƒé‡è®¾ç½®ä¸º8</span></span><br><span class="line"><span class="section">[root@ lvs]</span><span class="comment"># ipvsadm -e -t 10.10.0.10:80 -r 192.168,222,233 -m -w 2 //æƒé‡è®¾ç½®ä¸º2</span></span><br><span class="line"><span class="section">[root@ lvs]</span><span class="comment"># ipvsadm -Z   //æ¸…ç©ºè®¡æ•°</span></span><br><span class="line"><span class="section">[root@ lvs]</span><span class="comment"># ipvsadm -Ln --rate  //æŸ¥çœ‹</span></span><br><span class="line"></span><br><span class="line"><span class="section">[root@ client]</span><span class="comment"># for i in `seq 1 10`;do curl 10.10.0.10;done  //æµ‹è¯•</span></span><br><span class="line"><span class="comment">#å¯ä»¥çœ‹åˆ°10ä¸ªè¯·æ±‚ä¸­ï¼Œ8ä¸ªå‘ç»™äº†rs1ï¼Œ2ä¸ªå‘ç»™äº†rs2</span></span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>7.sh(ç±»ä¼¼äºnginxè´Ÿè½½å‡è¡¡upstreamé‡Œé¢çš„hash)</p></div></div><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ipvsadm -E -t 10.10.0.10:80 -s sh</span></span><br><span class="line"><span class="comment"># ipvsadm -Z</span></span><br><span class="line"><span class="comment"># ipvsadm -Ln</span></span><br><span class="line">[root@ client]<span class="comment"># for i in `seq 1 3`;do curl 10.10.0.10;done</span></span><br><span class="line">rs1</span><br><span class="line">rs1</span><br><span class="line">rs1</span><br><span class="line"><span class="keyword">or</span></span><br><span class="line"><span class="keyword"></span>rs2</span><br><span class="line">rs2</span><br><span class="line">rs2</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>8.wlc(DO/weight) //æŒ‰RSæœåŠ¡å™¨çš„è´Ÿè·ï¼Œé€šè¿‡è°ƒåº¦ç®—æ³•åˆ†é…</p></div></div><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># æ‡’å¾—å†™äº†ï¼Œè‡ªå·±æ‚Ÿå§ã€‚</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hadoop+sparkåˆ†å¸ƒå¼æ­å»º</title>
      <link href="/posts/24c5d7d3.html"/>
      <url>/posts/24c5d7d3.html</url>
      
        <content type="html"><![CDATA[<h1 id="hadoop-sparkåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²"><a href="#hadoop-sparkåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²" class="headerlink" title="hadoop+sparkåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²"></a>hadoop+sparkåˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²</h1><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>1.ç¯å¢ƒå‡†å¤‡</p></div></div><div class="note default orange simple"><p>ç¯å¢ƒçš„å‡†å¤‡åŸºäºæˆ‘å†™çš„åˆå§‹åŒ–è„šæœ¬,è‡ªç”¨7.xç³»åˆ—çš„CentOS,è€ç‰ˆæœ¬çš„å°±æ”¯æŒCentOS/Redhat6,7,8ä½†æ˜¯æœ‰ç‚¹ä¸å®Œå–„ï¼Œéœ€è¦å¯ä»¥é‚®ç®±æˆ–è€…åšå®¢ç•™è¨€ã€‚</p></div><div class="table-container"><table><thead><tr><th style="text-align:center">os\ip</th><th style="text-align:center">hostname</th><th style="text-align:center">block</th></tr></thead><tbody><tr><td style="text-align:center">centos7.9 192.168.222.226</td><td style="text-align:center">master</td><td style="text-align:center">rsmanager,datanode,namenode.snamenode,nmanager</td></tr><tr><td style="text-align:center">centos7.9 192.168.222.227</td><td style="text-align:center">node1</td><td style="text-align:center">snamenode,nmnager,datanode</td></tr><tr><td style="text-align:center">centos7.9 192.168.222.228</td><td style="text-align:center">node2</td><td style="text-align:center">datanode,nmanager</td></tr></tbody></table></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/linjiangyu2/K.git   //å¯èƒ½ä¼šæ‹‰ä¸ä¸‹æ¥ï¼Œå¤šæ‹‰å‡ æ¬¡å°±ä¸‹æ¥äº†ï¼Œå› ä¸ºæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨æ˜¯å›½å¤–çš„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> K</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> README.md  //ä¸ä¼šä½¿ç”¨çš„è¦çœ‹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ï¼Œäº†è§£è„šæœ¬éœ€è¦è¾“å…¥çš„é…ç½®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">./ksh  //ä¾æ¬¡è¾“å…¥ä½ è‡ªå·±çš„é…ç½®ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªè„šæœ¬ä¸€å®šè¦çœ‹README.mdæ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœéœ€è¦æœ‰æ—¶å€™æ”¹IPåœ°å€å›¾æ–¹ä¾¿çš„è¯ï¼Œç›´æ¥æŠŠkshè¿™ä¸ªäºŒè¿›åˆ¶çš„è„šæœ¬æ”¾åœ¨/usr/binä¸‹ï¼Œä¾¿å¯ä»¥åœ¨å…¨å±€æ‰§è¡Œäº†</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> ksh /usr/bin/ksh</span></span><br><span class="line">ä½¿ç”¨kshåˆå§‹åŒ–åï¼Œå¼€å§‹é…ç½®</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å¯¹åº”è‡ªå·±çš„IPåœ°å€ï¼Œæœ€å¥½/etc/hostsçš„è§£æåå’Œæˆ‘ä¸€è‡´ï¼Œä¸ç„¶ä¸‹é¢çš„é…ç½®æ–‡ä»¶éœ€è¦è‡ªå·±å¯¹åº”è‡ªå·±çš„è§£æåä¿®æ”¹</p></div><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[master]</span># </span><br><span class="line">cat &gt; /etc/hosts &lt;&lt;END</span><br><span class="line"><span class="number">127.0.0.1</span>   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::<span class="number">1</span>         localhost localhost.localdomain localhost6 </span><br><span class="line"><span class="number">192.168.222.226</span> master</span><br><span class="line"><span class="number">192.168.222.227</span> node1</span><br><span class="line"><span class="number">192.168.222.228</span> node2</span><br><span class="line">END</span><br><span class="line"><span class="string">[master]</span># ssh-keygen -P &#x27;&#x27; -f ~/.ssh/id_rsa</span><br><span class="line"><span class="string">[master]</span># for i in master node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do ssh-copy-id $i;done</span><br><span class="line"><span class="string">[master]</span># for i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do rsync -av /etc/hosts root@$i:/etc/hosts;done</span><br><span class="line"><span class="string">[master]</span># for i in master node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;do ssh $i yum install -y openssl-devel;done</span><br><span class="line"><span class="string">[master]</span># cd /usr/lib64</span><br><span class="line"><span class="string">[master]</span># ln -s libcrypto.so.<span class="number">1</span>.<span class="number">0</span>.2k libcrypto.so</span><br></pre></td></tr></table></figure><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>2.æ­å»º</p></div></div><h4 id="ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…"><a href="#ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…" class="headerlink" title="ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…"></a>ä¸Šä¼ jdkå’Œhadoopçš„taråŒ…</h4><div class="note default orange simple"><p>è¿™é‡Œä½¿ç”¨çš„äºŒè¿›åˆ¶åŒ…</p></div><div class="tag link"><a class="link-card" title="hadoop-2.8.5.tar.gz" href="https://alist.linjiangyu.com/d/Linux/hadoop-2.8.5.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">hadoop-2.8.5.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/hadoop-2.8.5.tar.gz</p></div></a></div><div class="tag link"><a class="link-card" title="jdk-8u212-linux-x64.tar.gz" href="https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz"><div class="left"><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/fa.jpg"/></div><div class="right"><p class="text">jdk-8u212-linux-x64.tar.gz</p><p class="url">https://alist.linjiangyu.com/d/Linux/jdk-8u212-linux-x64.tar.gz</p></div></a></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  [master]<span class="comment"># tar xf hadoop...  //ä¸çŸ¥é“ä½ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œå†™äº†...ï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ï¼Œtabé”®æˆ–è€…å¯¹åº”ä¿®æ”¹å°±å¯ä»¥</span></span><br><span class="line">  <span class="comment"># ...æ˜¯è¡¨ç¤ºæˆ‘ä¸çŸ¥é“ä½ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œè‡ªå·±æ”¹</span></span><br><span class="line">  [root@ master]<span class="comment"># tar xf jdk...</span></span><br><span class="line">  [root@ master]<span class="comment"># tar xf hadoop...</span></span><br><span class="line">  [root@ master]<span class="comment"># mv hadoop... /opt/hadoop285</span></span><br><span class="line">  [root@ master]<span class="comment"># mv jdk... /usr/local/jdk</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/opt/hadoop285</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$&#123;HADOOP_HOME&#125;</span>/bin:<span class="variable">$&#123;HADOOP_HOME&#125;</span>/sbin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_LIB_NATIVE_DIR=<span class="variable">$HADOOP_HOME</span>/lib/native </span><br><span class="line"><span class="built_in">export</span> HADOOP_OPTS=<span class="string">&quot;-Djava.library.path=<span class="variable">$HADOOP_HOME</span>/lib/native&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$HADOOP_HOME</span>/lib/native/:<span class="variable">$LD_LIBRARY_PATH</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># source !$</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸‹æ˜¯è‡ªå·±ç›´æ¥å†™å…¥é…ç½®ï¼Œåœ¨masteræœåŠ¡å™¨ä¸Šè¿›è¡Œ</p></div><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /opt/hadoop285/etc/hadoop</span></span><br><span class="line"><span class="comment"># vim hadoop-env.sh  //ä¿®æ”¹æ–‡ä»¶é‡Œé¢çš„export JAVA_HOME=$&#123;JAVA_HOME&#125;ä¸º</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="comment"># vim yarn-env.sh //ä¿®æ”¹å‰é¢æœ‰æ³¨é‡Šçš„export JAVA_HOMEä¸º</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line"><span class="comment"># vim core-site.xml</span></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>hadoop.tmp.dir<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>/opt/data<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>fs.defaultFS<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>hdfs://master:9000<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim hdfs-site.xml</span></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>dfs.replication<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>1<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>dfs.namenode.name.dir<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>/opt/data/hdfs/name<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>dfs.datanode.data.dir<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>/opt/data/hdfs/data<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim yarn-site.xml </span></span><br><span class="line"></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>yarn.resourcemanager.hostname<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>master<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line">        <span class="variable">&lt;property&gt;</span></span><br><span class="line">                <span class="variable">&lt;name&gt;</span>yarn.nodemanager.aux-services<span class="variable">&lt;/name&gt;</span></span><br><span class="line">                <span class="variable">&lt;value&gt;</span>mapreduce_shuffle<span class="variable">&lt;/value&gt;</span></span><br><span class="line">        <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cp mapred-site.xml.template mapred-site.xml</span></span><br><span class="line"><span class="comment"># vim mapred-site.xml</span></span><br><span class="line"><span class="variable">&lt;configuration&gt;</span></span><br><span class="line">    <span class="variable">&lt;property&gt;</span></span><br><span class="line">        <span class="variable">&lt;name&gt;</span>mapreduce.framework.name<span class="variable">&lt;/name&gt;</span></span><br><span class="line">        <span class="variable">&lt;value&gt;</span>yarn<span class="variable">&lt;/value&gt;</span></span><br><span class="line">    <span class="variable">&lt;/property&gt;</span></span><br><span class="line"><span class="variable">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim slaves</span></span><br><span class="line"><span class="keyword">master</span></span><br><span class="line"><span class="title">node1</span></span><br><span class="line">node2</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç„¶ååœ¨masterèŠ‚ç‚¹æŠŠé…ç½®å‘åˆ°å„ä¸ªèŠ‚ç‚¹</p></div><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[master]# <span class="keyword">for</span> i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;<span class="keyword">do</span> rsync -av <span class="regexp">/usr/</span>local<span class="regexp">/jdk root@$i:/u</span>sr<span class="regexp">/local/</span>;done</span><br><span class="line"># <span class="keyword">for</span> i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;<span class="keyword">do</span> rsync -av <span class="regexp">/opt/</span>hadoop285 root@$i:<span class="regexp">/opt/</span>;done</span><br><span class="line"># <span class="keyword">for</span> i in node&#123;<span class="number">1</span>..<span class="number">2</span>&#125;;<span class="keyword">do</span> rsync -av <span class="regexp">/etc/</span>profile root@$i:<span class="regexp">/etc/</span>profile;done</span><br><span class="line">ç„¶ååˆ°å„ä¸ªèŠ‚ç‚¹</span><br><span class="line">[node1,<span class="number">2</span>]# <span class="keyword">source</span> <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨node1,2ä¸Šæ“ä½œï¼Œæœ€ååœ¨masteræ“ä½œ</p></div><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hdfs namenode -format   <span class="comment">//åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="meta"># ls -d /opt/data   <span class="comment">//æ­¤æ–‡ä»¶å¤¹äº§ç”Ÿå°±æ˜¯åˆå§‹åŒ–æˆåŠŸ</span></span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>åœ¨masterä¸Šæ“ä½œ</p></div><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ <span class="literal">master</span>]<span class="comment"># start-all.sh</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>æœ€åå¯ä»¥åœ¨å„ä¸ªèŠ‚ç‚¹ä½¿ç”¨jpså‘½ä»¤æŸ¥çœ‹å„è‡ªçš„éƒ¨ä»¶</p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@ xxx</span>]<span class="meta"># jps</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å½“ç„¶webç•Œé¢ä¹Ÿå¯ä»¥è®¿é—®çš„ï¼Œæµè§ˆå™¨è®¿é—®192.168.222.226:8088å’Œ192.168.222.226:50070(å¯¹åº”è‡ªå·±IPåœ°å€)</p></div><div class="note default orange simple"><p>æ¥å°è¯•è¿è¡Œä¸€ä¸‹ç¬¬ä¸€ä¸ªhadoopåˆ†å¸ƒå¼ä»»åŠ¡å§</p></div><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ master]# hdfs dfs -put <span class="regexp">/etc/</span>passwd /t1</span><br><span class="line">[root@ master]# hadoop jar <span class="regexp">/opt/</span>hadoop285<span class="regexp">/share/</span>hadoop<span class="regexp">/mapreduce/</span>hadoop-mapreduce-examples-<span class="number">2.8</span>.<span class="number">5</span>.jar wordcount <span class="regexp">/t1 /</span>output/<span class="number">00</span></span><br><span class="line">[root@ master]# hdfs dfs -ls <span class="regexp">/output/</span><span class="number">00</span>  <span class="comment">//æŸ¥çœ‹è¿è¡Œåçš„ç»“æœæ–‡ä»¶,è¿è¡Œåçš„æ•°æ®åœ¨part-r-00000</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä¸‹é¢å¼€å§‹æ­å»ºåˆ†å¸ƒå¼sparkï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯sparkçš„3.3.0ç‰ˆæœ¬</p></div><div class="note default orange simple"><p><a href="https://dlcdn.apache.org/spark/spark-3.3.0/spark-3.3.0-bin-hadoop3.tgz">sparkå®˜ç½‘ä¸‹è½½è½¯ä»¶åŒ…</a></p></div><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># æŠŠsparkåŒ…ä¸Šä¼ åˆ°æœºå™¨ä¸Šï¼Œç„¶ååˆ°è¯¥åŒ…çš„ç›®å½•ï¼Œè¿™é‡Œç»Ÿä¸€ä»¥spark-3.3.0-bin-hadoop3.tgzè¿™ä¸ªåŒ…ä¸ºæ¼”ç¤º</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># tar xf spark-3.3.0-bin-hadoop3.tgz</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv spark-3.3.0-bin-hadoop3 /opt/spark</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim /etc/profile</span></span><br><span class="line">export PATH=/opt/spark/bin:/opt/spark/sbin:$PATH</span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># cd /opt/spark/conf</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv spark-env.sh.template spark-env.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim spark-env.sh</span></span><br><span class="line">export JAVA_HOME=/usr/local/jdk</span><br><span class="line">export HADOOP_CONF_DIR=/opt/hadoop285/etc/hadoop</span><br><span class="line">export SPARK_MASTER_IP=master   <span class="meta">#å¯¹åº”è‡ªå·±çš„masteræœºå™¨IPæˆ–è€…masterè§£æçš„åŸŸåï¼Œå¦‚æœæ˜¯æŒ‰ç…§æˆ‘ä¸Šé¢åšçš„ç›´æ¥å†™masterå³å¯</span></span><br><span class="line">export SPARK_WORKER_MEMORY=<span class="number">1024</span>m</span><br><span class="line">export SPARK_WORKER_CORES=<span class="number">2</span> </span><br><span class="line">export SPARK_EXECUTOR_MEMORY=<span class="number">1024</span>m</span><br><span class="line">export SPARK_WORKER_INSTANCES=<span class="number">1</span></span><br><span class="line">export SOARK_MASTER_PORT=<span class="number">7077</span></span><br><span class="line">export SPARK_EXECUTOR_CORES=<span class="number">1</span></span><br><span class="line">SPARK_HISTORY_OPTS=<span class="string">&quot;-Dspark.history.fs.logDirectory=hdfs://master:9000/spark_logs&quot;</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># cp spark-defaults.conf.template spark-defaults.conf</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim spark-defaults.conf</span></span><br><span class="line">spark.master                     spark:<span class="comment">//master:7077</span></span><br><span class="line">spark.eventLog.enabled           <span class="literal">true</span></span><br><span class="line">spark.eventLog.dir               hdfs:<span class="comment">//master:9000/spark_logs</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># vim slaves     //å¯¹åº”è‡ªå·±çš„ä¸‰å°ä¸»æœºIPåœ°å€æˆ–è€…è§£æçš„åŸŸå</span></span><br><span class="line">master</span><br><span class="line">node1</span><br><span class="line">node2</span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># cd /opt/spark/sbin</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv start-all.sh spark-start.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># mv stop-all.sh spark-stop.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># source /etc/profile</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /opt/spark root@node1:/opt/</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /opt/spark root@node2:/opt/</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /etc/profile root@node1:/etc/</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># scp -r /etc/profile root@node2:/etc/</span></span><br><span class="line"><span class="meta"># ç„¶ååœ¨å„å·¥ä½œèŠ‚ç‚¹æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">[<span class="meta">root@ node1,node2</span>]<span class="meta"># source /etc/profile</span></span><br><span class="line"><span class="meta"># åœ¨masterèŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># start-all.sh</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># hdfs dfs -mkdir /spark_logs</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># spark-start.sh  //å¯åŠ¨sparké›†ç¾¤</span></span><br><span class="line">[<span class="meta">root@ master</span>]<span class="meta"># jps     //æŸ¥çœ‹</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ä»¥ä¸Šä¾¿æ­å»ºå¥½äº†sparkç»“åˆhadoopçš„åˆ†å¸ƒå¼é›†ç¾¤ï¼Œsparkä¹Ÿæœ‰è‡ªå·±çš„webç•Œé¢ï¼Œå¯ä»¥æµè§ˆå™¨è®¿é—®192.168.222.226:8080æ¥æŸ¥çœ‹(å¯¹åº”è‡ªå·±IPåœ°å€)</p></div><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å­¦å¥½è¿ç»´çš„æœ€å¥½æ–¹æ³•</title>
      <link href="/posts/bfb4802e.html"/>
      <url>/posts/bfb4802e.html</url>
      
        <content type="html"><![CDATA[<h1 id="å­¦ä¼šç™¾åº¦"><a href="#å­¦ä¼šç™¾åº¦" class="headerlink" title="å­¦ä¼šç™¾åº¦"></a>å­¦ä¼šç™¾åº¦</h1><div class="note default orange simple"><p>é“¾æ¥ç›´è¾¾ï¼š<a href="https://www.baidu.com">https://www.baidu.com</a></p></div><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker-compose(wordpress)</title>
      <link href="/posts/265f6511.html"/>
      <url>/posts/265f6511.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>docker-compose</p></div></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">version: &#x27;1&#x27;</span><br><span class="line">services: </span><br><span class="line"></span><br><span class="line">  mysql: </span><br><span class="line">    image: mysql:5.6</span><br><span class="line">    restart: always</span><br><span class="line">    volumes: </span><br><span class="line">      - &quot;./data:/var/lib/mysql&quot;</span><br><span class="line">    environment: </span><br><span class="line">      MYSQL_ROOT_PASSWORD: password</span><br><span class="line">      MYSQL_DATABASE: wordpress</span><br><span class="line">      MYSQL_USER: wordpress</span><br><span class="line">      MYSQL_PASSWORD: password</span><br><span class="line">    expose: </span><br><span class="line">      - &quot;3306&quot;</span><br><span class="line"></span><br><span class="line">  wordpress: </span><br><span class="line">    image: wordpress:latest</span><br><span class="line">    restart: always</span><br><span class="line">    depends_on:</span><br><span class="line">      - mysql </span><br><span class="line">    links: </span><br><span class="line">      - mysql</span><br><span class="line">    environment: </span><br><span class="line">      WORDPRESS_DB_HOST: mysql:3306</span><br><span class="line">      WORDPRESS_DB_USER: wordpress</span><br><span class="line">      WORDPRESS_DB_PASSWORD: password</span><br><span class="line">      WORDPRESS_DB_NAME: wordpress</span><br><span class="line">    ports: </span><br><span class="line">      - &quot;80:80&quot;</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</title>
      <link href="/posts/2013454d.html"/>
      <url>/posts/2013454d.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-Markdownè¯­æ³•è‡ªå¸¦æ ¼å¼"><a href="#1-Markdownè¯­æ³•è‡ªå¸¦æ ¼å¼" class="headerlink" title="1.Markdownè¯­æ³•è‡ªå¸¦æ ¼å¼"></a>1.Markdownè¯­æ³•è‡ªå¸¦æ ¼å¼</h1><div class="note info flat"><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/u014061630/article/details/81359144">Markdownè¯­æ³•å›¾æ–‡å…¨é¢è¯¦è§£(10åˆ†é’Ÿå­¦ä¼š)</a></p></div><div class="note warning flat"><p>æ³¨æ„ï¼šæ­¤é¡µé¢å¶å°”ä¼šå­˜åœ¨CSSå†²çªé—®é¢˜!</p></div><h2 id="1-1-ä»£ç å—"><a href="#1-1-ä»£ç å—" class="headerlink" title="1.1 ä»£ç å—"></a>1.1 ä»£ç å—</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\```shell</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCodeç»ˆç«¯</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmderç»ˆç«¯</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br><span class="line">\```</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCodeç»ˆç«¯</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmderç»ˆç«¯</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-2-å¤šçº§æ ‡é¢˜"><a href="#1-2-å¤šçº§æ ‡é¢˜" class="headerlink" title="1.2 å¤šçº§æ ‡é¢˜"></a>1.2 å¤šçº§æ ‡é¢˜</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">####  H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>è§æœ¬æ–‡ç« æ ‡é¢˜!</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-3-æ–‡å­—æ ·å¼"><a href="#1-3-æ–‡å­—æ ·å¼" class="headerlink" title="1.3 æ–‡å­—æ ·å¼"></a>1.3 æ–‡å­—æ ·å¼</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>ä¸‹åˆ’çº¿æ¼”ç¤º<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">æ–‡å­—<span class="strong">**åŠ ç²—**</span>æ¼”ç¤º</span><br><span class="line"></span><br><span class="line">æ–‡å­—<span class="emphasis">*æ–œä½“*</span>æ¼”ç¤º</span><br><span class="line"></span><br><span class="line">æ–‡æœ¬<span class="code">`é«˜äº®`</span>æ¼”ç¤º</span><br><span class="line"></span><br><span class="line">æ–‡æœ¬~~åˆ é™¤~~çº¿æ¼”ç¤º</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span> = <span class="string">5</span>&gt;</span></span>5å·å­—<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span>&gt;</span></span>é»‘ä½“<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">blue</span>&gt;</span></span>è“è‰²<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">td</span> <span class="attr">bgcolor</span>=<span class="string">MistyRose</span>&gt;</span></span>è¿™é‡Œçš„èƒŒæ™¯è‰²æ˜¯ï¼šMistyRosenï¼Œæ­¤å¤„è¾“å…¥ä»»æ„æƒ³è¾“å…¥çš„å†…å®¹<span class="language-xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p><u>ä¸‹åˆ’çº¿æ¼”ç¤º</u></p><p>æ–‡å­—<strong>åŠ ç²—</strong>æ¼”ç¤º</p><p>æ–‡å­—<em>æ–œä½“</em>æ¼”ç¤º</p><p>æ–‡æœ¬<code>é«˜äº®</code>æ¼”ç¤º</p><p>æ–‡æœ¬<del>åˆ é™¤</del>çº¿æ¼”ç¤º</p><font size = 5>5å·å­—</font><font face="é»‘ä½“">é»‘ä½“</font><font color=blue>è“è‰²</font><table><tr><td bgcolor=MistyRose>è¿™é‡Œçš„èƒŒæ™¯è‰²æ˜¯ï¼šMistyRosenï¼Œæ­¤å¤„è¾“å…¥ä»»æ„æƒ³è¾“å…¥çš„å†…å®¹</td></tr></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info flat"><p>ä¸Šè¿°è¦ç‚¹å¯å‚è€ƒ:<a href="https://blog.csdn.net/qq_43732429/article/details/108034518">ã€Markdownè¯­æ³•ã€‘å­—ä½“é¢œè‰²å¤§å°åŠæ–‡å­—åº•è‰²è®¾ç½®</a></p></div><h2 id="1-4-å¼•ç”¨"><a href="#1-4-å¼•ç”¨" class="headerlink" title="1.4 å¼•ç”¨"></a>1.4 å¼•ç”¨</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt;  Java</span></span><br><span class="line"><span class="quote">&gt; äºŒçº§å¼•ç”¨æ¼”ç¤º</span></span><br><span class="line"><span class="quote">&gt; MySQL</span></span><br><span class="line"><span class="quote">&gt; &gt;å¤–é”®</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;äº‹åŠ¡</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;<span class="strong">**è¡Œçº§é”**</span>(å¼•ç”¨å†…éƒ¨ä¸€æ ·å¯ä»¥ç”¨æ ¼å¼)</span></span><br><span class="line"><span class="quote">&gt; </span></span><br><span class="line"><span class="quote">&gt; ....</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><blockquote><p> Java<br>äºŒçº§å¼•ç”¨æ¼”ç¤º<br>MySQL</p><blockquote><p>å¤–é”®</p><p>äº‹åŠ¡</p><p><strong>è¡Œçº§é”</strong>(å¼•ç”¨å†…éƒ¨ä¸€æ ·å¯ä»¥ç”¨æ ¼å¼)</p></blockquote><p>â€¦.</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-5-åˆ†å‰²çº¿"><a href="#1-5-åˆ†å‰²çº¿" class="headerlink" title="1.5 åˆ†å‰²çº¿"></a>1.5 åˆ†å‰²çº¿</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><hr><hr><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-6-åˆ—è¡¨-è·Ÿç©ºæ ¼éƒ½å¯ä»¥"><a href="#1-6-åˆ—è¡¨-è·Ÿç©ºæ ¼éƒ½å¯ä»¥" class="headerlink" title="1.6 åˆ—è¡¨(*,+,-è·Ÿç©ºæ ¼éƒ½å¯ä»¥)"></a>1.6 åˆ—è¡¨(*,+,-è·Ÿç©ºæ ¼éƒ½å¯ä»¥)</h2><h3 id="1-6-1-æ— åºåˆ—è¡¨"><a href="#1-6-1-æ— åºåˆ—è¡¨" class="headerlink" title="1.6.1 æ— åºåˆ—è¡¨"></a>1.6.1 æ— åºåˆ—è¡¨</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> Java</span><br><span class="line"><span class="bullet">*</span> Python</span><br><span class="line"><span class="bullet">*</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> Java</span><br><span class="line"><span class="bullet">+</span> Python</span><br><span class="line"><span class="bullet">+</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> Java</span><br><span class="line"><span class="bullet">-</span> Python</span><br><span class="line"><span class="bullet">-</span> ...</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ul><li>Java</li><li>Python</li><li>â€¦</li></ul><ul><li>Java</li><li>Python</li><li>â€¦</li></ul><ul><li>Java</li><li>Python</li><li>â€¦</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="1-6-2-æœ‰åºåˆ—è¡¨"><a href="#1-6-2-æœ‰åºåˆ—è¡¨" class="headerlink" title="1.6.2 æœ‰åºåˆ—è¡¨"></a>1.6.2 æœ‰åºåˆ—è¡¨</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># æ³¨æ„åé¢æœ‰ç©ºæ ¼</span></span><br><span class="line"><span class="bullet">1.</span> </span><br><span class="line"><span class="bullet">2.</span> </span><br><span class="line"><span class="bullet">3.</span> </span><br><span class="line"><span class="bullet">4.</span> </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li></li><li></li><li></li><li></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-7-å›¾ç‰‡"><a href="#1-7-å›¾ç‰‡" class="headerlink" title="1.7 å›¾ç‰‡"></a>1.7 å›¾ç‰‡</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># æœ¬åœ°å›¾ç‰‡</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/assets/pusheencode.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;ç¤ºä¾‹å›¾ç‰‡&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:50%;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="section"># åœ¨çº¿å›¾ç‰‡</span></span><br><span class="line">![<span class="string">code</span>](<span class="link">https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>æœ¬åœ°å›¾ç‰‡:<br><img src="/assets/pusheencode.webp" alt="ç¤ºä¾‹å›¾ç‰‡" style="zoom:50%;" /><br>åœ¨çº¿å›¾ç‰‡:<br><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png" alt="code"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-8-è¡¨æ ¼"><a href="#1-8-è¡¨æ ¼" class="headerlink" title="1.8 è¡¨æ ¼"></a>1.8 è¡¨æ ¼</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| é¡¹ç›®æ ‡å· | èµ„é‡‘     | å¤‡æ³¨ |</span><br><span class="line">| -------- | -------- | ---- |</span><br><span class="line">| 1        | 100ï¼Œ000 | æ—    |</span><br><span class="line">| 2        | 200ï¼Œ000 | æ—    |</span><br><span class="line">| 3        | 300,600  | é‡è¦ |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><div class="table-container"><table><thead><tr><th>é¡¹ç›®æ ‡å·</th><th>èµ„é‡‘</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>1</td><td>100ï¼Œ000</td><td>æ— </td></tr><tr><td>2</td><td>200ï¼Œ000</td><td>æ— </td></tr><tr><td>3</td><td>300,600</td><td>é‡è¦</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-9-å…¬å¼"><a href="#1-9-å…¬å¼" class="headerlink" title="1.9 å…¬å¼"></a>1.9 å…¬å¼</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\Gamma(z)=\int<span class="emphasis">_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt.</span></span><br><span class="line"><span class="emphasis">$$</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><script type="math/tex; mode=display">\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt.</script><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="2-Butterflyå¤–æŒ‚æ ‡ç­¾"><a href="#2-Butterflyå¤–æŒ‚æ ‡ç­¾" class="headerlink" title="2.Butterflyå¤–æŒ‚æ ‡ç­¾"></a>2.Butterflyå¤–æŒ‚æ ‡ç­¾</h1><div class="note info flat"><p>è¿™éƒ¨åˆ†å‚è€ƒå®‰çŸ¥é±¼:<a href="https://anzhiy.cn/posts/7d58.html">åŸºäºButterflyçš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥</a></p></div><h2 id="2-1-è¡Œå†…æ–‡æœ¬æ ·å¼-text"><a href="#2-1-è¡Œå†…æ–‡æœ¬æ ·å¼-text" class="headerlink" title="2.1 è¡Œå†…æ–‡æœ¬æ ·å¼ text"></a>2.1 è¡Œå†…æ–‡æœ¬æ ·å¼ text</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% u æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% emp æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% wavy æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% del æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% kbd æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% psw æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> å¸¦ &#123;% u ä¸‹åˆ’çº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">2.</span> å¸¦ &#123;% emp ç€é‡å· %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">3.</span> å¸¦ &#123;% wavy æ³¢æµªçº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">4.</span> å¸¦ &#123;% del åˆ é™¤çº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">5.</span> é”®ç›˜æ ·å¼çš„æ–‡æœ¬ &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š&#123;% psw è¿™é‡Œæ²¡æœ‰éªŒè¯ç  %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><ol><li>å¸¦ <u>ä¸‹åˆ’çº¿</u> çš„æ–‡æœ¬</li><li>å¸¦ <emp>ç€é‡å·</emp> çš„æ–‡æœ¬</li><li>å¸¦ <wavy>æ³¢æµªçº¿</wavy> çš„æ–‡æœ¬</li><li>å¸¦ <del>åˆ é™¤çº¿</del> çš„æ–‡æœ¬</li><li>é”®ç›˜æ ·å¼çš„æ–‡æœ¬ <kbd>command</kbd> + <kbd>D</kbd></li><li>å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š<psw>è¿™é‡Œæ²¡æœ‰éªŒè¯ç </psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-2-è¡Œå†…æ–‡æœ¬-span"><a href="#2-2-è¡Œå†…æ–‡æœ¬-span" class="headerlink" title="2.2 è¡Œå†…æ–‡æœ¬ span"></a>2.2 è¡Œå†…æ–‡æœ¬ span</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span æ ·å¼å‚æ•°(å‚æ•°ä»¥ç©ºæ ¼åˆ’åˆ†), æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>å­—ä½“</code>: logo, code</li><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>å¤§å°</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>å¯¹é½æ–¹å‘</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> å½©è‰²æ–‡å­—</span><br><span class="line">åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š&#123;% span red, çº¢è‰² %&#125;ã€&#123;% span yellow, é»„è‰² %&#125;ã€&#123;% span green, ç»¿è‰² %&#125;ã€&#123;% span cyan, é’è‰² %&#125;ã€&#123;% span blue, è“è‰² %&#125;ã€&#123;% span gray, ç°è‰² %&#125;ã€‚</span><br><span class="line"><span class="bullet">-</span> è¶…å¤§å·æ–‡å­—</span><br><span class="line">æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<span class='p red'>çº¢è‰²</span>ã€<span class='p yellow'>é»„è‰²</span>ã€<span class='p green'>ç»¿è‰²</span>ã€<span class='p cyan'>é’è‰²</span>ã€<span class='p blue'>è“è‰²</span>ã€<span class='p gray'>ç°è‰²</span>ã€‚</li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-3-æ®µè½æ–‡æœ¬-p"><a href="#2-3-æ®µè½æ–‡æœ¬-p" class="headerlink" title="2.3 æ®µè½æ–‡æœ¬ p"></a>2.3 æ®µè½æ–‡æœ¬ p</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p æ ·å¼å‚æ•°(å‚æ•°ä»¥ç©ºæ ¼åˆ’åˆ†), æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>å­—ä½“</code>: logo, code</li><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>å¤§å°</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>å¯¹é½æ–¹å‘</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> å½©è‰²æ–‡å­—</span><br><span class="line">åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š&#123;% p red, çº¢è‰² %&#125;ã€&#123;% p yellow, é»„è‰² %&#125;ã€&#123;% p green, ç»¿è‰² %&#125;ã€&#123;% p cyan, é’è‰² %&#125;ã€&#123;% p blue, è“è‰² %&#125;ã€&#123;% p gray, ç°è‰² %&#125;ã€‚</span><br><span class="line"><span class="bullet">-</span> è¶…å¤§å·æ–‡å­—</span><br><span class="line">æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<p class='p red'>çº¢è‰²</p>ã€<p class='p yellow'>é»„è‰²</p>ã€<p class='p green'>ç»¿è‰²</p>ã€<p class='p cyan'>é’è‰²</p>ã€<p class='p blue'>è“è‰²</p>ã€<p class='p gray'>ç°è‰²</p>ã€‚</li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-4-å¼•ç”¨note"><a href="#2-4-å¼•ç”¨note" class="headerlink" title="2.4 å¼•ç”¨note"></a>2.4 å¼•ç”¨note</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">é€šç”¨é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">è¯­æ³•æ ¼å¼</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -5">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border<span class="emphasis">_radius: 3</span></span><br><span class="line"><span class="emphasis">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="emphasis">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="emphasis">  light_</span>bg<span class="emphasis">_offset: 0</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># è‡ªå¸¦icon</span></span><br><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"><span class="section"># å¤–éƒ¨icon</span></span><br><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.è‡ªå¸¦icon</p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">ã€å¯é€‰ã€‘æ ‡è¯†ï¼Œä¸åŒçš„æ ‡è¯†æœ‰ä¸åŒçš„é…è‰² ï¼ˆ default / primary / success / info / warning / danger ï¼‰</td></tr><tr><td>no-icon</td><td style="text-align:center">ã€å¯é€‰ã€‘ä¸æ˜¾ç¤º icon</td></tr><tr><td>style</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ style ï¼ˆsimple/modern/flat/disabledï¼‰</td></tr></tbody></table></div><p>2.å¤–éƒ¨icon</p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">ã€å¯é€‰ã€‘æ ‡è¯†ï¼Œä¸åŒçš„æ ‡è¯†æœ‰ä¸åŒçš„é…è‰² ï¼ˆ default / blue / pink / red / purple / orange / green ï¼‰</td></tr><tr><td>no-icon</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯é…ç½®è‡ªå®šä¹‰ icon (åªæ”¯æŒ fontawesome å›¾æ ‡, ä¹Ÿå¯ä»¥é…ç½® no-icon )</td></tr><tr><td>style</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ style ï¼ˆsimple/modern/flat/disabledï¼‰</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><details class="folding-tag" blue><summary> 1.è‡ªå¸¦icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><br>2.<code>modern</code>æ ·å¼<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><p>3.<code>flat</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" blue><summary> 2.å¤–éƒ¨icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue no-icon %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink no-icon %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red no-icon %&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange no-icon %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple no-icon %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green no-icon %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -5"><details class="folding-tag" blue><summary> 1.è‡ªå¸¦icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><div class="note simple"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default simple"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary simple"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success simple"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info simple"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning simple"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger simple"><p>danger æç¤ºå—æ ‡ç­¾</p></div>2.`modern`æ ·å¼<div class="note modern"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default modern"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary modern"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success modern"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info modern"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning modern"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger modern"><p>danger æç¤ºå—æ ‡ç­¾</p></div><p>3.<code>flat</code>æ ·å¼</p><div class="note flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default flat"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary flat"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success flat"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info flat"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning flat"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger flat"><p>danger æç¤ºå—æ ‡ç­¾</p></div><p>4.<code>disabled</code>æ ·å¼</p><div class="note disabled"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default disabled"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary disabled"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success disabled"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info disabled"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning disabled"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger disabled"><p>danger æç¤ºå—æ ‡ç­¾</p></div><p>5.<code>no-icon</code>æ ·å¼</p><div class="note no-icon flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default no-icon flat"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary no-icon flat"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success no-icon flat"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info no-icon flat"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning no-icon flat"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger no-icon flat"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details><details class="folding-tag" blue><summary> 2.å¤–éƒ¨icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>2.<code>modern</code>æ ·å¼</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>3.<code>flat</code>æ ·å¼</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>4.<code>disabled</code>æ ·å¼</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>5.<code>no-icon</code>æ ·å¼</p><div class="note no-icon flat"><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue no-icon flat"><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink no-icon flat"><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red no-icon flat"><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange no-icon flat"><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple no-icon flat"><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green no-icon flat"><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-5-ä¸Šæ ‡æ ‡ç­¾-tip"><a href="#2-5-ä¸Šæ ‡æ ‡ç­¾-tip" class="headerlink" title="2.5 ä¸Šæ ‡æ ‡ç­¾ tip"></a>2.5 ä¸Šæ ‡æ ‡ç­¾ tip</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [å‚æ•°ï¼Œå¯é€‰] %&#125;æ–‡æœ¬å†…å®¹&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>æ ·å¼</code>: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li><code>è‡ªå®šä¹‰å›¾æ ‡</code>: æ”¯æŒfontawesomeã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;è‡ªå®šä¹‰font awesomeå›¾æ ‡&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>è‡ªå®šä¹‰font awesomeå›¾æ ‡</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-6-åŠ¨æ€æ ‡ç­¾-anima"><a href="#2-6-åŠ¨æ€æ ‡ç­¾-anima" class="headerlink" title="2.6 åŠ¨æ€æ ‡ç­¾ anima"></a>2.6 åŠ¨æ€æ ‡ç­¾ anima</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [å‚æ•°ï¼Œå¯é€‰] %&#125;æ–‡æœ¬å†…å®¹&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><div class="note info flat"><ol><li>å°†æ‰€éœ€çš„CSSç±»æ·»åŠ åˆ°å›¾æ ‡ï¼ˆæˆ–DOMä¸­çš„ä»»ä½•å…ƒç´ ï¼‰ã€‚</li><li>å¯¹äºçˆ¶çº§æ‚¬åœæ ·å¼ï¼Œéœ€è¦ç»™ç›®æ ‡å…ƒç´ æ·»åŠ æŒ‡å®šCSSç±»ï¼ŒåŒæ—¶è¿˜è¦ç»™ç›®æ ‡å…ƒç´ çš„çˆ¶çº§å…ƒç´ æ·»åŠ CSSç±»<code>faa-parent animated-hover</code>ã€‚ï¼ˆè¯¦æƒ…è§ç¤ºä¾‹åŠç¤ºä¾‹æºç ï¼‰<br>You can regulate the speed of the animation by adding the CSS class or . faa-fastfaa-slow</li><li>å¯ä»¥é€šè¿‡ç»™ç›®æ ‡å…ƒç´ æ·»åŠ CSSç±»<code>faa-fast</code>æˆ–<code>faa-slow</code>æ¥æ§åˆ¶åŠ¨ç”»å¿«æ…¢ã€‚</li></ol></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>   1.On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>2.è°ƒæ•´åŠ¨ç”»é€Ÿåº¦<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><br>3.On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><br>4.On parent hoverï¼ˆå½“é¼ æ ‡æ‚¬åœåœ¨çˆ¶çº§å…ƒç´ æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-horizontal&quot;</span>&gt;</span></span>warning<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-flash&quot;</span>&gt;</span></span>ban<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div>2.è°ƒæ•´åŠ¨ç”»é€Ÿåº¦<div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div>3.On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div>4.On parent hoverï¼ˆå½“é¼ æ ‡æ‚¬åœåœ¨çˆ¶çº§å…ƒç´ æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">warning</p></div><div class="tip ban faa-parent animated-hover"><p class="faa-flash">ban</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-7-å¤é€‰åˆ—è¡¨-checkbox"><a href="#2-7-å¤é€‰åˆ—è¡¨-checkbox" class="headerlink" title="2.7 å¤é€‰åˆ—è¡¨ checkbox"></a>2.7 å¤é€‰åˆ—è¡¨ checkbox</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>æ ·å¼</code>: plus, minus, times</li><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>é€‰ä¸­çŠ¶æ€</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% checkbox checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% checkbox red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% checkbox green checked, ç»¿è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, é»„è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, é’è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox blue checked, è“è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, å¢åŠ  %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, å‡å°‘ %&#125;</span><br><span class="line">&#123;% checkbox times red checked, å‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class='checkbox'><input type="checkbox" />            <p>çº¯æ–‡æœ¬æµ‹è¯•</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>æ”¯æŒç®€å•çš„ <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> è¯­æ³•</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>ç»¿è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>é»„è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>é’è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>è“è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>å¢åŠ </p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>å‡å°‘</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>å‰</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-8-å•é€‰åˆ—è¡¨-radio"><a href="#2-8-å•é€‰åˆ—è¡¨-radio" class="headerlink" title="2.8 å•é€‰åˆ—è¡¨ radio"></a>2.8 å•é€‰åˆ—è¡¨ radio</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>é€‰ä¸­çŠ¶æ€</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% radio checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% radio green, ç»¿è‰² %&#125;</span><br><span class="line">&#123;% radio yellow, é»„è‰² %&#125;</span><br><span class="line">&#123;% radio cyan, é’è‰² %&#125;</span><br><span class="line">&#123;% radio blue, è“è‰² %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class='checkbox'><input type="radio" />            <p>çº¯æ–‡æœ¬æµ‹è¯•</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>æ”¯æŒç®€å•çš„ <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> è¯­æ³•</p>            </div><div class='checkbox red'><input type="radio" />            <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p>            </div><div class='checkbox green'><input type="radio" />            <p>ç»¿è‰²</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>é»„è‰²</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>é’è‰²</p>            </div><div class='checkbox blue'><input type="radio" />            <p>è“è‰²</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-9-æ—¶é—´è½´-timeline"><a href="#2-9-æ—¶é—´è½´-timeline" class="headerlink" title="2.9 æ—¶é—´è½´ timeline"></a>2.9 æ—¶é—´è½´ timeline</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline æ—¶é—´çº¿æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰[,color] %&#125;</span><br><span class="line">&lt;!-- timeline æ—¶é—´èŠ‚ç‚¹ï¼ˆæ ‡é¢˜ï¼‰ --&gt;</span><br><span class="line">æ­£æ–‡å†…å®¹</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline æ—¶é—´èŠ‚ç‚¹ï¼ˆæ ‡é¢˜ï¼‰ --&gt;</span><br><span class="line">æ­£æ–‡å†…å®¹</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>title</code>:æ ‡é¢˜/æ—¶é—´çº¿</li><li><code>color</code>:<code>timeline</code>é¢œè‰²:default(ç•™ç©º) / blue / pink / red / purple / orange / green</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline æ—¶é—´è½´æ ·å¼,blue %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> å¦‚æœæœ‰ <span class="code">`hexo-lazyload-image`</span> æ’ä»¶ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œè®¾ç½® <span class="code">`lazyload.isSPA: true`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> 2.x ç‰ˆæœ¬çš„ css å’Œ js ä¸é€‚ç”¨äº 3.x ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨äº† <span class="code">`use_cdn: true`</span> åˆ™éœ€è¦åˆ é™¤ã€‚</span><br><span class="line"><span class="bullet">3.</span> 2.x ç‰ˆæœ¬çš„ fancybox æ ‡ç­¾åœ¨ 3.x ç‰ˆæœ¬ä¸­è¢«é‡å‘½åä¸º gallery ã€‚</span><br><span class="line"><span class="bullet">4.</span> 2.x ç‰ˆæœ¬çš„ç½®é¡¶ <span class="code">`top: true`</span> æ”¹ä¸ºäº† <span class="code">`pin: true`</span>ï¼Œå¹¶ä¸”åŒæ ·é€‚ç”¨äº <span class="code">`layout: page`</span> çš„é¡µé¢ã€‚</span><br><span class="line"><span class="bullet">5.</span> å¦‚æœä½¿ç”¨äº† <span class="code">`hexo-offline`</span> æ’ä»¶ï¼Œå»ºè®®å¸è½½ï¼Œ3.0 ç‰ˆæœ¬é»˜è®¤å¼€å¯äº† pjax æœåŠ¡ã€‚</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) --&gt;</span><br><span class="line"></span><br><span class="line">ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> å…¨å±€æœç´¢ <span class="code">`seotitle`</span> å¹¶æ›¿æ¢ä¸º <span class="code">`seo_title`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> group ç»„ä»¶çš„ç´¢å¼•è§„åˆ™æœ‰å˜ï¼Œä½¿ç”¨ group ç»„ä»¶çš„æ–‡ç« å†…ï¼Œ<span class="code">`group: group_name`</span> å¯¹åº”çš„ç»„ä»¶åå¿…é¡»æ˜¯ <span class="code">`group_name`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> group ç»„ä»¶çš„åˆ—è¡¨åä¼˜å…ˆæ˜¾ç¤ºæ–‡ç« çš„ <span class="code">`short_title`</span> å…¶æ¬¡æ˜¯ <span class="code">`title`</span>ã€‚</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>æ—¶é—´è½´æ ·å¼</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>å¦‚æœæœ‰ <code>hexo-lazyload-image</code> æ’ä»¶ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œè®¾ç½® <code>lazyload.isSPA: true</code>ã€‚</li><li>2.x ç‰ˆæœ¬çš„ css å’Œ js ä¸é€‚ç”¨äº 3.x ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨äº† <code>use_cdn: true</code> åˆ™éœ€è¦åˆ é™¤ã€‚</li><li>2.x ç‰ˆæœ¬çš„ fancybox æ ‡ç­¾åœ¨ 3.x ç‰ˆæœ¬ä¸­è¢«é‡å‘½åä¸º gallery ã€‚</li><li>2.x ç‰ˆæœ¬çš„ç½®é¡¶ <code>top: true</code> æ”¹ä¸ºäº† <code>pin: true</code>ï¼Œå¹¶ä¸”åŒæ ·é€‚ç”¨äº <code>layout: page</code> çš„é¡µé¢ã€‚</li><li>å¦‚æœä½¿ç”¨äº† <code>hexo-offline</code> æ’ä»¶ï¼Œå»ºè®®å¸è½½ï¼Œ3.0 ç‰ˆæœ¬é»˜è®¤å¼€å¯äº† pjax æœåŠ¡ã€‚</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>å…¨å±€æœç´¢ <code>seotitle</code> å¹¶æ›¿æ¢ä¸º <code>seo_title</code>ã€‚</li><li>group ç»„ä»¶çš„ç´¢å¼•è§„åˆ™æœ‰å˜ï¼Œä½¿ç”¨ group ç»„ä»¶çš„æ–‡ç« å†…ï¼Œ<code>group: group_name</code> å¯¹åº”çš„ç»„ä»¶åå¿…é¡»æ˜¯ <code>group_name</code>ã€‚</li><li>group ç»„ä»¶çš„åˆ—è¡¨åä¼˜å…ˆæ˜¾ç¤ºæ–‡ç« çš„ <code>short_title</code> å…¶æ¬¡æ˜¯ <code>title</code>ã€‚</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-10-é“¾æ¥å¡ç‰‡-link"><a href="#2-10-é“¾æ¥å¡ç‰‡-link" class="headerlink" title="2.10 é“¾æ¥å¡ç‰‡ link"></a>2.10 é“¾æ¥å¡ç‰‡ link</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡é“¾æ¥ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link ç³–æœå±‹æ•™ç¨‹è´´, https://akilar.top/posts/615e2dec/, https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class="tag link"><a class="link-card" title="ç³–æœå±‹æ•™ç¨‹è´´" href="https://akilar.top/posts/615e2dec/"><div class="left"><img src="https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico"/></div><div class="right"><p class="text">ç³–æœå±‹æ•™ç¨‹è´´</p><p class="url">https://akilar.top/posts/615e2dec/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-11-æŒ‰é’®-btns"><a href="#2-11-æŒ‰é’®-btns" class="headerlink" title="2.11 æŒ‰é’® btns"></a>2.11 æŒ‰é’® btns</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns æ ·å¼å‚æ•° %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li>åœ†è§’æ ·å¼ï¼šrounded, circle</li><li>å¢åŠ æ–‡å­—æ ·å¼ï¼šå¯ä»¥åœ¨å®¹å™¨å†…å¢åŠ  <code>&lt;b&gt;</code>æ ‡é¢˜<code>&lt;/b&gt;</code>å’Œ<code>&lt;p&gt;</code>æè¿°æ–‡å­—<code>&lt;/p&gt;</code></li><li>å¸ƒå±€æ–¹å¼ï¼š<br>é»˜è®¤ä¸ºè‡ªåŠ¨å®½åº¦ï¼Œé€‚åˆè§†é‡å†…åªæœ‰ä¸€ä¸¤ä¸ªçš„æƒ…å†µã€‚</li></ol><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>wide</td><td>å®½ä¸€ç‚¹çš„æŒ‰é’®</td></tr><tr><td>fill</td><td>å¡«å……å¸ƒå±€ï¼Œè‡ªåŠ¨é“ºæ»¡è‡³å°‘ä¸€è¡Œï¼Œå¤šäº†ä¼šæ¢è¡Œ</td></tr><tr><td>center</td><td>å±…ä¸­ï¼ŒæŒ‰é’®ä¹‹é—´æ˜¯å›ºå®šé—´è·</td></tr><tr><td>around</td><td>å±…ä¸­åˆ†æ•£</td></tr><tr><td>grid2</td><td>ç­‰å®½æœ€å¤š2åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid3</td><td>ç­‰å®½æœ€å¤š3åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid4</td><td>ç­‰å®½æœ€å¤š4åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid5</td><td>ç­‰å®½æœ€å¤š5åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.å¦‚æœéœ€è¦æ˜¾ç¤ºç±»ä¼¼ã€Œå›¢é˜Ÿæˆå‘˜ã€ä¹‹ç±»çš„ä¸€ç»„å«æœ‰å¤´åƒçš„é“¾æ¥</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>2.æˆ–è€…å«æœ‰å›¾æ ‡çš„æŒ‰é’®<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell ä¸‹è½½æºç , /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell æŸ¥çœ‹æ–‡æ¡£, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></p><p>3.åœ†å½¢å›¾æ ‡ + æ ‡é¢˜ + æè¿° + å›¾ç‰‡ + ç½‘æ ¼5åˆ— + å±…ä¸­<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>å¿ƒç‡ç®¡å®¶<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p red, ä¸“ä¸šç‰ˆ %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>å¿ƒç‡ç®¡å®¶<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p green, å…è´¹ç‰ˆ %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.å¦‚æœéœ€è¦æ˜¾ç¤ºç±»ä¼¼ã€Œå›¢é˜Ÿæˆå‘˜ã€ä¹‹ç±»çš„ä¸€ç»„å«æœ‰å¤´åƒçš„é“¾æ¥</p><div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div>2.æˆ–è€…å«æœ‰å›¾æ ‡çš„æŒ‰é’®<div class="btns rounded grid5">            <a class="button" href='/' title='ä¸‹è½½æºç '><i class='fas fa-download'></i>ä¸‹è½½æºç </a><a class="button" href='/' title='æŸ¥çœ‹æ–‡æ¡£'><i class='fas fa-book-open'></i>æŸ¥çœ‹æ–‡æ¡£</a>          </div>3.åœ†å½¢å›¾æ ‡ + æ ‡é¢˜ + æè¿° + å›¾ç‰‡ + ç½‘æ ¼5åˆ— + å±…ä¸­<div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'>  <i class='fab fa-apple'></i>  <b>å¿ƒç‡ç®¡å®¶</b>  <p class='p red'>ä¸“ä¸šç‰ˆ</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'>  <i class='fab fa-apple'></i>  <b>å¿ƒç‡ç®¡å®¶</b>  <p class='p green'>å…è´¹ç‰ˆ</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-12-githubå¡ç‰‡-ghcard"><a href="#2-12-githubå¡ç‰‡-ghcard" class="headerlink" title="2.12 githubå¡ç‰‡ ghcard"></a>2.12 githubå¡ç‰‡ ghcard</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% ghcard ç”¨æˆ·å, å…¶å®ƒå‚æ•°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% ghcard ç”¨æˆ·å/ä»“åº“, å…¶å®ƒå‚æ•°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>ä½¿ç”¨<code>,</code>åˆ†å‰²å„ä¸ªå‚æ•°ã€‚å†™æ³•ä¸ºï¼š<code>å‚æ•°å=å‚æ•°å€¼</code><br>ä»¥ä¸‹åªå†™å‡ ä¸ªå¸¸ç”¨å‚æ•°å€¼ã€‚</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°å</strong></th><th>å–å€¼</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td>hide</td><td>stars,commits,prs,issues,contribs</td><td>éšè—æŒ‡å®šç»Ÿè®¡</td></tr><tr><td>count_private</td><td>true</td><td>å°†ç§äººé¡¹ç›®è´¡çŒ®æ·»åŠ åˆ°æ€»æäº¤è®¡æ•°ä¸­</td></tr><tr><td>show_icons</td><td>true</td><td>æ˜¾ç¤ºå›¾æ ‡</td></tr><tr><td>theme</td><td>æŸ¥é˜…:<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">Available Themes</a></td><td>ä¸»é¢˜</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.ç”¨æˆ·ä¿¡æ¯å¡ç‰‡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard fomalhaut1998 %&#125; | &#123;% ghcard fomalhaut1998, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=buefy %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=onedark %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=algolia %&#125; | &#123;% ghcard fomalhaut1998, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><p>2.ä»“åº“ä¿¡æ¯å¡ç‰‡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.ç”¨æˆ·ä¿¡æ¯å¡ç‰‡</p><div class="table-container"><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=calm&show_owner=true"/></a></td></tr></tbody></table></div><p>2.ä»“åº“ä¿¡æ¯å¡ç‰‡</p><div class="table-container"><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true"/></a></td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-13-githubå¾½æ ‡-ghbdage"><a href="#2-13-githubå¾½æ ‡-ghbdage" class="headerlink" title="2.13 githubå¾½æ ‡ ghbdage"></a>2.13 githubå¾½æ ‡ ghbdage</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage [right],[left],[logo]||[color],[link],[title]||[option] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>left</code>ï¼šå¾½æ ‡å·¦è¾¹çš„ä¿¡æ¯ï¼Œå¿…é€‰å‚æ•°ã€‚</li><li><code>right</code>: å¾½æ ‡å³è¾¹çš„ä¿¡æ¯ï¼Œå¿…é€‰å‚æ•°ï¼Œ</li><li><code>logo</code>ï¼šå¾½æ ‡å›¾æ ‡ï¼Œå›¾æ ‡åç§°è¯¦è§<a href="https://simpleicons.org/">simpleicons</a>ï¼Œå¯é€‰å‚æ•°ã€‚</li><li><code>color</code>ï¼šå¾½æ ‡å³è¾¹çš„é¢œè‰²ï¼Œå¯é€‰å‚æ•°ã€‚</li><li><code>link</code>ï¼šæŒ‡å‘çš„é“¾æ¥ï¼Œå¯é€‰å‚æ•°ã€‚</li><li><code>title</code>ï¼šå¾½æ ‡çš„é¢å¤–ä¿¡æ¯ï¼Œå¯é€‰å‚æ•°ã€‚ä¸»è¦ç”¨äºä¼˜åŒ–SEOï¼Œä½†<code>object</code>æ ‡ç­¾ä¸ä¼šåƒ<code>a</code>æ ‡ç­¾ä¸€æ ·åœ¨é¼ æ ‡æ‚¬åœæ˜¾ç¤º<code>title</code>ä¿¡æ¯ã€‚</li><li><code>option</code>ï¼šè‡ªå®šä¹‰å‚æ•°ï¼Œæ”¯æŒ<a href="https://shields.io/">shields.io</a>çš„å…¨éƒ¨APIå‚æ•°æ”¯æŒï¼Œå…·ä½“å‚æ•°å¯ä»¥å‚çœ‹ä¸Šæ–‡ä¸­çš„æ‹“å±•å†™æ³•ç¤ºä¾‹ã€‚å½¢å¼ä¸º<code>name1=value2&amp;name2=value2</code>ã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.åŸºæœ¬å‚æ•°,å®šä¹‰å¾½æ ‡å·¦å³æ–‡å­—å’Œå›¾æ ‡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Theme,Butterfly %&#125;</span><br><span class="line">&#123;% bdage Frame,Hexo,hexo %&#125;</span><br></pre></td></tr></table></figure><p>2.ä¿¡æ¯å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å³ä¾§å†…å®¹èƒŒæ™¯è‰²ï¼ŒæŒ‡å‘é“¾æ¥</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage CDN,JsDelivr,jsDelivr||abcdef,https://metroui.org.ua/index.html,æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ %&#125;</span><br><span class="line">//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ï¼Œä»ç„¶éœ€è¦å†™ä¸ªé€—å·,ç”¨ä½œåˆ†å‰²</span><br><span class="line">&#123;% bdage Source,GitHub,GitHub||,https://github.com/ %&#125;</span><br></pre></td></tr></table></figure><p>3.æ‹“å±•å‚æ•°ï¼Œæ”¯æŒshieldsçš„APIçš„å…¨éƒ¨å‚æ•°å†…å®¹</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Hosted,Vercel,Vercel||brightgreen,https://vercel.com/,æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel||style=social&amp;logoWidth=20 %&#125;</span><br><span class="line">//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ç»„ï¼Œä»ç„¶éœ€è¦å†™åŒç«–çº¿||ç”¨ä½œåˆ†å‰²</span><br><span class="line">&#123;% bdage Hosted,Vercel,Vercel||||style=social&amp;logoWidth=20&amp;logoColor=violet %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.åŸºæœ¬å‚æ•°,å®šä¹‰å¾½æ ‡å·¦å³æ–‡å­—å’Œå›¾æ ‡</p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Butterfly-Theme-orange?logo=&color=orange&link=&"></object><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Hexo-Frame-orange?logo=hexo&color=orange&link=&"></object><p>2.ä¿¡æ¯å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å³ä¾§å†…å®¹èƒŒæ™¯è‰²ï¼ŒæŒ‡å‘é“¾æ¥</p><object class="ghbdage" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" standby="loading..." data="https://img.shields.io/badge/JsDelivr-CDN-orange?logo=jsDelivr&color=abcdef&link=https://metroui.org.ua/index.html&"></object>//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ï¼Œä»ç„¶éœ€è¦å†™ä¸ªé€—å·,ç”¨ä½œåˆ†å‰²<object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Source-orange?logo=GitHub&color=orange&link=https://github.com/&"></object><p>3.æ‹“å±•å‚æ•°ï¼Œæ”¯æŒshieldsçš„APIçš„å…¨éƒ¨å‚æ•°å†…å®¹</p><object class="ghbdage" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=brightgreen&link=https://vercel.com/&style=social&logoWidth=20"></object>//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ç»„ï¼Œä»ç„¶éœ€è¦å†™åŒç«–çº¿||ç”¨ä½œåˆ†å‰²<object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=orange&link=&style=social&logoWidth=20&logoColor=violet"></object><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-14-ç½‘ç«™å¡ç‰‡-sites"><a href="#2-14-ç½‘ç«™å¡ç‰‡-sites" class="headerlink" title="2.14 ç½‘ç«™å¡ç‰‡ sites"></a>2.14 ç½‘ç«™å¡ç‰‡ sites</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾é“¾æ¥, avatar=å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰, description=æè¿°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾é“¾æ¥, avatar=å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰, description=æè¿°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png, description=ç®€çº¦é£æ ¼ %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class="site-card-group"><a class="site-card" href="https://fomalhaut1998.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png"/><span class="title">fomalhaut1998</span><span class="desc">ç®€çº¦é£æ ¼</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-15-è¡Œå†…å›¾ç‰‡-inlineimage"><a href="#2-15-è¡Œå†…å›¾ç‰‡-inlineimage" class="headerlink" title="2.15 è¡Œå†…å›¾ç‰‡ inlineimage"></a>2.15 è¡Œå†…å›¾ç‰‡ inlineimage</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineimage å›¾ç‰‡é“¾æ¥, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>é«˜åº¦</code>ï¼šheight=20px</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; ä¸€æ®µè¯ã€‚</span><br><span class="line"></span><br><span class="line">è¿™åˆæ˜¯ &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; ä¸€æ®µè¯ã€‚</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>è¿™æ˜¯ <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> ä¸€æ®µè¯ã€‚</p><p>è¿™åˆæ˜¯ <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> ä¸€æ®µè¯ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-16-å•å¼ å›¾ç‰‡-image"><a href="#2-16-å•å¼ å›¾ç‰‡-image" class="headerlink" title="2.16 å•å¼ å›¾ç‰‡ image"></a>2.16 å•å¼ å›¾ç‰‡ image</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image é“¾æ¥, width=å®½åº¦ï¼ˆå¯é€‰ï¼‰, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰, alt=æè¿°ï¼ˆå¯é€‰ï¼‰, bg=å ä½é¢œè‰²ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li>å›¾ç‰‡å®½åº¦é«˜åº¦ï¼šwidth=300px, height=32px</li><li>å›¾ç‰‡æè¿°ï¼šalt=å›¾ç‰‡æè¿°ï¼ˆbutterflyéœ€è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¼€å¯å›¾ç‰‡æè¿°ï¼‰</li><li>å ä½èƒŒæ™¯è‰²ï¼šbg=#f2f2f2</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.æ·»åŠ æè¿°ï¼š<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, alt=æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚ %&#125;</span><br></pre></td></tr></table></figure><br>2.æŒ‡å®šå®½åº¦<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px %&#125;</span><br></pre></td></tr></table></figure><br>3.æŒ‡å®šå®½åº¦å¹¶æ·»åŠ æè¿°ï¼š<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, alt=æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚ %&#125;</span><br></pre></td></tr></table></figure><br>4.è®¾ç½®å ä½èƒŒæ™¯è‰²ï¼š<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, bg=#1D0C04, alt=ä¼˜åŒ–ä¸åŒå®½åº¦æµè§ˆçš„è§‚æ„Ÿ %&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.æ·»åŠ æè¿°ï¼š</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚"/></div><span class="image-caption">æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚</span></div>2..æŒ‡å®šå®½åº¦<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" style="width:400px;"/></div></div>3.æŒ‡å®šå®½åº¦å¹¶æ·»åŠ æè¿°ï¼š<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚" style="width:400px;"/></div><span class="image-caption">æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚</span></div>4.è®¾ç½®å ä½èƒŒæ™¯è‰²ï¼š<div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="ä¼˜åŒ–ä¸åŒå®½åº¦æµè§ˆçš„è§‚æ„Ÿ" style="width:400px;"/></div><span class="image-caption">ä¼˜åŒ–ä¸åŒå®½åº¦æµè§ˆçš„è§‚æ„Ÿ</span></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-17-éŸ³é¢‘-audio"><a href="#2-17-éŸ³é¢‘-audio" class="headerlink" title="2.17 éŸ³é¢‘ audio"></a>2.17 éŸ³é¢‘ audio</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio éŸ³é¢‘é“¾æ¥ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-18-è§†é¢‘-video"><a href="#2-18-è§†é¢‘-video" class="headerlink" title="2.18 è§†é¢‘ video"></a>2.18 è§†é¢‘ video</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video è§†é¢‘é“¾æ¥ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>å¯¹é½æ–¹å‘</code>ï¼šleft, center, right</li><li><code>åˆ—æ•°</code>ï¼šé€—å·åé¢ç›´æ¥å†™åˆ—æ•°ï¼Œæ”¯æŒ 1 ï½ 4 åˆ—ã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.100%å®½åº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>2.50%å®½åº¦<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 2 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><br>3.25%å®½åº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.100%å®½åº¦</p><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div>2.50%å®½åº¦<div class="videos" col='2'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div>3.25%å®½åº¦<div class="videos" col='4'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-19-ç›¸å†Œ-gallery"><a href="#2-19-ç›¸å†Œ-gallery" class="headerlink" title="2.19 ç›¸å†Œ gallery"></a>2.19 ç›¸å†Œ gallery</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>1.gallerygroup ç›¸å†Œå›¾åº“<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><br>2.gallery ç›¸å†Œ<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown åœ–ç‰‡æ ¼å¼</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ul><li>gallerygroup ç›¸å†Œå›¾åº“</li></ul><div class="table-container"><table><thead><tr><th>å‚æ•°å</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td>name</td><td>å›¾åº“åå­—</td></tr><tr><td>description</td><td>å›¾åº“æè¿°</td></tr><tr><td>link</td><td>é“¾æ¥åˆ°å¯¹åº”ç›¸å†Œçš„åœ°å€</td></tr><tr><td>img-url</td><td>å›¾åº“å°é¢</td></tr></tbody></table></div><ul><li><p>gallery ç›¸å†Œ</p><p>åŒºåˆ«äºæ—§ç‰ˆçš„Galleryç›¸å†Œ,æ–°çš„Galleryç›¸å†Œä¼šè‡ªåŠ¨æ ¹æ®å›¾ç‰‡é•¿åº¦è¿›è¡Œæ’ç‰ˆï¼Œä¹¦å†™ä¹Ÿæ›´åŠ æ–¹ä¾¿ï¼Œä¸markdownæ ¼å¼ä¸€æ ·ã€‚å¯æ ¹æ®éœ€è¦æ’å…¥åˆ°ç›¸åº”çš„mdã€‚æ— éœ€å†è‡ªå·±é…ç½®é•¿å®½ã€‚<strong>å»ºè®®åœ¨ç²˜è´´æ—¶æ•…æ„ä½¿ç”¨é•¿çŸ­ã€å¤§å°ã€æ¨ªç«–ä¸ä¸€çš„å›¾ç‰‡</strong>ï¼Œä¼šæœ‰æ›´å¥½çš„æ•ˆæœã€‚ï¼ˆå°ºå¯¸å®Œå…¨ç›¸åŒçš„å›¾ç‰‡åªä¼šå¹³é“ºè¾“å‡ºï¼Œæ•ˆæœå¾ˆç³Ÿç³•ï¼‰</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.gallerygroup ç›¸å†Œå›¾åº“</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup MC åœ¨Rikkaã®å…­èŠ±æœåŠ¡å™¨é‡Œç•™ä¸‹çš„è¶³è¿¹ &#x27;/gallery/MC/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup Gundam å“¦å’§å“‡gundamå“’ï¼ &#x27;/gallery/Gundam/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png %&#125;</span><br><span class="line">&#123;% galleryGroup I-am-Akilar æŸç§æ„ä¹‰ä¸Šä¹Ÿç®—è‡ªæ‹å§ &#x27;/gallery/I-am-Akilar/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery ç›¸å†Œ</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg</span>)</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.gallerygroup ç›¸å†Œå›¾åº“</p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">MC</div>  <p>åœ¨Rikkaã®å…­èŠ±æœåŠ¡å™¨é‡Œç•™ä¸‹çš„è¶³è¿¹</p>  <a href='/gallery/MC/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Gundam</div>  <p>å“¦å’§å“‡gundamå“’ï¼</p>  <a href='/gallery/Gundam/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">I-am-Akilar</div>  <p>æŸç§æ„ä¹‰ä¸Šä¹Ÿç®—è‡ªæ‹å§</p>  <a href='/gallery/I-am-Akilar/'></a>  </figcaption>  </figure></div>2.gallery ç›¸å†Œ<div class="fj-gallery"><p><img src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg" alt=""></p>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-20-æŠ˜å æ¡†-folding"><a href="#2-20-æŠ˜å æ¡†-folding" class="headerlink" title="2.20 æŠ˜å æ¡† folding"></a>2.20 æŠ˜å æ¡† folding</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>1.gallerygroup ç›¸å†Œå›¾åº“<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ ‡é¢˜ %&#125;</span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><br><!-- tab å‚æ•°é…ç½® --></p><ol><li><p><code>é¢œè‰²</code>ï¼šblue, cyan, green, yellow, red</p></li><li><p><code>çŠ¶æ€</code>ï¼šçŠ¶æ€å¡«å†™ open ä»£è¡¨é»˜è®¤æ‰“å¼€ã€‚</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† %&#125;</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, æŸ¥çœ‹ä»£ç æµ‹è¯• %&#125;</span><br><span class="line">å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, æŸ¥çœ‹åµŒå¥—æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><details class="folding-tag" ><summary> æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† </summary>              <div class='content'>              <p>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</p>              </div>            </details><details class="folding-tag" green><summary> æŸ¥çœ‹ä»£ç æµ‹è¯• </summary>              <div class='content'>              <p>å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</p>              </div>            </details><details class="folding-tag" yellow><summary> æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯• </summary>              <div class='content'>              <details class="folding-tag" blue><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-21-åˆ†æ -tab"><a href="#2-21-åˆ†æ -tab" class="headerlink" title="2.21 åˆ†æ  tab"></a>2.21 åˆ†æ  tab</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><p>Unique name :</p><ul><li><p>é€‰é¡¹å¡å—æ ‡ç­¾çš„å”¯ä¸€åç§°ï¼Œä¸å¸¦é€—å·ã€‚</p></li><li><p>å°†åœ¨#idä¸­ç”¨ä½œæ¯ä¸ªæ ‡ç­¾åŠå…¶ç´¢å¼•å·çš„å‰ç¼€ã€‚</p></li><li><p>å¦‚æœåç§°ä¸­åŒ…å«ç©ºæ ¼ï¼Œåˆ™å¯¹äºç”Ÿæˆ#idï¼Œæ‰€æœ‰ç©ºæ ¼å°†ç”±ç ´æŠ˜å·ä»£æ›¿ã€‚</p></li><li><p>ä»…å½“å‰å¸–å­/é¡µé¢çš„URLå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼</p></li></ul></li><li><p>[index]:</p><ul><li><p>æ´»åŠ¨é€‰é¡¹å¡çš„ç´¢å¼•å·ã€‚</p></li><li><p>å¦‚æœæœªæŒ‡å®šï¼Œå°†é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼ˆ1ï¼‰ã€‚</p></li><li><p>å¦‚æœindexä¸º-1ï¼Œåˆ™ä¸ä¼šé€‰æ‹©ä»»ä½•é€‰é¡¹å¡ã€‚</p></li><li><p>å¯é€‰å‚æ•°ã€‚</p></li></ul></li><li><p>[Tab caption]:</p><ul><li><p>å½“å‰é€‰é¡¹å¡çš„æ ‡é¢˜ã€‚</p></li><li><p>å¦‚æœæœªæŒ‡å®šæ ‡é¢˜ï¼Œåˆ™å¸¦æœ‰åˆ¶è¡¨ç¬¦ç´¢å¼•åç¼€çš„å”¯ä¸€åç§°å°†ç”¨ä½œåˆ¶è¡¨ç¬¦çš„æ ‡é¢˜ã€‚</p></li><li><p>å¦‚æœæœªæŒ‡å®šæ ‡é¢˜ï¼Œä½†æŒ‡å®šäº†å›¾æ ‡ï¼Œåˆ™æ ‡é¢˜å°†ä¸ºç©ºã€‚</p></li><li><p>å¯é€‰å‚æ•°ã€‚</p></li></ul></li><li><p>[@icon]:</p><ul><li><p>FontAwesomeå›¾æ ‡åç§°ï¼ˆå…¨åï¼Œçœ‹èµ·æ¥åƒâ€œ fas fa-fontâ€ï¼‰</p></li><li><p>å¯ä»¥æŒ‡å®šå¸¦ç©ºæ ¼æˆ–ä¸å¸¦ç©ºæ ¼ï¼›</p></li><li><p>ä¾‹å¦‚â€™Tab caption @iconâ€™ å’Œ â€˜Tab caption@iconâ€™.</p></li><li><p>å¯é€‰å‚æ•°ã€‚</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>2.Demo 2 - é¢„è®¾é€‰æ‹©tabs</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>3.Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>4.Demo 4 - è‡ªå®šä¹‰Tabå + åªæœ‰icon + iconå’ŒTabå</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab ç¬¬ä¸€ä¸ªTab --&gt;</span><br><span class="line"><span class="strong">**tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç‚¸å¼¹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**åå­—+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>2.Demo 2 - é¢„è®¾é€‰æ‹©tabs</p><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>3.Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>4.Demo 4 - è‡ªå®šä¹‰Tabå + åªæœ‰icon + iconå’ŒTabå</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-22-è¯—è¯æ ‡ç­¾-poem"><a href="#2-22-è¯—è¯æ ‡ç­¾-poem" class="headerlink" title="2.22 è¯—è¯æ ‡ç­¾ poem"></a>2.22 è¯—è¯æ ‡ç­¾ poem</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><ol><li><code>title</code>ï¼šè¯—è¯æ ‡é¢˜</li><li><code>author</code>ï¼šä½œè€…ï¼Œå¯ä»¥ä¸å†™</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem æ°´è°ƒæ­Œå¤´,è‹è½¼ %&#125;</span><br><span class="line">ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ï¼Œå…¼æ€€å­ç”±ã€‚</span><br><span class="line">æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚</span><br><span class="line">ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ</span><br><span class="line">æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚</span><br><span class="line">èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ</span><br><span class="line"></span><br><span class="line">è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚</span><br><span class="line">ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ</span><br><span class="line">äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚</span><br><span class="line">ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class='poem'><div class='poem-title'>æ°´è°ƒæ­Œå¤´</div><div class='poem-author'>è‹è½¼</div><p>ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ï¼Œå…¼æ€€å­ç”±ã€‚<br>æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚<br>ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ<br>æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚<br>èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ</p><p>è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚<br>ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ<br>äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚<br>ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-23-é˜¿é‡Œå›¾æ ‡-icon"><a href="#2-23-é˜¿é‡Œå›¾æ ‡-icon" class="headerlink" title="2.23 é˜¿é‡Œå›¾æ ‡ icon"></a>2.23 é˜¿é‡Œå›¾æ ‡ icon</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon [icon-xxxx],[font-size] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>icon-xxxx</code>ï¼šè¡¨ç¤ºå›¾æ ‡<code>font-class</code>,å¯ä»¥åœ¨è‡ªå·±çš„é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“é¡¹ç›®çš„<code>font-class</code>å¼•ç”¨æ–¹æ¡ˆå†…æŸ¥è¯¢å¹¶å¤åˆ¶ã€‚</li><li><code>font-size</code>ï¼šè¡¨ç¤ºå›¾æ ‡å¤§å°ï¼Œç›´æ¥å¡«å†™æ•°å­—å³å¯ï¼Œå•ä½ä¸º<code>em</code>ã€‚å›¾æ ‡å¤§å°é»˜è®¤å€¼ä¸º<code>1em</code>ã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon icon-rat<span class="emphasis">_zi %&#125;&#123;% icon icon-rat,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-ox_</span>chou,3 %&#125;&#123;% icon icon-ox,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-tiger<span class="emphasis">_yin,5 %&#125;&#123;% icon icon-tiger,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rabbit_</span>mao,1 %&#125;&#123;% icon icon-rabbit,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dragon<span class="emphasis">_chen,3 %&#125;&#123;% icon icon-dragon,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-snake_</span>si,5 %&#125;&#123;% icon icon-snake,6 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-horse<span class="emphasis">_wu %&#125;&#123;% icon icon-horse,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-goat_</span>wei,3 %&#125;&#123;% icon icon-goat,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-monkey<span class="emphasis">_shen,5 %&#125;&#123;% icon icon-monkey,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rooster_</span>you %&#125;&#123;% icon icon-rooster,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dog<span class="emphasis">_xu,3 %&#125;&#123;% icon icon-dog,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-boar_</span>hai,5 %&#125;&#123;% icon icon-boar,6 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rat_zi"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rat"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-ox_chou"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-ox"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-tiger_yin"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-tiger"></use></svg><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rabbit_mao"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rabbit"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dragon_chen"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dragon"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-snake_si"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-snake"></use></svg><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-horse_wu"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-horse"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-goat_wei"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-goat"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-monkey_shen"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-monkey"></use></svg><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rooster_you"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rooster"></use></svg><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dog_xu"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dog"></use></svg><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-boar_hai"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-boar"></use></svg><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-24-ç‰¹æ•ˆæ ‡ç­¾wow"><a href="#2-24-ç‰¹æ•ˆæ ‡ç­¾wow" class="headerlink" title="2.24 ç‰¹æ•ˆæ ‡ç­¾wow"></a>2.24 ç‰¹æ•ˆæ ‡ç­¾wow</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow [animete],[duration],[delay],[offset],[iteration] %&#125;</span><br><span class="line">å†…å®¹</span><br><span class="line">&#123;% endwow %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>animate</code>: åŠ¨ç”»æ ·å¼ï¼Œæ•ˆæœè¯¦è§<a href="https://animate.style/">animate.csså‚è€ƒæ–‡æ¡£</a></li><li><code>duration</code>: é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»æŒç»­æ—¶é—´ï¼Œå•ä½å¯ä»¥æ˜¯<code>ms</code>ä¹Ÿå¯ä»¥æ˜¯<code>s</code>ã€‚ä¾‹å¦‚<code>3s</code>ï¼Œ<code>700ms</code>ã€‚</li><li><code>delay</code>: é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»å¼€å§‹çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½å¯ä»¥æ˜¯<code>ms</code>ä¹Ÿå¯ä»¥æ˜¯<code>s</code>ã€‚ä¾‹å¦‚<code>3s</code>ï¼Œ<code>700ms</code>ã€‚</li><li><code>offset</code>: é€‰å¡«é¡¹ï¼Œå¼€å§‹åŠ¨ç”»çš„è·ç¦»ï¼ˆç›¸å¯¹æµè§ˆå™¨åº•éƒ¨ï¼‰</li><li><code>iteration</code>: é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»é‡å¤çš„æ¬¡æ•°</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.flipåŠ¨ç”»æ•ˆæœã€‚<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­`5s`ï¼Œå»¶æ—¶`5s`ï¼Œç¦»åº•éƒ¨`100`è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤`10`æ¬¡</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><br>2.zoomInåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5sï¼Œç¦»åº•éƒ¨100è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤10æ¬¡<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­`5s`ï¼Œå»¶æ—¶`5s`ï¼Œç¦»åº•éƒ¨`100`è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤`10`æ¬¡</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><br>3.slideInRightåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5s<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__slideInRight,5s,5s %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note orange &#x27;fas fa-car&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`slideInRight`åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­`5s`ï¼Œå»¶æ—¶`5s`ã€‚</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><br>4.heartBeatåŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶5sï¼Œé‡å¤10æ¬¡ã€‚æ­¤å¤„æ³¨æ„ä¸ç”¨çš„å‚æ•°ä½ç½®è¦ç•™ç©ºï¼Œç”¨é€—å·é—´éš”ã€‚<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__heartBeat,,5s,,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note red &#x27;fas fa-battery-half&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`heartBeat`åŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶`5s`ï¼Œé‡å¤`10`æ¬¡ã€‚</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.flipåŠ¨ç”»æ•ˆæœã€‚</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­<code>5s</code>ï¼Œå»¶æ—¶<code>5s</code>ï¼Œç¦»åº•éƒ¨<code>100</code>è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤<code>10</code>æ¬¡</p></div></div><p>2.zoomInåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5sï¼Œç¦»åº•éƒ¨100è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤10æ¬¡</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­<code>5s</code>ï¼Œå»¶æ—¶<code>5s</code>ï¼Œç¦»åº•éƒ¨<code>100</code>è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤<code>10</code>æ¬¡</p></div></div><p>3.slideInRightåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5s</p><div class='wow animate__slideInRight' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-car"></i><p><code>slideInRight</code>åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­<code>5s</code>ï¼Œå»¶æ—¶<code>5s</code>ã€‚</p></div></div><p>4.heartBeatåŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶5sï¼Œé‡å¤10æ¬¡ã€‚æ­¤å¤„æ³¨æ„ä¸ç”¨çš„å‚æ•°ä½ç½®è¦ç•™ç©ºï¼Œç”¨é€—å·é—´éš”ã€‚</p><div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p><code>heartBeat</code>åŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶<code>5s</code>ï¼Œé‡å¤<code>10</code>æ¬¡ã€‚</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-25-è¿›åº¦æ¡-progress"><a href="#2-25-è¿›åº¦æ¡-progress" class="headerlink" title="2.25  è¿›åº¦æ¡ progress"></a>2.25  è¿›åº¦æ¡ progress</h2><div class="note info flat"><p>è¿›åº¦æ¡æ ‡ç­¾å‚è€ƒ<a href="https://rongbuqiu.com/jdt.html">æ²‚ä½°å­œçŒ«-ç»™HEXOæ–‡ç« æ·»åŠ å½©è‰²è¿›åº¦æ¡</a>ã€‚<br>æºæ ·å¼æå–è‡ª<a href="https://zwying0814.gitbook.io/cuteen/">Cuteen</a>ä¸»é¢˜ã€‚</p></div><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress [width] [color] [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>width</code>: 0åˆ°100çš„é˜¿æ‹‰ä¼¯æ•°å­—</li><li><code>color</code>: é¢œè‰²ï¼Œå–å€¼æœ‰red,yellow,green,cyan,blue,gray</li><li><code>text</code>:è¿›åº¦æ¡ä¸Šçš„æ–‡å­—å†…å®¹</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress 10 red è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 30 yellow è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 50 green è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 70 cyan è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 90 blue è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 100 gray è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-26-æ³¨é‡Š-notation"><a href="#2-26-æ³¨é‡Š-notation" class="headerlink" title="2.26 æ³¨é‡Š notation"></a>2.26 æ³¨é‡Š notation</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota [label] , [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><p><code>label</code>: æ³¨é‡Šè¯æ±‡</p></li><li><p><code>text</code>: æ‚¬åœæ˜¾ç¤ºçš„æ³¨è§£å†…å®¹</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota æŠŠé¼ æ ‡ç§»åŠ¨åˆ°æˆ‘ä¸Šé¢è¯•è¯• ,å¯ä»¥çœ‹åˆ°æ³¨è§£å†…å®¹å‡ºç°åœ¨é¡¶æ  %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p><span class='nota' data-nota='å¯ä»¥çœ‹åˆ°æ³¨è§£å†…å®¹å‡ºç°åœ¨é¡¶æ '>æŠŠé¼ æ ‡ç§»åŠ¨åˆ°æˆ‘ä¸Šé¢è¯•è¯•</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-27-æ°”æ³¡æ³¨é‡Š-bubble"><a href="#2-27-æ°”æ³¡æ³¨é‡Š-bubble" class="headerlink" title="2.27 æ°”æ³¡æ³¨é‡Š bubble"></a>2.27 æ°”æ³¡æ³¨é‡Š bubble</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bubble [content] , [notation] ,[background-color] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>content</code>: æ³¨é‡Šè¯æ±‡</li><li><code>notation</code>: æ‚¬åœæ˜¾ç¤ºçš„æ³¨è§£å†…å®¹</li><li><code>background-color</code>: å¯é€‰ï¼Œæ°”æ³¡èƒŒæ™¯è‰²ã€‚é»˜è®¤ä¸ºâ€œ#71a4e3â€</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ€è¿‘æˆ‘å­¦åˆ°äº†ä¸å°‘æ–°ç©æ„å„¿ï¼ˆè™½ç„¶å¯¹å¾ˆå¤šå¤§ä½¬æ¥è¯´è¿™äº›å·²ç»æ˜¯æ—§æŠ€æœ¯äº†ï¼‰ï¼Œæ¯”å¦‚CSSçš„&#123;% bubble å…„å¼Ÿç›¸é‚»é€‰æ‹©å™¨,&quot;ä¾‹å¦‚ h1 + p &#123;margin-top:50px;&#125;&quot; %&#125;ï¼Œ&#123;% bubble flexå¸ƒå±€,&quot;Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸º&quot;å¼¹æ€§å¸ƒå±€&quot;ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§&quot;,&quot;#ec5830&quot; %&#125;ï¼Œ&#123;% bubble transformå˜æ¢,&quot;transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚&quot;,&quot;#1db675&quot; %&#125;ï¼Œanimationçš„&#123;% bubble è´å¡å°”é€Ÿåº¦æ›²çº¿,&quot;è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹&quot;,&quot;#de4489&quot; %&#125;å†™æ³•ï¼Œè¿˜æœ‰ä»Šå¤©åˆšçœ‹åˆ°çš„&#123;% bubble clip-path,&quot;clip-pathå±æ€§ä½¿ç”¨è£å‰ªæ–¹å¼åˆ›å»ºå…ƒç´ çš„å¯æ˜¾ç¤ºåŒºåŸŸã€‚åŒºåŸŸå†…çš„éƒ¨åˆ†æ˜¾ç¤ºï¼ŒåŒºåŸŸå¤–çš„éšè—ã€‚&quot;,&quot;#868fd7&quot; %&#125;å±æ€§ã€‚è¿™äº›å¯¹æˆ‘æ¥è¯´å¾ˆæ–°é¢–çš„æ¦‚å¿µç‹ ç‹ çš„å†²å‡»ç€æˆ‘ä»¥å‰ç§¯ç´¯èµ·æ¥çš„è®¾è®¡æ€è·¯ã€‚</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>æœ€è¿‘æˆ‘å­¦åˆ°äº†ä¸å°‘æ–°ç©æ„å„¿ï¼ˆè™½ç„¶å¯¹å¾ˆå¤šå¤§ä½¬æ¥è¯´è¿™äº›å·²ç»æ˜¯æ—§æŠ€æœ¯äº†ï¼‰ï¼Œæ¯”å¦‚CSSçš„<span class="bubble-content">å…„å¼Ÿç›¸é‚»é€‰æ‹©å™¨</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">ä¾‹å¦‚ h1 + p {margin-top:50px;}</span>&lt;/span&gt;ï¼Œ<span class="bubble-content">flexå¸ƒå±€</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#ec5830;">Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸ºå¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§â€</span>&lt;/span&gt;ï¼Œ<span class="bubble-content">transformå˜æ¢</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚</span>&lt;/span&gt;ï¼Œanimationçš„<span class="bubble-content">è´å¡å°”é€Ÿåº¦æ›²çº¿</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#de4489;">è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹</span>&lt;/span&gt;å†™æ³•ï¼Œè¿˜æœ‰ä»Šå¤©åˆšçœ‹åˆ°çš„<span class="bubble-content">clip-path</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#868fd7;">clip-pathå±æ€§ä½¿ç”¨è£å‰ªæ–¹å¼åˆ›å»ºå…ƒç´ çš„å¯æ˜¾ç¤ºåŒºåŸŸã€‚åŒºåŸŸå†…çš„éƒ¨åˆ†æ˜¾ç¤ºï¼ŒåŒºåŸŸå¤–çš„éšè—ã€‚</span>&lt;/span&gt;å±æ€§ã€‚è¿™äº›å¯¹æˆ‘æ¥è¯´å¾ˆæ–°é¢–çš„æ¦‚å¿µç‹ ç‹ çš„å†²å‡»ç€æˆ‘ä»¥å‰ç§¯ç´¯èµ·æ¥çš„è®¾è®¡æ€è·¯ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-28-å¼•ç”¨æ–‡çŒ®-reference"><a href="#2-28-å¼•ç”¨æ–‡çŒ®-reference" class="headerlink" title="2.28 å¼•ç”¨æ–‡çŒ® reference"></a>2.28 å¼•ç”¨æ–‡çŒ® reference</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% referto [id] , [literature] %&#125;</span><br><span class="line">&#123;% referfrom [id] , [literature] , [url] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><p>referto å¼•ç”¨ä¸Šæ ‡</p><ul><li><p><code>id</code>: ä¸Šæ ‡åºå·å†…å®¹ï¼Œéœ€ä¸referfromæ ‡ç­¾çš„idå¯¹åº”æ‰èƒ½å®ç°è·³è½¬</p></li><li><p><code>literature</code>: å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®åç§°</p></li></ul></li><li><p>referfrom å¼•ç”¨å‡ºå¤„</p><ul><li><p><code>id</code>: åºå·å†…å®¹ï¼Œéœ€ä¸refertoæ ‡ç­¾çš„idå¯¹åº”æ‰èƒ½å®ç° è·³è½¬</p></li><li><p><code>literature</code>: å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®åç§°</p></li><li><p><code>url</code>: å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®é“¾æ¥ï¼Œå¯çœç•¥</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Akilarã®ç³–æœå±‹(akilar.top)æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢&#123;% referto &#x27;[1]&#x27;,&#x27;Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹&#x27; %&#125;ï¼Œä»å„ç±»æ•™ç¨‹è‡³ç”Ÿæ´»ç‚¹æ»´ï¼Œæ— è¯ä¸è°ˆã€‚å»ºç¾¤çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªé—²èŠçš„åœºæ‰€ã€‚åšå®¢é‡‡ç”¨Hexoæ¡†æ¶&#123;% referto &#x27;[2]&#x27;,&#x27;Hexoä¸­æ–‡æ–‡æ¡£&#x27; %&#125;ï¼ŒButterflyä¸»é¢˜&#123;% referto &#x27;[3]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">æœ¬é¡¹ç›®å‚è€ƒäº†Volantis&#123;% referto &#x27;[4]&#x27;,&#x27;hexo-theme-volantis æ ‡ç­¾æ’ä»¶&#x27; %&#125;çš„æ ‡ç­¾æ ·å¼ã€‚å¼•å…¥<span class="code">`[tag].js`</span>ï¼Œå¹¶é’ˆå¯¹<span class="code">`butterfly`</span>ä¸»é¢˜ä¿®æ”¹äº†ç›¸åº”çš„<span class="code">`[tag].styl`</span>ã€‚åœ¨æ­¤é¸£è°¢<span class="code">`Volantis`</span>ä¸»é¢˜ä¼—å¼€å‘è€…ã€‚</span><br><span class="line">ä¸»è¦å‚è€ƒå†…å®¹åŒ…æ‹¬å„ä¸ªvolantisçš„å†…ç½®æ ‡ç­¾æ’ä»¶æ–‡æ¡£&#123;% referto &#x27;[5]&#x27;,&#x27;Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶&#x27; %&#125;</span><br><span class="line">Butterflyä¸»é¢˜çš„å„ä¸ªè¡ç”Ÿé­”æ”¹&#123;% referto &#x27;[6]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins&#x27; %&#125;&#123;% referto &#x27;[7]&#x27;,&#x27;å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ&#x27; %&#125;&#123;% referto &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27; %&#125;&#123;% referto &#x27;[9]&#x27;,&#x27;å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% referfrom &#x27;[1]&#x27;,&#x27;Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹&#x27;,&#x27;https://jq.qq.com/?<span class="emphasis">_wv=1027&amp;k=pGLB2C0N&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[2]&#x27;,&#x27;Hexoä¸­æ–‡æ–‡æ¡£&#x27;,&#x27;https://hexo.io/zh-cn/docs/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[3]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹&#x27;,&#x27;https://butterfly.js.org/posts/21cfbf15/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[4]&#x27;,&#x27;hexo-theme-volantis æ ‡ç­¾æ’ä»¶&#x27;,&#x27;https://volantis.js.org/v5/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[5]&#x27;,&#x27;Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶&#x27;,&#x27;https://volantis.js.org/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[6]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins&#x27;,&#x27;https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[7]&#x27;,&#x27;å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ&#x27;,&#x27;https://lovelijunyi.gitee.io/posts/c898.html&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27;,&#x27;https://github.com/l-lin/font-awesome-animation&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[9]&#x27;,&#x27;å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£&#x27;,&#x27;https://www.antmoe.com/posts/3b43914f/&#x27; %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>Akilarã®ç³–æœå±‹(akilar.top)æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢<span class="hidden-anchor" id="referto_[1]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;ï¼Œä»å„ç±»æ•™ç¨‹è‡³ç”Ÿæ´»ç‚¹æ»´ï¼Œæ— è¯ä¸è°ˆã€‚å»ºç¾¤çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªé—²èŠçš„åœºæ‰€ã€‚åšå®¢é‡‡ç”¨Hexoæ¡†æ¶<span class="hidden-anchor" id="referto_[2]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Hexoä¸­æ–‡æ–‡æ¡£</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;ï¼ŒButterflyä¸»é¢˜<span class="hidden-anchor" id="referto_[3]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;</p><p>æœ¬é¡¹ç›®å‚è€ƒäº†Volantis<span class="hidden-anchor" id="referto_[4]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hexo-theme-volantis æ ‡ç­¾æ’ä»¶</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;çš„æ ‡ç­¾æ ·å¼ã€‚å¼•å…¥<code>[tag].js</code>ï¼Œå¹¶é’ˆå¯¹<code>butterfly</code>ä¸»é¢˜ä¿®æ”¹äº†ç›¸åº”çš„<code>[tag].styl</code>ã€‚åœ¨æ­¤é¸£è°¢<code>Volantis</code>ä¸»é¢˜ä¼—å¼€å‘è€…ã€‚<br>ä¸»è¦å‚è€ƒå†…å®¹åŒ…æ‹¬å„ä¸ªvolantisçš„å†…ç½®æ ‡ç­¾æ’ä»¶æ–‡æ¡£<span class="hidden-anchor" id="referto_[5]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;<br>Butterflyä¸»é¢˜çš„å„ä¸ªè¡ç”Ÿé­”æ”¹<span class="hidden-anchor" id="referto_[6]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[6]">[6]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;<span class="hidden-anchor" id="referto_[7]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[7]">[7]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;<span class="hidden-anchor" id="referto_[8]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[8]">[8]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">l-lin-font-awesome-animation</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;<span class="hidden-anchor" id="referto_[9]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[9]">[9]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</span><span class="reference-title">å‚è€ƒèµ„æ–™</span>&lt;/span&gt;&lt;/span&gt;</p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://jq.qq.com/?_wv=1027&k=pGLB2C0N">Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://hexo.io/zh-cn/docs/">Hexoä¸­æ–‡æ–‡æ¡£</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/v5/tag-plugins/">hexo-theme-volantis æ ‡ç­¾æ’ä»¶</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/tag-plugins/">Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[6]"></span><a class="reference-anchor" href="#referto_[6]">[6]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[7]"></span><a class="reference-anchor" href="#referto_[7]">[7]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://lovelijunyi.gitee.io/posts/c898.html">å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[8]"></span><a class="reference-anchor" href="#referto_[8]">[8]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://github.com/l-lin/font-awesome-animation">l-lin-font-awesome-animation</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[9]"></span><a class="reference-anchor" href="#referto_[9]">[9]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.antmoe.com/posts/3b43914f/">å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-29-PDFå±•ç¤º"><a href="#2-29-PDFå±•ç¤º" class="headerlink" title="2.29 PDFå±•ç¤º"></a>2.29 PDFå±•ç¤º</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf æ–‡ä»¶è·¯å¾„ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>æ–‡ä»¶è·¯å¾„</code>: å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„æˆ–è€…æ˜¯åœ¨çº¿é“¾æ¥</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.æœ¬åœ°æ–‡ä»¶:åœ¨mdæ–‡ä»¶è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ï¼Œå…¶å†…æ”¾pdfæ–‡ä»¶åä¸ºxxx.pdfçš„æ–‡ä»¶</span></span><br><span class="line">&#123;% pdf xxx.pdf %&#125;</span><br><span class="line"><span class="section"># 2.åœ¨çº¿é“¾æ¥</span></span><br><span class="line">&#123;% pdf https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/å°ä½œæ–‡è®²ä¹‰.pdf %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>2.åœ¨çº¿é“¾æ¥(è¦æ”¾åˆ°æœ€å¤–å±‚æ‰èƒ½èµ·ä½œç”¨)</p><pre><code>&lt;div class=&quot;row&quot;&gt;&lt;embed src=&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/å°ä½œæ–‡è®²ä¹‰.pdf&quot; width=&quot;100%&quot; height=&quot;550&quot; type=&quot;application/pdf&quot;&gt;&lt;/div&gt;</code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-30-Hexo-tag-map-æ’ä»¶"><a href="#2-30-Hexo-tag-map-æ’ä»¶" class="headerlink" title="2.30 Hexo-tag-map æ’ä»¶"></a>2.30 Hexo-tag-map æ’ä»¶</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% + æ ‡ç­¾å€¼ + ç»åº¦ + çº¬åº¦ + æ–‡æœ¬ + ç¼©æ”¾ç­‰çº§ + å®½ + é«˜ + é»˜è®¤å›¾å±‚ + %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><div class="table-container"><table><thead><tr><th style="text-align:center">åœ°å›¾å</th><th style="text-align:center">æ ‡ç­¾å€¼ &lt;å¿…å¡«&gt;</th><th style="text-align:center">å®½ (é»˜è®¤ 100%) / é«˜ (é»˜è®¤ 360px)</th><th style="text-align:center">ç¼©æ”¾ç­‰çº§ (é»˜è®¤ 14)</th><th style="text-align:center">å®½ (é»˜è®¤ 100%) / é«˜ (é»˜è®¤ 360px)</th><th style="text-align:center">é»˜è®¤å›¾å±‚ (é»˜è®¤ 1)</th></tr></thead><tbody><tr><td style="text-align:center">æ··åˆåœ°å›¾</td><td style="text-align:center">map</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 3~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~7</td></tr><tr><td style="text-align:center">è°·æ­Œåœ°å›¾</td><td style="text-align:center">googleMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~20</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~3</td></tr><tr><td style="text-align:center">é«˜å¾·åœ°å›¾</td><td style="text-align:center">gaodeMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 3~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~3</td></tr><tr><td style="text-align:center">ç™¾åº¦åœ°å›¾</td><td style="text-align:center">baiduMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 4~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~2</td></tr><tr><td style="text-align:center">Geoq åœ°å›¾</td><td style="text-align:center">geoqMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~5</td></tr><tr><td style="text-align:center">openstreet åœ°å›¾</td><td style="text-align:center">openstreetMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">ä¸æ”¯æŒæ­¤å‚æ•°</td></tr></tbody></table></div><ol><li>å‚æ•°ä¹‹é—´ï¼Œç”¨è‹±æ–‡é€—å·ç›¸éš”</li><li>å‚æ•°å¿…é¡»æŒ‰ä¸Šè¿°äº‹ä¾‹é¡ºåºè¾“å…¥ï¼Œä¸å¾—ä¸ºç©º</li><li>åŒä¸€ä¸ªé¡µé¢ï¼ŒåŒä¸€ç»„ç»çº¬åº¦å€¼ï¼Œåªèƒ½æ’å…¥ä¸€ä¸ªç›¸åŒæ ‡ç­¾å€¼çš„åœ°å›¾ (è‹¥æœ‰éœ€è¦ï¼Œå¯ä»¥å°†ç¬¬äºŒä¸ªåœ°å›¾ä¸Šï¼Œç»åº¦æˆ–çº¬åº¦æœ«å°¾åˆ é™¤ä¸€ä¸¤ä¸ªæ•°)</li><li>å‚æ•°å–å€¼å¿…é¡»åœ¨ä¸Šè¿°èŒƒå›´å†…</li><li>é»˜è®¤å›¾å±‚ï¼šå³åœ°å›¾å åŠ å±‚çš„å€¼ï¼Œé»˜è®¤å¸¸è§„åœ°å›¾è¿˜æ˜¯å«æ˜Ÿåœ°å›¾ï¼Œå¯æŒ‰åœ°å›¾æ˜¾ç¤ºé¡ºåºå–å€¼</li><li>ç¼©æ”¾ç­‰çº§ï¼Œæ•°å­—è¶Šå¤§ï¼Œåœ°å›¾æ¯”ä¾‹å°ºè¶Šå°ï¼Œæ˜¾ç¤ºçš„è¶Šç²¾ç»†</li><li>é™¤æ ‡ç­¾å€¼å¤–ï¼Œå…¶ä»–å‚æ•°é€‰å¡«ï¼Œä½† æ¯ä¸ªå‚æ•°çš„å·¦è¾¹çš„å‚æ•°å¿…å¡«</li><li>è°·æ­Œåœ°å›¾éœ€è¦å¤–ç½‘æ‰èƒ½åŠ è½½æŸ¥çœ‹</li></ol><p>åæ ‡è·å–ï¼š<a href="https://lbs.amap.com/tools/picker">é«˜å¾·åœ°å›¾åæ ‡æ‹¾å–ç³»ç»Ÿ</a> ã€<a href="https://api.map.baidu.com/lbsapi/getpoint/index.html">ç™¾åº¦åœ°å›¾åæ ‡æ‹¾å–ç³»ç»Ÿ</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% map 120.101101,30.239119 %&#125;</span><br><span class="line">&#123;% googleMap 120.101101,30.239119, è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼ %&#125;</span><br><span class="line">&#123;% geoqMap 120.101101,30.239119, è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼, 13, 90%, 320px, 3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="map-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div>&lt;/div&gt;<script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'});routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1,attribution:'Google Maps'});var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:21,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"é«˜å¾·åœ°å›¾":normal,"æ™ºå›¾åœ°å›¾":normalm1,"è°·æ­Œåœ°å›¾":normalMap,"é«˜å¾·å«æ˜Ÿåœ°å›¾":imgm,"è°·æ­Œå«æ˜Ÿåœ°å›¾":satelliteMap,"é«˜å¾·å«æ˜Ÿæ ‡æ³¨":image,"è°·æ­Œå«æ˜Ÿæ ‡æ³¨":routeMap};var mymap=L.map('map-120.101101-30.239119',{center:[30.239119,120.101101],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'æ”¾å¤§',zoomOutTitle:'ç¼©å°'}).addTo(mymap);</script><br><br></p><p><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="googleMap-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:22,minZoom:1,attribution:'Google Maps'});var baseLayers={"è°·æ­Œåœ°å›¾":normalMap,"è°·æ­Œå«æ˜Ÿå›¾":satelliteMap,"è°·æ­Œå«æ˜Ÿæ ‡æ³¨": routeMap};var overlayLayers={};var mymap=L.map("googleMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:14,layers:[normalMap],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'æ”¾å¤§',zoomOutTitle:'ç¼©å°'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼").openPopup();</script><br><br></p><p><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="geoqMap-120.101101-30.239119" style="max-width:90%; height:320px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm2=L.tileLayer.chinaProvider('Geoq.Normal.PurplishBlue',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm3=L.tileLayer.chinaProvider('Geoq.Normal.Gray',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm4=L.tileLayer.chinaProvider('Geoq.Normal.Warm',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm5=L.tileLayer.chinaProvider('Geoq.Theme.Hydro',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm1,normalm2,normalm3,normalm4,normalm5]);var baseLayers={"æ™ºå›¾åœ°å›¾":normalm1,"åˆå¤œè“":normalm2,"ç°è‰²":normalm3,"æš–è‰²":normalm4,"æ°´ç³»":normalm5};var mymap=L.map("geoqMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:13,layers:[normalm3],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'æ”¾å¤§',zoomOutTitle:'ç¼©å°'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼").openPopup();</script><br><br></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-31-éšè—å—"><a href="#2-31-éšè—å—" class="headerlink" title="2.31 éšè—å—"></a>2.31 éšè—å—</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li>contentï¼šè¦éšè—çš„å†…å®¹</li><li>displayï¼šå±•ç¤ºå‰æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—ï¼ˆå¯é€‰ï¼‰</li><li>bgï¼šæŒ‰é’®çš„èƒŒæ™¯é¢œè‰²ï¼ˆå¯é€‰ï¼‰</li><li>colorï¼šæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—çš„é¢œè‰²ï¼ˆå¯é€‰ï¼‰</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock ç‚¹æˆ‘é¢„è§ˆ, blue %&#125;</span><br><span class="line">è¿™é‡Œæœ‰å¼ å›¾ç‰‡ï¼š</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image (1)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:67%;&quot;</span> /&gt;</span></span></span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="hide-block"><button type="button" class="hide-button" style="background-color:  blue;">ç‚¹æˆ‘é¢„è§ˆ    </button><div class="hide-content"><p>è¿™é‡Œæœ‰å¼ å›¾ç‰‡ï¼š<br><img src="https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb" alt="image (1)" style="zoom:67%;" /></p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> å¤–æŒ‚æ ‡ç­¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cephåˆ†å¸ƒå¼é›†ç¾¤æ–‡ä»¶å­˜å‚¨çš„ç®€å•æ­å»º</title>
      <link href="/posts/829779e4.html"/>
      <url>/posts/829779e4.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>cephé›†ç¾¤æ­å»º</p></div></div><p>ç¯å¢ƒ<br><div class="note default orange simple"><p>node1:192.168.222.246</p></div><br>node2:192.168.222.249<br>node3:192.168.222.211<br>client:192.168.222.141<br>å†™å…¥æ¯ä¸ªæœºå™¨çš„/etc/hostsæ–‡ä»¶</p><div class="note default orange simple"><p>æ¨èåœ¨ä¸‰èŠ‚ç‚¹çš„ä»»æ„ä¸€å°åšå…¨éƒ¨æœºå™¨çš„sshå…å¯†ï¼Œè¿™é‡Œæˆ‘åœ¨node1ä¸Šå®Œæˆã€‚</p></div><div class="note default orange simple"><p>ä¸€ã€ç¯å¢ƒå‡†å¤‡</p></div><p>ç»™æ¯ä¸ªnodeèŠ‚ç‚¹åŠ ä¸Šä¸€å—ç¡¬ç›˜ï¼Œä¸èƒ½æ˜¯é€»è¾‘å·ï¼Œè¿™é‡Œæˆ‘çš„ä¸‰ä¸ªè®¾å¤‡çš„éƒ½æ˜¯/dev/sdb<br>ä¿®æ”¹ä¸»æœºåï¼Œå¿…é¡»ä¸hostsæ–‡ä»¶ä¸€è‡´<br>systemctl disable â€”now firewalld NetworkMnager //è¿™é‡Œæ˜¯æµ‹è¯•å…³é—­é˜²ç«å¢™ï¼Œæœ‰éœ€è¦çš„å¼€å¯6789,3300,6800.7300ç«¯å£<br>selinuxå…³é—­<br>ä¸Šä¼ ceph.repoæ–‡ä»¶ï¼Œæœ€å¥½ä½¿ç”¨å›½å†…çš„é•œåƒæºï¼Œä¸è®©é€Ÿåº¦ä¼šå¾ˆæ…¢<br>serverç«¯ï¼šyum install -y ntp ceph ceph-radosgw<br>clientç«¯ï¼šyum install -y ceph ceph-common<br>node1: yum install -y ceph-deploy<br>echo â€œsystemctl restart ntpdâ€ &gt;&gt; /etc/rc.local</p><h1 id="æœ€å¥½åœ¨åŠ ä¸Šfor-i-in-node-1-3-do-echo-â€œ-10-systemctl-restart-ntpdâ€-gt-gt-var-spool-cron-root"><a href="#æœ€å¥½åœ¨åŠ ä¸Šfor-i-in-node-1-3-do-echo-â€œ-10-systemctl-restart-ntpdâ€-gt-gt-var-spool-cron-root" class="headerlink" title="æœ€å¥½åœ¨åŠ ä¸Šfor i in node{1..3};do echo â€œ/10    * systemctl restart ntpdâ€ &gt;&gt; /var/spool/cron/root"></a>æœ€å¥½åœ¨åŠ ä¸Šfor i in node{1..3};do echo â€œ<em>/10 </em> <em> </em> * systemctl restart ntpdâ€ &gt;&gt; /var/spool/cron/root</h1><h1 id="æˆ‘å½“å‰çš„æµ‹è¯•æ˜¯åœ¨rootä¸‹è¿›è¡Œï¼Œå¯è‡ªå·±æ›´æ¢ï¼Œå› ä¸ºcephé›†ç¾¤å¯¹äºæ—¶é—´åŒæ­¥çš„è¦æ±‚ååˆ†ä¸¥æ ¼"><a href="#æˆ‘å½“å‰çš„æµ‹è¯•æ˜¯åœ¨rootä¸‹è¿›è¡Œï¼Œå¯è‡ªå·±æ›´æ¢ï¼Œå› ä¸ºcephé›†ç¾¤å¯¹äºæ—¶é—´åŒæ­¥çš„è¦æ±‚ååˆ†ä¸¥æ ¼" class="headerlink" title="æˆ‘å½“å‰çš„æµ‹è¯•æ˜¯åœ¨rootä¸‹è¿›è¡Œï¼Œå¯è‡ªå·±æ›´æ¢ï¼Œå› ä¸ºcephé›†ç¾¤å¯¹äºæ—¶é—´åŒæ­¥çš„è¦æ±‚ååˆ†ä¸¥æ ¼"></a>æˆ‘å½“å‰çš„æµ‹è¯•æ˜¯åœ¨rootä¸‹è¿›è¡Œï¼Œå¯è‡ªå·±æ›´æ¢ï¼Œå› ä¸ºcephé›†ç¾¤å¯¹äºæ—¶é—´åŒæ­¥çš„è¦æ±‚ååˆ†ä¸¥æ ¼</h1><div class="note default orange simple"><p>äºŒã€å¼€å§‹é…ç½®ï¼Œåœ¨node1ä¸Šæ“ä½œ</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">for i in node&#123;1..3&#125;;do ssh $i mkdir /etc/ceph;done  //å®˜æ–¹æœ‰äº›ç‰ˆæœ¬æ²¡æœ‰å›ºå®šçš„é…ç½®æ–‡ä»¶ç›®å½•ï¼Œè‡ªå·±åˆ›å»ºä¸€ä¸‹</span><br><span class="line">cd /etc/ceph</span><br><span class="line">ceph-deploy new node1  //åˆ›å»ºé›†ç¾¤ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ°å½“å‰ç›®å½•å·²ç»æœ‰äº†ä¸‰ä¸ªé…ç½®æ–‡ä»¶</span><br><span class="line">for i in node&#123;1..3&#125;;do ssh $i yum install -y ceph ceph-radosgw;done    //ä¸‹è½½è½¯ä»¶ï¼Œè¿™é‡Œå®˜æ–¹æ˜¯ä½¿ç”¨</span><br><span class="line">ceph-deploy install node2 node3æ¥é€šè¿‡å®˜æ–¹ä¸‹è½½çš„ï¼Œä½†æ˜¯ä¸€èˆ¬ä¼šå‡ºé—®é¢˜ï¼Œå› ä¸ºæ˜¯å¤–å›½çš„ç½‘ç«™ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå·±</span><br><span class="line">ä¸Šä¼ å›½å†…çš„ceph.repoåœ¨èŠ‚ç‚¹ä¸Šç„¶åä¸‹è½½</span><br><span class="line">echo &quot;public network = 192.168.222.0/24&quot; &gt;&gt; ./ceph.conf     //ç›‘æ§ç½‘ç»œ</span><br><span class="line">ceph-deploy mon create-initial     //åˆ›å»ºåˆå§‹åŒ–mon</span><br><span class="line">ceph-deploy admin node&#123;1..3&#125;    //åŒæ­¥é…ç½®æ–‡ä»¶åˆ°æ¯ä¸ªèŠ‚ç‚¹</span><br><span class="line">ceph-deploy mon add node&#123;2..3&#125;   //å¯åŠ å¯ä¸åŠ ï¼Œç±»ä¼¼åšäº†monçš„HAï¼Œå»ºè®®å¥‡æ•°ä¸ªï¼Œå› ä¸ºæœ‰quorumçš„ä»²è£æŠ•ç¥¨</span><br><span class="line">ceph -s    //æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</span><br><span class="line">ceph config set mon auth_allow_insecure_global_id_reclaim false  //å…³é—­ä¸å®‰å…¨æç¤º</span><br><span class="line">ceph -s</span><br><span class="line">åœ¨ceph.confæ–‡ä»¶åŠ ä¸Š</span><br><span class="line">mon clock drift allowed = 2         //monitoré—´çš„æ—¶é—´æ»´ç­”æ•°ï¼ˆé»˜è®¤ä¸º0.5ç§’ï¼‰</span><br><span class="line">mon clock drift warn backoff = 30   //è­¦å‘Šæ—¶é—´å…è®¸çš„åç§»é‡ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰ #è¿™é‡Œæˆ‘è¯•è¿‡äº†1ç§’çš„åç§»ï¼Œç³»ç»Ÿè­¦å‘Šäº†</span><br><span class="line">ceph-deploy --overwrite-conf admin node&#123;1..3&#125;  //è®°å¾—æ¯æ¬¡ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶éƒ½è¦åŒæ­¥åˆ°æ¯ä¸ªèŠ‚ç‚¹</span><br><span class="line">for i in node&#123;1..3&#125;;do ssh $i systemctl restart ceph-mon.target;done  //é‡å¯æ¯ä¸ªèŠ‚ç‚¹çš„æœåŠ¡ï¼Œè®©é…ç½®ç”Ÿæ•ˆ</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºmgr(ç®¡ç†)</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ceph luminousç‰ˆæœ¬ä¸­æ–°å¢åŠ äº†ä¸€ä¸ªç»„ä»¶ï¼šCeph Manager Daemonï¼Œç®€ç§°ceph-mgr,è¯¥ç»„ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯åˆ†æ‹…å’Œæ‰©å±•monitorçš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå‡è½»monitorçš„è´Ÿæ‹…ï¼Œè®©æ›´å¥½åœ°ç®¡ç†cephå­˜å‚¨ç³»ç»Ÿ</span></span><br><span class="line">ceph-deploy mgr create node1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿™é‡Œæ˜¯ä¸ºäº†å®ç°HA,æŠŠnode2,node3ä¹Ÿåšmgr</span></span><br><span class="line">ceph-deploy mgr create node2</span><br><span class="line">ceph-deploy mgr create node3</span><br><span class="line">ceph -s </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯ä»¥çœ‹åˆ°mgrä»¥node1ä¸ºä¸»èŠ‚ç‚¹ï¼Œnode2,node3ä¸ºå¤‡</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç„¶ååˆ›å»ºosdå­˜å‚¨ç›˜</span></span><br><span class="line">ceph-deploy disk list node&#123;1..3&#125;  //æŸ¥çœ‹èŠ‚ç‚¹ä¸Šçš„ç£ç›˜</span><br><span class="line">ceph-deploy disk zap node1 /dev/sdb   //åˆå§‹åŒ–ç£ç›˜ï¼Œç±»ä¼¼æ ¼å¼åŒ–</span><br><span class="line">ceph-deploy disk zap node2 /dev/sdb</span><br><span class="line">ceph-deploy disk zap node3 /dev/sdb</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å°†ç£ç›˜åˆ›å»ºä¸ºosd</span></span><br><span class="line">ceph-deploy osd create --data /dev/sdb node1</span><br><span class="line">ceph-deploy osd create --data /dev/sdb node2</span><br><span class="line">ceph-deploy osd create --data /dev/sdb node3</span><br><span class="line">ceph -s å¯ä»¥çœ‹åˆ°å·²ç»åŠ äº†ä¸‰ä¸ªosd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ï¼ˆæ‰©å®¹æ–¹å¼ï¼šå‡è®¾è¦åŠ å…¥ä¸€å°node4ï¼Œå…ˆå†™å…¥hostsæ–‡ä»¶å’ŒåŒæ­¥æ–‡ä»¶å’Œä¸»æœºåï¼Œåšsshå…å¯†ï¼Œç„¶åyum install ceph ceph-radosgw ntp (rsync)ï¼‰ï¼Œå…³é—­selinux,NetworkManager,firewalldï¼Œå†™å…¥å®šæ—¶ä»»åŠ¡åŒæ­¥æ—¶é—´ï¼Œåœ¨node1æ“ä½œceph-deploy admin node4ï¼ŒæŒ‰éœ€æ±‚é€‰æ‹©åœ¨node4ä¸Šæ·»åŠ mon,mgr,osdç­‰ç­‰ï¼‰</span></span><br><span class="line">å°è¯•åˆ›å»ºpoolå¹¶ä½¿ç”¨åˆ é™¤2çš„å€æ•°ï¼Œä¸osdçš„æ•°é‡æœ‰å…³ï¼Œä¸€èˆ¬5ä¸ªosdä»¥ä¸‹çš„ï¼Œåˆ†128çš„pgå³å¯ï¼Œå¤šäº†ä¼šæŠ¥é”™ï¼Œå¯ä»¥é€‚å½“é€šè¿‡æŠ¥é”™è°ƒæ•´pgæ•°</span><br><span class="line">æ³¨é‡Šï¼špgæ•°ä¸º</span><br><span class="line">ceph osd pool create test 128  //åˆ›å»ºä¸€ä¸ªåä¸ºtestçš„pgæ•°ä¸º128çš„pool</span><br><span class="line">ceph osd pool get test pg_num  //æŸ¥çœ‹testçš„pgæ•°</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ceph osd pool <span class="built_in">set</span> <span class="built_in">test</span> pg_num 64   //å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤æŠŠ<span class="built_in">test</span>çš„pgæ•°ä»128æ”¹ä¸º64ï¼Œæ­¤å¤„ä¸æ‰§è¡Œ</span></span><br><span class="line">ä½¿ç”¨å­˜å‚¨æµ‹è¯•</span><br><span class="line">rados put testfile /etc/fstab --pool=test   //ä¸Šä¼ /etc/fstabæ–‡ä»¶åˆ°test poolä¸­ä½œä¸ºtestfile</span><br><span class="line">rados -p test ls           //æŸ¥çœ‹test poolçš„æ ¹æ–‡ä»¶</span><br><span class="line">rados rm testfile --pool=test     //åˆ é™¤ test poolé‡Œé¢çš„testfile</span><br><span class="line">åˆ é™¤pool</span><br><span class="line">åœ¨é…ç½®æ–‡ä»¶å†™ä¸‹å…è®¸åˆ é™¤poolçš„å‚æ•°ï¼Œé»˜è®¤æ˜¯ä¸å…è®¸åˆ é™¤</span><br><span class="line">vim ./ceph.conf</span><br><span class="line">åŠ å…¥</span><br><span class="line">mon_allow_pool_delete = true</span><br><span class="line">ç„¶ååŒæ­¥é…ç½®æ–‡ä»¶</span><br><span class="line">ceph-deploy --overwrite-conf admin node&#123;1..3&#125;</span><br><span class="line">é‡å¯ç›‘æ§æœåŠ¡è®©é…ç½®ç”Ÿæ•ˆ</span><br><span class="line">for i in node&#123;1..3&#125;;do ssh $i systemctl restart ceph-mon.target;done</span><br><span class="line">åˆ é™¤test pool</span><br><span class="line">ceph osd pool delete test test --yes-i-really-really-mean-it    //è¿™é‡Œè¦è¾“å…¥ä¸¤æ¬¡poolå</span><br><span class="line">åˆ›å»ºæ–‡ä»¶å­˜å‚¨å¹¶åœ¨clientç«¯è¿æ¥ä½¿ç”¨</span><br><span class="line">åˆ›å»ºmdsæœåŠ¡ï¼Œå¤šä¸ªæ˜¯HAï¼Œæˆ‘è¿™é‡Œè¿˜æ˜¯å…¨éƒ¨åŠ ä¸Š</span><br><span class="line">ceph-deploy mds create node&#123;1..3&#125;</span><br><span class="line">æ³¨é‡Šï¼šä¸€ä¸ªcephæ–‡ä»¶ç³»ç»Ÿéœ€è¦è‡³å°‘ä¸¤ä¸ªradoså­˜å‚¨æ± ï¼Œä¸€ä¸ªæ˜¯æ•°æ®å¦ä¸€ä¸ªæ˜¯å…ƒæ•°æ®</span><br><span class="line">ceph osd pool create cephfs_pool 128</span><br><span class="line">ceph osd pool create cephfs_cache 64</span><br><span class="line">æŸ¥çœ‹ä¸€ä¸‹</span><br><span class="line">ceph osd pool ls</span><br><span class="line">åˆ›å»ºcephæ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">ceph fs new cephfs cephfs_pool cephfs_cache  //ä»¥ä¸Šé¢ä¸¤ä¸ªpoolåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿcephfs</span><br><span class="line">æŸ¥çœ‹ä¸€ä¸‹</span><br><span class="line">ceph fs ls</span><br><span class="line">ceph mds stat</span><br><span class="line"></span><br><span class="line">ç»™å®¢æˆ·ç«¯åŠ ä¸Šè®¤è¯æ–‡ä»¶</span><br><span class="line">cat ./ceph.client.admin.keyring</span><br><span class="line"></span><br><span class="line">åœ¨clientçš„ä¸‹</span><br><span class="line">echo â€œAQDEKlJdiLlKAxAARx/PXR3glQqtvFFMhlhPmw==â€ &gt; /root/key</span><br><span class="line">mkdir /root/test  //æµ‹è¯•æŒ‚è½½ç›®å½•</span><br><span class="line">æŒ‚è½½</span><br><span class="line">mount.ceph node1:6789,node2:6789,node3:6789:/ /root/test -o name=admin,secretfile=/root/key   // è¿™é‡Œè¦æŒ‚è½½å¤šä¸ªmonitorèŠ‚ç‚¹ï¼Œé¿å…å› ä¸ºåªæŒ‚è½½çš„ä¸€ä¸ªèŠ‚ç‚¹å®•æœºäº†å½±å“å®¢æˆ·ç«¯ä½¿ç”¨</span><br><span class="line">sed -i &#x27;$anode1:6789,node2:6789,node3:6789://root/testcephname=admin,secretfile=/root/key&#x27;  /etc/fstab    //å¼€æœºè‡ªåŠ¨æŒ‚è½½</span><br><span class="line">df -h æŸ¥çœ‹</span><br><span class="line">ä»¥ä¸Šä¸€ä¸ªæ–‡ä»¶å­˜å‚¨ä¾¿æ­å»ºå®Œæ¯•ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨äº†</span><br><span class="line">äºŒã€åˆ é™¤æ–‡ä»¶å­˜å‚¨æ–¹æ³•</span><br><span class="line">åœ¨clientç«¯åˆ é™¤æ•°æ®å¹¶å¸è½½</span><br><span class="line">rm -rf /root/test/* &amp;&amp; umount /root/test</span><br><span class="line">åœæ‰æ‰€æœ‰serverç«¯çš„mdsï¼ˆä¸ç„¶æ˜¯æ— æ³•åˆ é™¤æ–‡ä»¶å­˜å‚¨çš„ï¼‰</span><br><span class="line">for i in node&#123;1..3&#125;;do ssh $i systemctl stop ceph-mds.target;done</span><br><span class="line">ceph fs rm cephfs --yes-i-really-mean-it  //åˆ é™¤æ–‡ä»¶ç³»ç»Ÿcephfs</span><br><span class="line">ceph osd pool delete cephfs_pool cephfs_pool --yes-i-really-really-mean-it  //åˆ é™¤poolä¸­çš„cephfs_poolï¼Œè®°å¾—æ˜¯å†™ä¸¤æ¬¡poolçš„åå­—</span><br><span class="line">ceph osd pool delete cephfs_cache cephfs_cache --yes-i-really-really-mean-it //åˆ é™¤poolä¸­çš„cephfs_cache</span><br><span class="line">åˆ å®Œå†é‡æ–°å¯åŠ¨mdsæœåŠ¡</span><br><span class="line">for i in node&#123;1..3&#125;;do ssh $i systemctl start ceph-mds.target</span><br><span class="line">sed -i &#x27;$d&#x27; /etc/fstab   //åˆ é™¤ååˆ«å¿˜è®°åˆ é™¤fstabæ–‡ä»¶ä¸­çš„åŠ å…¥</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡é›†ç¾¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WebçŠ¶æ€å“åº”ç </title>
      <link href="/posts/bd934ac8.html"/>
      <url>/posts/bd934ac8.html</url>
      
        <content type="html"><![CDATA[<div class="note default orange simple"><p>403 Forbidden.æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚,ä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒ(å¤§éƒ¨åˆ†åŸå› æ˜¯å› ä¸ºæ–‡ä»¶çš„å±æ€§å’Œæƒé™é—®é¢˜)</p></div><div class="note default orange simple"><p>404 Not Found.è¯·æ±‚å¤±è´¥,è¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªåœ¨æœåŠ¡å™¨ä¸Šå‘ç°.</p></div><p>404è¿™ä¸ªçŠ¶æ€ç è¢«å¹¿æ³›åº”ç”¨äºå½“æœåŠ¡å™¨ä¸æƒ³æ­ç¤ºä¸ºä½•è¯·æ±‚è¢«æ‹’ç»,æˆ–è€…æ²¡æœ‰å…¶ä»–é€‚åˆçš„å“åº”å¯â½¤çš„æƒ…å†µä¸‹.</p><div class="note default orange simple"><p>500 Internal Server Error.æœåŠ¡å™¨é‡åˆ°æŸä¸ªæœªæ›¾é¢„æ–™çš„çŠ¶å†µ,å¯¼è‡´å®ƒæ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†.</p></div><p>ä¸€èˆ¬æ¥è¯´,è¿™ä¸ªé—®é¢˜éƒ½ä¼šåœ¨æœåŠ¡å™¨çš„ç¨‹åºç å‡ºé”™æ—¶å‡ºç°.</p><div class="note default orange simple"><p>502 Bad Gateway.ä½œä¸ºç½‘å…³æˆ–ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶,ä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆçš„å“åº”.</p></div><div class="note default orange simple"><p>503 Service Unavailable.ç”±äºä¸´æ—¶çš„æœåŠ¡å™¨ç»´æŠ¤æˆ–è¿‡è½½,æœåŠ¡å™¨å½“å‰æ— æ³•å¤„ç†è¯·æ±‚.è¿™ä¸ªçŠ¶å†µæ˜¯ä¸´æ—¶çš„,</p></div><p>å¹¶ä¸”å°†åœ¨ä¸€æ®µæ—¶é—´ä»¥åæ¢å¤.503çŠ¶æ€ç çš„å­˜åœ¨å¹¶ä¸æ„å‘³ç€æœåŠ¡å™¨åœ¨è¿‡è½½çš„æ—¶å€™å¿…é¡»ä½¿ç”¨å®ƒ.<br>æŸäº›æœåŠ¡å™¨åªä¸è¿‡æ˜¯å¸Œæœ›æ‹’ç»å®¢æˆ·ç«¯çš„è¿æ¥.</p><div class="note default orange simple"><p>504 Gateway Timeoutä½œä¸ºç½‘å…³æˆ–ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶,æœªèƒ½åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨(URIæ ‡è¯†å‡ºçš„æœåŠ¡å™¨,</p></div><p>ä¾‹å¦‚HTTP,FTP,LDAP)æˆ–è¾…åŠ©æœåŠ¡å™¨(ä¾‹å¦‚DNS)æ”¶åˆ°å“åº”<br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> æ¼”ç¤º </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Dockerçš„TLSå®‰å…¨è¿œç¨‹è¿æ¥é…ç½®</title>
      <link href="/posts/adf659df.html"/>
      <url>/posts/adf659df.html</url>
      
        <content type="html"><![CDATA[<div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>äº†è§£ä¸€ä¸‹ä¸ºä»€ä¹ˆåšåŸºäºTLSä¼ è¾“åè®®å’ŒCAè¯ä¹¦çš„è¿œç¨‹è¿æ¥</p></div></div><div class="note default orange simple"><p>åœ¨dockerä¸­ï¼Œé»˜è®¤æ˜¯ä¸å…è®¸è¿œç¨‹è¿æ¥ä¸»æœºå®¹å™¨æœåŠ¡çš„ï¼Œåœ¨æ™®é€šçš„æ²¡æœ‰è¿›è¡Œåˆ«çš„å®‰å…¨é˜²æŠ¤ä¸‹å¼€å¯çš„è¿œç¨‹è¿æ¥ï¼Œåªè¦éš”å£è€ç‹çŸ¥é“ä½ çš„IPåœ°å€å†å¯¹ä½ ç«¯å£è¿›è¡Œä¸€ä¸‹æ‰«æå°è¯•ï¼Œä¾¿å¯ä»¥è‡ªç”±è¿›å‡ºä½ çš„å®¹å™¨çš„æˆ¿é—´ï¼Œå¯¹ä½ çš„å®¹å™¨ä»¬å˜¿å˜¿å˜¿ï¼Œå°±é—®ä½ æ€•ä¸æ€•å°±å®Œäº‹äº†ã€‚</p></div><div class='wow animate__flip' data-wow-duration='' data-wow-delay='' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-fan"></i><p>æ‰€ä»¥å¦‚æœæœ‰éœ€è¦è¿œç¨‹è¿æ¥dockerçš„éœ€æ±‚ï¼Œå°±éœ€è¦åŸºäºTLSå’ŒCAçš„è®¤è¯æ¥ä¿æŠ¤æˆ‘æ–¹å®¹å™¨ä¸è¢«å˜¿å˜¿å˜¿ã€‚</p></div></div><div class="note default orange simple"><p>1.ç”Ÿæˆè¯ä¹¦å’Œå¯†é’¥</p></div><div class="note default orange simple"><p>è¿™é‡Œæˆ‘çš„ç¯å¢ƒæ˜¯IP:192.168.222.222ï¼ŒåŸºäº2375ç«¯å£çš„è¿œç¨‹è¿æ¥ï¼Œéœ€è¦æŒ‰è‡ªå·±çš„å®é™…æƒ…å†µæ›´æ”¹ã€‚</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mkdir /opt/ca &amp;&amp; cd /opt/ca //è‡ªå·±éšä¾¿åœ¨ä¸€ä¸ªæœ€å¥½ç©ºçš„æ–‡ä»¶å¤¹é‡Œé¢ä¾¿å¯ä»¥ï¼Œæˆ‘é»˜è®¤æ˜¯åœ¨/opt/caä¸‹é¢è¿›è¡Œæ“ä½œ</span><br><span class="line"></span><br><span class="line">openssl genrsa -aes256 -out ca-key.prm 4096 //è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼Œç”ŸæˆCAè¯ä¹¦ç§é’¥</span><br><span class="line"></span><br><span class="line">openssl req -new -x509 -days 365 -key ca-key.pem -sha256 -out ca.pem //ç”Ÿæˆä¸€ä¸ªæœ‰æ•ˆæœŸ365å¤©çš„CAè¯ä¹¦ã€‚exampleè¾“å…¥çš„ä¾æ¬¡æ˜¯CN,Guangdong,Guangzhou...éƒ½å¯ä»¥éšæ„å¡«å†™ã€‚</span><br><span class="line"></span><br><span class="line">openssl genrsa -out server-key.pem 4096 //ç”ŸæˆæœåŠ¡ç«¯ç§é’¥</span><br><span class="line"></span><br><span class="line">openssl req -subj &quot;/CN=192.168.222.222&quot; -sha256 -new -key server-key.pem -out server.csr //ç”ŸæˆæœåŠ¡å™¨ç«¯çš„è¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">echo &quot;subjectAltName = IP:192.168.222.222,IP:0.0.0.0&quot; &gt; extfile.cnf //é™åˆ¶å¯è¿æ¥åˆ°æœåŠ¡å™¨çš„IPï¼Œè¿™é‡Œæˆ‘é»˜è®¤æ˜¯0.0.0.0å…¨éƒ¨å…è®¸ï¼Œæœ‰æŒ‡å®šæœåŠ¡å™¨è¿æ¥éœ€æ±‚å¯æ›´æ”¹</span><br><span class="line"></span><br><span class="line">echo &quot;extendedKeyUsage = serverAuth&quot; &gt;&gt; extfile.cnf //è®¾ç½®æ­¤å¯†é’¥ä»…ä½¿ç”¨äºæœåŠ¡å™¨èº«ä»½éªŒè¯</span><br><span class="line"></span><br><span class="line">openssl x509 -req -days 365 -sha256 -in server.csr -CA ca.pem -CAkey ca-key.pem \-CAcreateserial -out server-cert.pem -extfile extfile.cnf  //è¾“å…¥CAç§é’¥å¯†ç ï¼Œç”Ÿæˆç­¾åå¥½çš„æœåŠ¡å™¨ç«¯è¯ä¹¦</span><br><span class="line"></span><br><span class="line">openssl genrsa -out key.pem 4096 //ç”Ÿæˆå®¢æˆ·ç«¯çš„ç§é’¥</span><br><span class="line"></span><br><span class="line">openssl req -subj &#x27;/CN=client&#x27; -new -key key.pem -out client.csr  //ç”Ÿæˆå®¢æˆ·ç«¯çš„è¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">echo &quot;extendedKeyUsage = clientAuth&quot; &gt;&gt; extfile.cnf //æ‹“å±•å¯†é’¥çš„ç”¨é€”</span><br><span class="line"></span><br><span class="line">openssl x509 -req -days 365 -sha256 -in client.csr -CA ca.pem -CAkey ca-key.pem \-CAcreateserial -out cert.pem -extfile extfile.cnf //è¾“å…¥CAè¯ä¹¦ç§é’¥å¯†ç ï¼Œç”Ÿæˆå·²ç­¾åè®¤è¯å¥½çš„å®¢æˆ·ç«¯è¯ä¹¦</span><br><span class="line"></span><br><span class="line">cp ./&#123;ca.pem,ca-key.pem,server-cert.pem,server-key.pem,cert.pem,key.pem&#125; /etc/docker/</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>2.ä¿®æ”¹dockerå®ˆæŠ¤è¿›ç¨‹æœåŠ¡æ–‡ä»¶</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/lib/systemd/system/docker.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŠŠExecStart=/usr/bin/docker -H ......</span></span><br><span class="line">ä¿®æ”¹ä¸º</span><br><span class="line">ExecStart=/usr/bin/dockerd --tlsverify --tlscacert=/etc/docker/ca.pem --tlscert=/etc/docker/server-cert.pem --tlskey=/etc/docker/server-key.pem -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock</span><br><span class="line">ç„¶åé‡å¯æœåŠ¡</span><br><span class="line">systemctl daemon-reload &amp;&amp; systemctl restart docker</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>3.åœ¨å®¢æˆ·ç«¯ä¸»æœºè¿œç¨‹è¿æ¥æµ‹è¯•</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp root@192.168.222.222:/etc/docker/&#123;ca.pem,cert.pem,key.pem&#125; /etc/docker/    //ä»æœåŠ¡å™¨ç«¯æ‹‰å–å¯†é’¥å’Œè¯ä¹¦</span><br><span class="line"></span><br><span class="line">docker --tlsverify --tlscacert=/etc/docker/ca.pem --tlscert=/etc/docker/cert.pem --tlskey=/etc/docker/key.pem -H tcp://192.168.222.222:2375 images  //å°è¯•æŸ¥çœ‹è¿œç¨‹é•œåƒ</span><br></pre></td></tr></table></figure><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redhat/CentOSç”¨yumå‘½ä»¤ä¸‹è½½ä¾èµ–å’Œå®‰è£…åŒ…åˆ°æœ¬åœ°ï¼Œè‡ªå»ºyumæºä»“åº“</title>
      <link href="/posts/1b152b3a.html"/>
      <url>/posts/1b152b3a.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ‹“å±•ï¼šåŒæ­¥ç½‘ç»œæºåˆ°æœ¬åœ°ç›®å½•ï¼Œä»¥æ–¹ä¾¿å†…ç½‘å¿«é€Ÿä¼ è¾“ï¼Œæ›´åˆ©äºåˆ¶ä½œæœ¬åœ°yumæºã€‚"><a href="#æ‹“å±•ï¼šåŒæ­¥ç½‘ç»œæºåˆ°æœ¬åœ°ç›®å½•ï¼Œä»¥æ–¹ä¾¿å†…ç½‘å¿«é€Ÿä¼ è¾“ï¼Œæ›´åˆ©äºåˆ¶ä½œæœ¬åœ°yumæºã€‚" class="headerlink" title="æ‹“å±•ï¼šåŒæ­¥ç½‘ç»œæºåˆ°æœ¬åœ°ç›®å½•ï¼Œä»¥æ–¹ä¾¿å†…ç½‘å¿«é€Ÿä¼ è¾“ï¼Œæ›´åˆ©äºåˆ¶ä½œæœ¬åœ°yumæºã€‚"></a>æ‹“å±•ï¼šåŒæ­¥ç½‘ç»œæºåˆ°æœ¬åœ°ç›®å½•ï¼Œä»¥æ–¹ä¾¿å†…ç½‘å¿«é€Ÿä¼ è¾“ï¼Œæ›´åˆ©äºåˆ¶ä½œæœ¬åœ°yumæºã€‚</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reposync --repoid=xxxx        #xxxxä¸ºé•œåƒä»“åº“åç§°</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>å‘½ä»¤ä½¿ç”¨åä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ªä¸€æ ·xxxx çš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾çš„ä¾¿æ˜¯ä½ é€‰æ‹©ä»“åº“çš„rpmåŒ…ï¼Œä¸€æ ·xxxxç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªrepodataç›®å½•å¯ä»¥ä¸ºå†™å…¥repoæ–‡ä»¶åšæŒ‡å®šçš„ã€‚å†™å…¥repoæ–‡ä»¶ä¾¿äºä»¥ä¸‹è‡ªåˆ¶æœ¬åœ°æºä¸€æ ·ã€‚</p></div><h3 id="è‡ªå»ºyumæºå°±æ˜¯ä½¿ç”¨è‡ªå·±æœ¬åœ°çš„rpmåŒ…æ¥ä½œä¸ºyumçš„æºä»“åº“ã€‚æ‰©å±•-ä½¿ç”¨yumå‘½ä»¤ä¸‹è½½å®‰è£…åŒ…ä»¥åŠä¾èµ–æ–‡ä»¶åˆ°æœ¬åœ°ã€‚"><a href="#è‡ªå»ºyumæºå°±æ˜¯ä½¿ç”¨è‡ªå·±æœ¬åœ°çš„rpmåŒ…æ¥ä½œä¸ºyumçš„æºä»“åº“ã€‚æ‰©å±•-ä½¿ç”¨yumå‘½ä»¤ä¸‹è½½å®‰è£…åŒ…ä»¥åŠä¾èµ–æ–‡ä»¶åˆ°æœ¬åœ°ã€‚" class="headerlink" title="è‡ªå»ºyumæºå°±æ˜¯ä½¿ç”¨è‡ªå·±æœ¬åœ°çš„rpmåŒ…æ¥ä½œä¸ºyumçš„æºä»“åº“ã€‚æ‰©å±• ä½¿ç”¨yumå‘½ä»¤ä¸‹è½½å®‰è£…åŒ…ä»¥åŠä¾èµ–æ–‡ä»¶åˆ°æœ¬åœ°ã€‚"></a>è‡ªå»ºyumæºå°±æ˜¯ä½¿ç”¨è‡ªå·±æœ¬åœ°çš„rpmåŒ…æ¥ä½œä¸ºyumçš„æºä»“åº“ã€‚æ‰©å±• ä½¿ç”¨yumå‘½ä»¤ä¸‹è½½å®‰è£…åŒ…ä»¥åŠä¾èµ–æ–‡ä»¶åˆ°æœ¬åœ°ã€‚</h3><div class="note default orange simple"><p>1.å¯ä»¥åœ¨yumå‘½ä»¤å®‰è£…çš„åŒæ—¶ä¸æ¸…é™¤å®‰è£…åŒ…</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.conf</span><br><span class="line"> </span><br><span class="line">cachedir=/var/cache/yum/$basearch/$releasever    //è‡ªå®šä¹‰å®‰è£…åŒ…åŠä¾èµ–ä¸‹è½½ç›®å½•</span><br><span class="line">keepcache=0       //1ä¸ºå¯ç”¨ï¼Œ0ä¸å¯ç”¨ï¼ŒæŠŠè¿™é‡Œæ”¹ä¸º1</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>2.ç›´æ¥ç”¨å‘½ä»¤ä¸‹è½½åŒ…å’Œä¾èµ–ï¼ˆä¸åŒ…æ‹¬å®‰è£…ï¼‰</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yum install -y yum-utils</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yumdownloader --resolve --destdir=&lt;PATH&gt; &lt;packages&gt;</span></span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>3.åˆ›å»ºyumè‡ªå»ºä»“åº“</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum install -y createrepo    </span><br><span class="line"> </span><br><span class="line">createrepo æœ¬åœ°å­˜æ”¾å®‰è£…åŒ…çš„æ–‡ä»¶å¤¹</span><br><span class="line"> </span><br><span class="line">vim /etc/yum.repos.d/dly.repo</span><br><span class="line"> </span><br><span class="line">[dly]</span><br><span class="line">name=dly</span><br><span class="line">baseurl=file:///æœ¬åœ°å­˜æ”¾å®‰è£…åŒ…æ–‡ä»¶å¤¹è·¯å¾„</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œä¸€ä¸‹æ¸…ç†å’Œç¼“å­˜å‘½ä»¤å°±å¯ä»¥äº†<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum clean all &amp;&amp; yum makecache</span><br></pre></td></tr></table></figure><br><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> LinuxåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redhat/CentOS7æœ¬åœ°æºé…ç½®è¯¦è§£</title>
      <link href="/posts/45b04385.html"/>
      <url>/posts/45b04385.html</url>
      
        <content type="html"><![CDATA[<div class="note default orange simple"><p>ä¸€çº§æ ‡é¢˜ ç¬¬ä¸€ç¡®å®šä½ çš„CDè¿æ¥ä¸Šäº†ï¼Œæ®µè½å¼•ç”¨å¦‚æœæ˜¯å›¾å½¢åŒ–ç•Œé¢åªéœ€è¦çœ‹çœ‹è‡ªå·±æ¡Œé¢ä¹Ÿæœ‰æ²¡æœ‰ä¸€ä¸ªå…‰ç›˜æ–‡ä»¶å³å¯ï¼Œä¸æ˜¯å›¾å½¢åŒ–çš„å¯ä»¥åœ¨VMä¸Šåˆ†çš„å¯¼èˆªæ é‡Œç‚¹å‡»è™šæ‹Ÿæœºâ†’å¯ç§»åŠ¨è®¾å¤‡â†’CDâ†’è¿æ¥</p></div><p>æ®µè½å¼•ç”¨å¦‚æœä»¥ä¸Šéƒ½åšäº†ä¹‹åè¿˜æç¤ºé”™è¯¯çš„è¯å°±æ£€æŸ¥ä¸€ä¸‹VMä¸­ä½ çš„è™šæ‹Ÿæœºçš„è®¾ç½®é‡Œé¢ISOæŒ‡å‘æ–‡ä»¶æ˜¯å¦æœ‰æŒ‡å®šè·¯å¾„ã€‚</p><div class="note default orange simple"><p>ç¬¬äºŒæ­¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºISOæ–‡ä»¶å¤¹</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /iso</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç¬¬ä¸‰åˆ‡æ¢åˆ°yumæºæ–‡ä»¶å¤¹/etc/repos.d/å¹¶å¤‡ä»½ç§»åŠ¨æ²¡æœ‰ç”¨çš„repoæ–‡ä»¶ï¼Œä¸€äº›æ²¡æœ‰ç”¨çš„reopæ–‡ä»¶å› ä¸ºå·²ç»å¯ç”¨ï¼Œåœ¨è®¾ç½®æ–°çš„æºçš„æ—¶å€™ä¼šå†æ¬¡æ£€æµ‹è€Œäº§ç”Ÿé”™è¯¯</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d</span><br><span class="line"></span><br><span class="line">mkdir /etc/yumrepo.bak</span><br><span class="line"> </span><br><span class="line">mv ./* ../yumrepo.bak/</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç¬¬å››å†™ä¸‹æœ¬åœ°æºé…ç½®.repoæ–‡ä»¶</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;[local]\nname =local\nbaseurl=file:///iso\nenabled=1                \ngpgcheck=0&quot; &gt; /etc/yum.repos.d/local.repo</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç¬¬äº”æŒ‚è½½åˆ°è™šæ‹Ÿæœºå¹¶å†™å…¥æ–‡ä»¶ç³»ç»Ÿè¡¨</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â€‹</span><br><span class="line">mount /dev/sr0 /iso</span><br><span class="line"> </span><br><span class="line">echo &quot;/dev/sr0        /iso        iso9660    defaults    0 0&quot; &gt;&gt; /etc/fstab</span><br></pre></td></tr></table></figure><div class="note default orange simple"><p>ç¬¬å…­ç”Ÿæˆç¼“å­˜</p></div><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum clean all &amp;&amp; yum makecache </span><br><span class="line">yum repolist all //æŸ¥çœ‹yumä»“åº“</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¾¿å¯ä»¥ä½¿ç”¨yumå‘½ä»¤è¿›è¡Œæ“ä½œäº†ã€‚</p><p><img src="https://cdn1.tianli0.top/gh/linjiangyu2/halo/img/siMAqL1Zewz3QlJ.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> LinuxåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
